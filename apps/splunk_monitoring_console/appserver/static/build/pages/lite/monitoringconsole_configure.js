webpackJsonp([9],{0:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__webpack_require__.p=function(){function make_url(){for(var seg,len,output="",i=0,l=arguments.length;i<l;i++)seg=arguments[i].toString(),len=seg.length,len>1&&"/"==seg.charAt(len-1)&&(seg=seg.substring(0,len-1)),output+="/"!=seg.charAt(0)?"/"+seg:seg;if("/"!=output){var segments=output.split("/"),firstseg=segments[1];if("static"==firstseg||"modules"==firstseg){var postfix=output.substring(firstseg.length+2,output.length);output="/"+firstseg,window.$C.BUILD_NUMBER&&(output+="/@"+window.$C.BUILD_NUMBER),window.$C.BUILD_PUSH_NUMBER&&(output+="."+window.$C.BUILD_PUSH_NUMBER),"app"==segments[2]&&(output+=":"+getConfigValue("APP_BUILD",0)),output+="/"+postfix}}var root=getConfigValue("MRSPARKLE_ROOT_PATH","/"),djangoRoot=getConfigValue("DJANGO_ROOT_PATH",""),locale=getConfigValue("LOCALE","en-US"),combinedPath="";return combinedPath=djangoRoot&&output.substring(0,djangoRoot.length)===djangoRoot?output.replace(djangoRoot,djangoRoot+"/"+locale.toLowerCase()):"/"+locale+output,""==root||"/"==root?combinedPath:root+combinedPath}function getConfigValue(key,defaultValue){if(window.$C&&window.$C.hasOwnProperty(key))return window.$C[key];if(void 0!==defaultValue)return defaultValue;throw new Error("getConfigValue - "+key+" not set, no default provided")}return make_url("/static/app/splunk_monitoring_console/build/pages/lite")+"/"}(),__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("splunk_monitoring_console-routers/MonitoringConsoleConfigure"),__webpack_require__("util/router_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function(MonitoringConsoleConfigureRouter,router_utils){new MonitoringConsoleConfigureRouter;router_utils.start_backbone_history()}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},862:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(262)(),exports.push([module.id,".grouptag{border:1px solid #c3cbd4;border-radius:8px;background:#e1e6eb;padding:0 3px;margin-right:5px;margin-bottom:0;display:inline-block}.col-name.col-name-no-border-right{border-right:none}.col-select-all{width:20px}.col-cores,.col-ram,.col-version{width:50px}.col-name,.col-serv-name{width:140px}.col-mach-name,.col-server-roles{width:80px}.col-indexer-cluster,.col-tags{width:100px}.col-searchhead-cluster{width:130px}.col-state,.col-status{width:80px}.col-problems{width:60px}.col-actions{width:50px}a.column-tooltip.tooltip-link{top:-.5em;font-size:75%;color:#006eaa;position:relative}a.column-tooltip.tooltip-link:hover{color:#006eaa}.list-dotted{margin-left:25px}.problems span.icon-alert{width:100%;text-align:center;top:3px}.splunkmonitoringconsole-views-table-tablerow td.problems.expands{border-right:none}.splunkmonitoringconsole-views-table-tablerow td.state .enabled{color:#53a051}.splunkmonitoringconsole-views-table-tablerow td.state .disabled{color:#dc4e41}.table-row-expanding>tbody>tr>td.title>span{white-space:normal;text-overflow:clip}.section-header .standalone-switch{margin-top:5px}.section-header .mode{float:left;margin-top:10px;height:30px}.section-header .mode .input-label{font-size:16px}.section-header .mode-label{float:left;margin:10px 15px 0 0;font-size:16px}.section-header .apply-changes{margin-top:-15px;float:right;position:relative}.section-header .btn-apply-changes{float:right;transform:translateY(21px)}.section-header .btn-reset-to-factory{float:right;transform:translate(-25px,21px)}.section-header .control-group{float:left}.divider{clear:both}.help-link{margin:10px;width:80px;display:block}.splunkmonitoringconsole-views-table-controls-editinstancedialog .control-label{width:auto;text-align:center}.splunkmonitoringconsole-views-table-controls-editinstancedialog .controls{display:inline;margin:0;text-align:center}h3.smc-subtitle{padding-left:10px;padding-top:10px}h4.instance-name{margin:10px;font-weight:400;text-align:left;display:inline}h4.instance-name+a.help-link{display:inline}.form.form-horizontal{margin:10px}.table-caption{border-top:1px solid rgba(0,0,0,.2)}.splunkmonitoringconsole-views-table{overflow:auto;position:relative;background:#e1e6eb;z-index:15}.splunkmonitoringconsole-views-table tbody td{overflow:hidden;text-overflow:ellipsis}.splunkmonitoringconsole-views-table-controls-editallserverrolesdialog,.splunkmonitoringconsole-views-table-controls-editserverrolesdialog{width:350px}.modal-body{padding:10px 20px}.table-chrome>thead>tr>th.hacky-col-width-adjustment{width:15px;border-left:none}.splunkmonitoringconsole-views-table-controls-editallgroupsdialog,.splunkmonitoringconsole-views-table-controls-editgroupsdialog{width:400px}.splunkmonitoringconsole-views-table-controls-editallgroupsdialog .modal-body .instance-name,.splunkmonitoringconsole-views-table-controls-editgroupsdialog .modal-body .instance-name{text-align:center}.splunkmonitoringconsole-views-table-controls-editallgroupsdialog .form-horizontal .control-label,.splunkmonitoringconsole-views-table-controls-editgroupsdialog .form-horizontal .control-label{width:auto!important;text-align:left!important}.splunkmonitoringconsole-views-table-controls-editallgroupsdialog .form-horizontal .controls,.splunkmonitoringconsole-views-table-controls-editgroupsdialog .form-horizontal .controls{margin-left:70px}.table-caption.edit-div .shared-controls-syntheticselectcontrol{float:left;margin-top:5px}.table-row-expanding{margin-bottom:0}.table-head th{overflow:hidden}.alert{margin-bottom:0!important}.message-generic-warning-learn-more{margin-top:8px;margin-bottom:40px}",""])},"routers/BaseListings":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),__webpack_require__("routers/Base"),__webpack_require__("models/Base"),__webpack_require__("models/services/data/ui/Pref"),__webpack_require__("collections/services/authorization/Roles"),__webpack_require__("util/splunkd_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,BaseRouter,BaseModel,UIPrefsModel,RolesCollection,splunkd_utils){return BaseRouter.extend({initialize:function(){BaseRouter.prototype.initialize.apply(this,arguments),this.fetchUser=!0,this.fetchAppLocals=!0,this.stateModel=new BaseModel,this.uiPrefsModel=new UIPrefsModel,this.rawSearch=new BaseModel,this.rolesCollection=new RolesCollection},initializeAndRenderViews:function(){throw new Error("You must implement initializeAndRenderViews")},page:function(locale,app,page){BaseRouter.prototype.page.apply(this,arguments),this.rolesCollectionDeferred=this.rolesCollection.fetch(),this.uiPrefsDeferred||(this.uiPrefsDeferred=$.Deferred(),this.uiPrefsModel.bootstrap(this.uiPrefsDeferred,this.model.application.get("page"),this.model.application.get("app"),this.model.application.get("owner"))),this.deferreds.pageViewRendered.done(function(){this.shouldRender&&(this.pageView.$(".section-padded").remove(),$(".preload").replaceWith(this.pageView.el))}.bind(this)),this.$whenFetchCollectionDependencies().then(function(){this.fetchListCollection()}.bind(this)),this.$whenFetchInitializeDependencies().then(function(){this.initializeAndRenderViews()}.bind(this))},$whenFetchCollectionDependencies:function(){return $.when(this.uiPrefsDeferred)},$whenFetchInitializeDependencies:function(){return $.when(this.rolesCollectionDeferred,this.uiPrefsDeferred,this.deferreds.pageViewRendered,this.deferreds.userPref)},populateUIPrefs:function(){var data={};this.uiPrefsModel.isNew()&&(data={app:this.model.application.get("app"),owner:this.model.application.get("owner")}),this.uiPrefsModel.save({},{data:data})},fetchListCollection:function(){throw new Error("You must implement fetchListCollection")},getButtonFilterSearch:function(){var buttonFilter=this.uiPrefsModel.entry.content.get("display.prefs.aclFilter");if(_.isUndefined(buttonFilter)||"none"===buttonFilter)return"";switch(buttonFilter){case"owner":return"(eai:acl.owner="+splunkd_utils.quoteSearchFilterValue(this.model.application.get("owner"))+")";case"app":return"(eai:acl.app="+splunkd_utils.quoteSearchFilterValue(this.model.application.get("app"))+")"}}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/services/data/ui/Pref":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("models/SplunkDBase"),__webpack_require__("util/splunkd_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function($,BaseModel,splunkd_utils){var Pref=BaseModel.extend({url:"data/ui/prefs",initialize:function(){BaseModel.prototype.initialize.apply(this,arguments)},bootstrap:function(uiPrefsDeferred,page,app,owner){var uiPrefsUrl=splunkd_utils.fullpath(this.url+"/"+encodeURIComponent(page),{app:app,owner:owner}),proxyUIPrefModel=new Pref;proxyUIPrefModel.fetch({url:uiPrefsUrl,success:function(model,response){(owner||"").toLowerCase()!==proxyUIPrefModel.entry.acl.get("owner")?this.fetch({success:function(model,response){var data=$.extend(!0,{name:page},proxyUIPrefModel.entry.content.toJSON());this.entry.content.set(data),uiPrefsDeferred.resolve()}.bind(this),error:function(model,response){uiPrefsDeferred.resolve()}.bind(this)}):(this.setFromSplunkD(proxyUIPrefModel.toSplunkD()),uiPrefsDeferred.resolve())}.bind(this),error:function(model,response){this.fetch({success:function(model,response){this.entry.content.set({name:page}),uiPrefsDeferred.resolve()}.bind(this),error:function(model,response){uiPrefsDeferred.resolve()}.bind(this)})}.bind(this)})}});return Pref}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"splunk_monitoring_console-collections/Peers":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("collections/SplunkDsBase"),__webpack_require__("splunk_monitoring_console-collections/Assets"),__webpack_require__("collections/monitoringconsole/DistsearchGroups"),__webpack_require__("splunk_monitoring_console-models/Peer"),__webpack_require__("splunkjs/mvc/savedsearchmanager")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,SplunkDsBaseCollection,AssetCollection,DistsearchGroupCollection,PeerModel,SavedSearchManager){return SplunkDsBaseCollection.extend({initialize:function(){SplunkDsBaseCollection.prototype.initialize.apply(this,arguments),this.assets=new AssetCollection,this.distsearches=new DistsearchGroupCollection},model:PeerModel,url:"search/distributed/peers",fetch:function(){var dfd=$.Deferred(),fetchArguments=_.toArray(arguments);return $.when(this.distsearches.fetch({data:{search:"name=dmc_*",count:1e3}}),this.assets.fetch()).done(function(){SplunkDsBaseCollection.prototype.fetch.apply(this,fetchArguments).done(function(){dfd.resolve()}.bind(this))}.bind(this)),dfd},save:function(){var dfd=$.Deferred(),configuredPeers=this.filter(function(peer){return"Enabled"===peer.entry.content.get("status-toggle")||"Configured"===peer.entry.content.get("state")}).map(function(peer){return peer.entry.get("name")}).join(","),settingsAsset=this.assets.find(function(asset){return"settings"===asset.entry.get("name")});settingsAsset.entry.content.set("configuredPeers",configuredPeers);var indexerGroup=this.distsearches.find(function(group){return group.hasServerRole("indexer")});return indexerGroup.entry.content.set("default",!0),$.when.apply($,_.map([settingsAsset].concat(this.distsearches.models),function(model){return model.save()})).done(this._buildAssetCache("DMC Asset - Build Full").done(function(data){dfd.resolve(data)}).fail(function(){dfd.reject()})).fail(function(){dfd.reject()}),dfd},saveSelected:function(){var dfd=$.Deferred(),configuredPeers=this.filter(function(peer){return"Enabled"===peer.entry.content.get("status-toggle")||"Configured"===peer.entry.content.get("state")}).map(function(peer){return peer.entry.get("name")}).join(","),settingsAsset=this.assets.find(function(asset){return"settings"===asset.entry.get("name")});settingsAsset.entry.content.set("configuredPeers",configuredPeers);var indexerGroup=this.distsearches.find(function(group){return group.hasServerRole("indexer")});return indexerGroup.entry.content.set("default",!0),$.when.apply($,_.map([settingsAsset].concat(this.distsearches.models),function(model){return model.save()})).done(function(){dfd.resolve()}).fail(function(){dfd.reject()}),dfd},disable:function(){var dfd=$.Deferred(),settingsAsset=this.assets.find(function(asset){return"settings"===asset.entry.get("name")});settingsAsset.entry.content.set("configuredPeers",""),settingsAsset.entry.content.set("blackList","");var indexerGroup=this.distsearches.find(function(group){return group.hasServerRole("indexer")});return indexerGroup&&indexerGroup.entry.content.set("default",!1),$.when.apply($,_.map([settingsAsset].concat(this.distsearches.models),function(model){return model.save()})).done(this._buildAssetCache("DMC Asset - Build Standalone Computed Groups Only").done(function(){dfd.resolve()}).fail(function(){dfd.reject()})).fail(function(){dfd.reject()}),dfd},getAllTags:function(){return this._getAll("isCustomGroup")},getAllIndexerClusters:function(){return this._getAll("isIndexerClusterGroup")},getAllSearchHeadClusters:function(){return this._getAll("isSearchHeadClusterGroup")},_getAll:function(predicate){return this.distsearches.filter(function(group){return group[predicate].call(group)}).map(function(group){return group.getDisplayName()})},_buildAssetCache:function(cacheName){var dfd=$.Deferred(),cacheSm=new SavedSearchManager({id:"smc-create-cache-search",searchname:cacheName,cache:!1,preview:!1,app:"splunk_monitoring_console",owner:"nobody",autostart:!0,trigger_actions:!0}),resultsModel=cacheSm.data("results",{count:0});return resultsModel.on("data",function(){resultsModel.hasData()&&dfd.resolve(resultsModel.data())}),cacheSm.on("search:error search:failed",function(){dfd.reject()}),dfd}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"splunk_monitoring_console-collections/Assets":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("splunk_monitoring_console-models/Asset"),__webpack_require__("collections/SplunkDsBase")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,AssetModel,SplunkDsBaseCollection){return SplunkDsBaseCollection.extend({model:AssetModel,url:"configs/conf-splunk_monitoring_console_assets",fetch:function(options){return options=_.defaults(options||{},{count:0}),options.data=_.defaults(options.data||{},{app:"splunk_monitoring_console",owner:"nobody",count:-1}),SplunkDsBaseCollection.prototype.fetch.call(this,options)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"splunk_monitoring_console-models/Asset":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),__webpack_require__("models/SplunkDBase"),__webpack_require__("models/SplunkDWhiteList")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,SplunkDBaseModel,SplunkDWhiteListModel){var AssetWhiteListModel=SplunkDWhiteListModel.extend({initialize:function(){SplunkDWhiteListModel.prototype.initialize.apply(this,arguments)},concatOptionalRequired:function(){var previousOptional=(this.get("optional")||[]).slice();this.set("optional",(this.get("optional")||[]).concat(["configuredPeers","host","host_fqdn","indexerClusters","searchHeadClusters"]),{silent:!0});var whiteListOptAndReq=SplunkDWhiteListModel.prototype.concatOptionalRequired.apply(this,arguments);return this.set("optional",previousOptional,{silent:!0}),whiteListOptAndReq}}),AssetModel=SplunkDBaseModel.extend({url:"configs/conf-splunk_monitoring_console_assets",initialize:function(attributes,options){SplunkDBaseModel.prototype.initialize.call(this,attributes,_.defaults(options||{},{splunkDWhiteList:new AssetWhiteListModel}))},save:function(attributes,options){return this.isNew()&&(options=options||{},options.data=_.defaults(options.data||{},{app:"splunk_monitoring_console",owner:"nobody",name:this.entry.get("name")})),SplunkDBaseModel.prototype.save.call(this,attributes,options)}});return AssetModel}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"splunk_monitoring_console-models/Peer":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),__webpack_require__("models/SplunkDBase"),__webpack_require__("splunk_monitoring_console-models/Asset"),__webpack_require__("models/monitoringconsole/DistsearchGroup"),__webpack_require__("splunk_monitoring_console-mixins/DistributedSearchGroup")],__WEBPACK_AMD_DEFINE_RESULT__=function($$$,_,Backbone,SplunkDBaseModel,AssetModel,DistsearchGroupModel,DistributedSearchGroupMixin){var PeerModel=SplunkDBaseModel.extend({url:"search/distributed/peers",_hasHostOverrides:!1,_indexerClusterOverrides:!1,_searchHeadClusterOverrides:!1,initialize:function(){SplunkDBaseModel.prototype.initialize.apply(this,arguments),this.entry.content.set("configured",function(){var settingsAsset=this.collection.assets.find(function(asset){return"settings"===asset.entry.get("name")}),configuredPeers=settingsAsset.entry.content.get("configuredPeers");return configuredPeers=$$$.trim(configuredPeers)?configuredPeers.split(","):[],_.contains(configuredPeers,this.entry.get("name"))}.bind(this)()),this.entry.content.set("blackListed",function(){var settingsAsset=this.collection.assets.find(function(asset){return"settings"===asset.entry.get("name")}),blackList=settingsAsset.entry.content.get("blackList");return blackList=$$$.trim(blackList)?blackList.split(","):[],_.contains(blackList,this.entry.get("name"))}.bind(this)()),this.entry.content.get("configured")?this.entry.content.set("state","Configured"):this.entry.content.set("state","New"),this.entry.content.get("blackListed")?this.entry.content.set("status-toggle","Disabled"):this.entry.content.set("status-toggle","Enabled");var asset=this._getAsset();asset&&(_.each(["host","host_fqdn"],function(attr){asset.entry.content.get(attr)&&(this.entry.content.set(attr,asset.entry.content.get(attr)),this._hasHostOverrides=!0)},this),_.each(["indexerClusters","searchHeadClusters"],function(attr){var attrValue,arrAttr=attr+"[]";asset.entry.content.has(arrAttr)&&(attrValue=asset.entry.content.get(arrAttr),this.entry.content.set(attr,attrValue.length>0?attrValue.split(","):[]),"indexerClusters"===attr?this._indexerClusterOverrides=!0:"searchHeadClusters"===attr&&(this._searchHeadClusterOverrides=!0))},this)),DistributedSearchGroupMixin.initializeDistributedSearchGroups.call(this,this.collection.distsearches,function(){return this.entry.get("name")}.bind(this)),this.entry.content.on("change:host",this._updateHost,this),this.entry.content.on("change:host_fqdn",this._updateHostFqdn,this),this.entry.content.on("change:indexerClusters",this._updateIndexerClusters,this),this.entry.content.on("change:searchHeadClusters",this._updateSearchHeadClusters,this),this.entry.content.set("errorMessages",[]),this.entry.content.set("warningMessages",[])},save:function(){var deferred=[],asset=this._getAsset();asset&&deferred.push(asset.save());var toDestroy=[];return _.each(this.collection.distsearches.models,function(model){(model.isCustomGroup()||model.isIndexerClusterGroup()||model.isSearchHeadClusterGroup())&&0===model.getServers().length?toDestroy.push(model):deferred.push(model.save())}),_.each(toDestroy,function(model){deferred.push(model.destroy())}),$$$.when.apply($$$,deferred)},hasHostOverrides:function(value){return _.isUndefined(value)||(this._hasHostOverrides=!!value),this._hasHostOverrides},hasIndexerClusterOverride:function(value){return _.isUndefined(value)||(this._indexerClusterOverrides=!!value),this._indexerClusterOverrides},hasSearchHeadClusterOverride:function(value){return _.isUndefined(value)||(this._searchHeadClusterOverrides=!!value),this._searchHeadClusterOverrides},isConfigured:function(){var settingsAsset=this.collection.assets.find(function(asset){return"settings"===asset.entry.get("name")});if(!settingsAsset)return!1;var configuredPeers=settingsAsset.entry.content.get("configuredPeers");return configuredPeers=$$$.trim(configuredPeers)?configuredPeers.split(","):[],_.contains(configuredPeers,this.entry.get("name"))},removeAllServerRoles:function(){this.entry.content.set("active_server_roles",[]),this.entry.content.set("tags",[]),this.entry.content.set("indexerClusters",[]),this.entry.content.set("searchHeadClusters",[])},canEditHosts:function(){return this.hasHostOverrides()||!this.entry.content.get("host")||!this.entry.content.get("host_fqdn")},canEditIndexerClusters:function(){return this._isPreEmberInstance()},canEditSearchHeadClusters:function(){return this._isPreEmberInstance()||_.contains(this.entry.content.get("active_server_roles"),"shc_deployer")},_updateHost:function(){var asset=this._getAsset(!0);asset.entry.content.set("host",this.entry.content.get("host"))},_updateHostFqdn:function(){var asset=this._getAsset(!0);asset.entry.content.set("host_fqdn",this.entry.content.get("host_fqdn"))},_updateIndexerClusters:function(){var asset=this._getAsset(!0),clusters=this.entry.content.get("indexerClusters");clusters.length<1?asset.entry.content.set("indexerClusters",[""]):asset.entry.content.set("indexerClusters",clusters)},_updateSearchHeadClusters:function(){var asset=this._getAsset(!0),clusters=this.entry.content.get("searchHeadClusters");clusters.length<1?asset.entry.content.set("searchHeadClusters",[""]):asset.entry.content.set("searchHeadClusters",clusters)},_getAsset:function(create){create=!_.isUndefined(create);var asset=this.collection.assets.find(function(asset){return asset.entry.get("name")===this.entry.get("name")},this);return!asset&&create&&(asset=new AssetModel,asset.entry.set("name",this.entry.get("name")),this.collection.assets.add(asset)),asset},_isPreEmberInstance:function(){var version=this.entry.content.get("version");return 0===version.indexOf("6.1")||0===version.indexOf("6.2")}},DistributedSearchGroupMixin.staticMembers);return _.extend(PeerModel.prototype,DistributedSearchGroupMixin),PeerModel}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"splunk_monitoring_console-mixins/DistributedSearchGroup":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("models/monitoringconsole/DistsearchGroup")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,DistsearchGroupModel){var VALID_PRIMARY_ROLES=["search_head","cluster_master","license_master","indexer","deployment_server","kv_store","shc_deployer"],getAllPrimaryRoles=function(){return VALID_PRIMARY_ROLES.slice()},serverRolesI18n={"Search Head":_("Search Head").t(),"Cluster Master":_("Cluster Master").t(),"License Master":_("License Master").t(),Indexer:_("Indexer").t(),"Deployment Server":_("Deployment Server").t(),"KV Store":_("KV Store").t(),"SHC Deployer":_("SHC Deployer").t()};return{distributedSearchGroupsCollection:null,getServerName:null,VALID_PRIMARY_ROLES:VALID_PRIMARY_ROLES,containsRole:function(partialRole){var serverRolesArr=this.getActiveServerRolesToString(),customRolesArr=this.entry.content.get("tags"),allRolesArr=_.union([],serverRolesArr,customRolesArr);return _.reduce(allRolesArr,function(memo,role){return memo||role.toLowerCase().indexOf(partialRole.toLowerCase())!==-1},!1)},getServerRoleI18n:function(roleId){return serverRolesI18n[this.getServerRoleToString(roleId)]},getServerRoleToString:function(roleId){return"kv_store"===roleId?"KV Store":"shc_deployer"===roleId?"SHC Deployer":roleId.replace(/_/g," ").replace(/\b([a-z])/g,function(letter){return letter.toUpperCase()})},getRoleGroupName:function(roleId){return DistsearchGroupModel.GROUP_NAME_PREFIX+roleId},getRoleFromGroupName:function(groupName){return groupName.substr(DistsearchGroupModel.GROUP_NAME_PREFIX.length)},getCustomGroupNameFromGroupName:function(groupName){return groupName.substr(DistsearchGroupModel.CUSTOM_GROUP_NAME_PREFIX.length)},getCustomGroupName:function(tagName){return DistsearchGroupModel.CUSTOM_GROUP_NAME_PREFIX+tagName},getIndexerClusterGroupNameFromGroupName:function(groupName){return groupName.substr(DistsearchGroupModel.INDEXER_CLUSTER_GROUP_NAME_PREFIX.length)},getIndexerClusterGroupName:function(name){return DistsearchGroupModel.INDEXER_CLUSTER_GROUP_NAME_PREFIX+name},getSearchHeadClusterGroupNameFromGroupName:function(groupName){return groupName.substr(DistsearchGroupModel.SEARCH_HEAD_CLUSTER_GROUP_NAME_PREFIX.length)},getSearchHeadClusterGroupName:function(name){return DistsearchGroupModel.SEARCH_HEAD_CLUSTER_GROUP_NAME_PREFIX+name},initializeDistributedSearchGroups:function(distributedSearchGroupsCollection,getServerName){if(this.distributedSearchGroupsCollection=distributedSearchGroupsCollection||this.distributedSearchGroupsCollection,this.getServerName=getServerName||this.getServerName,!this.distributedSearchGroupsCollection)throw Error("Distributed search groups mixin requires a collection argument");if(!this.getServerName)throw Error("Distributed search groups mixin requires a getServerName argument");var storedRoles=this._serverRolesFromGroups(),updateGroups=!1;0===storedRoles.length&&"Disabled"!==this.entry.content.get("status-toggle")&&(storedRoles=this._serverRolesFromInternalRoles(),updateGroups=storedRoles.length>0),this.entry.content.set("active_server_roles",storedRoles),updateGroups&&this._updateDistributedSearchGroups(),this.entry.content.on("change:active_server_roles",this._updateActiveServerRoles,this),this._updateClusterLabelsForRoles();var storedCustomGroups=this._customGroupsFromGroups();this.entry.content.set("tags",storedCustomGroups),this.entry.content.on("change:tags",this._updateCustomSearchGroups,this),this.entry.content.set("indexerClusters","Disabled"===this.entry.content.get("status-toggle")?[]:_.isUndefined(this.entry.content.get("indexerClusters"))?this._indexerClustersFromInternal():this.entry.content.get("indexerClusters")),this._updateIndexerClusterSearchGroups(),this.entry.content.on("change:indexerClusters",this._updateIndexerClusterSearchGroups,this),this.entry.content.set("searchHeadClusters","Disabled"===this.entry.content.get("status-toggle")?[]:_.isUndefined(this.entry.content.get("searchHeadClusters"))?this._searchHeadClustersFromInternal():this.entry.content.get("searchHeadClusters")),this._updateSearchHeadClusterSearchGroups(),this.entry.content.on("change:searchHeadClusters",this._updateSearchHeadClusterSearchGroups,this),this.entry.content.validate=function(attrs){if(!(_.isUndefined(attrs.active_server_roles)||_.isArray(attrs.active_server_roles)&&0!==attrs.active_server_roles.length))return _("You must provide at least one server role.").t();var errorMessage=null;return _.each([{prop:"tags",message:_("Group names must only contain alphanumeric characters, dashes, or underscores.").t()},{prop:"indexerClusters",message:_("Indexer cluster names must only contain alphanumeric characters, dashes, or underscores.").t()},{prop:"searchHeadClusters",message:_("Search head cluster names must only contain alphanumeric characters, dashes, or underscores.").t()}],function(tuple){_.isUndefined(attrs[tuple.prop])||_.find(attrs[tuple.prop],function(name){return/[^a-zA-Z0-9_\-]/.test(name)})&&(errorMessage=tuple.message)},this),null!==errorMessage?errorMessage:_.isUndefined(attrs.host)||_.isString(attrs.host)&&""!==$.trim(attrs.host)?_.isUndefined(attrs.host_fqdn)||_.isString(attrs.host_fqdn)&&""!==$.trim(attrs.host_fqdn)?void 0:_("Please enter a valid machine name.").t():_("Please enter a valid instance name.").t()}.bind(this)},getActiveServerRolesToString:function(){return _.map(this.entry.content.get("active_server_roles"),this.getServerRoleToString)},resetInitialInternalServerRoles:function(){var storedRoles=this._serverRolesFromInternalRoles();this.entry.content.set("active_server_roles",storedRoles),this.entry.content.set("indexerClusters",this._indexerClustersFromInternal()),this.entry.content.set("searchHeadClusters",this._searchHeadClustersFromInternal())},canEditInstanceDetails:function(){return this.canEditHosts()||this.canEditIndexerClusters()||this.canEditSearchHeadClusters()},_serverRolesFromGroups:function(){return this.distributedSearchGroupsCollection.filter(function(group){return!group.isCustomGroup()&&!group.isIndexerClusterGroup()&&!group.isSearchHeadClusterGroup()&&_.contains(group.getServers(),this.getServerName())},this).map(function(group){return this.getRoleFromGroupName(group.getGroupName())},this)},_serverRolesFromInternalRoles:function(){var internalRoles=this.entry.content.get("server_roles");_.isArray(internalRoles)||(internalRoles=_.keys(internalRoles));var internalPrimaryRoles=_.intersection(internalRoles,getAllPrimaryRoles());return _.union(internalPrimaryRoles,this.requiredRoles||[])},_customGroupsFromGroups:function(){return this.distributedSearchGroupsCollection.filter(function(group){return group.isCustomGroup()&&_.contains(group.getServers(),this.getServerName())},this).map(function(group){return this.getCustomGroupNameFromGroupName(group.getGroupName())},this)},_indexerClustersFromInternal:function(){var internalClusters=this.entry.content.get("cluster_label");return _.isUndefined(internalClusters)||_.isEmpty(internalClusters)?[]:(_.isArray(internalClusters)||(internalClusters=[internalClusters]),internalClusters)},_searchHeadClustersFromInternal:function(){var internalClusters=this.entry.content.get("shcluster_label");return _.isUndefined(internalClusters)||_.isEmpty(internalClusters)?[]:(_.isArray(internalClusters)||(internalClusters=[internalClusters]),internalClusters)},_indexerClustersFromGroups:function(){return this.distributedSearchGroupsCollection.filter(function(group){return group.isIndexerClusterGroup()&&_.contains(group.getServers(),this.getServerName())},this).map(function(group){return this.getIndexerClusterGroupNameFromGroupName(group.getGroupName())},this)},_searchHeadClustersFromGroups:function(){return this.distributedSearchGroupsCollection.filter(function(group){return group.isSearchHeadClusterGroup()&&_.contains(group.getServers(),this.getServerName())},this).map(function(group){return this.getSearchHeadClusterGroupNameFromGroupName(group.getGroupName())},this)},_updateActiveServerRoles:function(){this._updateClusterLabelsForRoles(),this._updateDistributedSearchGroups()},_updateDistributedSearchGroups:function(){_.each(VALID_PRIMARY_ROLES,function(primaryRole){var roleGroup=this.distributedSearchGroupsCollection.find(function(group){return this.getRoleFromGroupName(group.getGroupName())===primaryRole},this);roleGroup||(roleGroup=new DistsearchGroupModel,roleGroup.setName(this.getRoleGroupName(primaryRole)),roleGroup.setServers([]),roleGroup.setSearchMode("indexer"===primaryRole?"default":"light"),
roleGroup.setDefault("indexer"===primaryRole),this.distributedSearchGroupsCollection.add(roleGroup))},this),_(this.distributedSearchGroupsCollection.filter(function(group){return!group.isCustomGroup()&&!group.isIndexerClusterGroup()&&!group.isSearchHeadClusterGroup()},this)).each(function(distsearch){var groupName=distsearch.getGroupName(),groupRole=groupName.substr(DistsearchGroupModel.GROUP_NAME_PREFIX.length);_.contains(this.entry.content.get("active_server_roles"),groupRole)?distsearch.addServer(this.getServerName()):distsearch.removeServer(this.getServerName())},this)},_updateCustomSearchGroups:function(){var customGroups=_(this.distributedSearchGroupsCollection.filter(function(group){return group.isCustomGroup()}));_.each(this.entry.content.get("tags"),function(tagName){var customGroup=customGroups.find(function(group){return this.getCustomGroupNameFromGroupName(group.getGroupName())===tagName},this);customGroup||(customGroup=new DistsearchGroupModel,customGroup.setName(this.getCustomGroupName(tagName)),customGroup.setServers([]),customGroup.setDefault(!1),this.distributedSearchGroupsCollection.add(customGroup))},this),customGroups=_(this.distributedSearchGroupsCollection.filter(function(group){return group.isCustomGroup()})),customGroups.each(function(group){var groupName=group.getGroupName(),customGroupName=this.getCustomGroupNameFromGroupName(groupName);_.contains(this.entry.content.get("tags"),customGroupName)?group.addServer(this.getServerName()):group.removeServer(this.getServerName())},this)},_updateIndexerClusterSearchGroups:function(){var existingGroups=_(this.distributedSearchGroupsCollection.filter(function(group){return group.isIndexerClusterGroup()}));_.each(this.entry.content.get("indexerClusters"),function(clusterName){var group=existingGroups.find(function(g){return this.getIndexerClusterGroupNameFromGroupName(g.getGroupName())===clusterName},this);group||(group=new DistsearchGroupModel,group.setName(this.getIndexerClusterGroupName(clusterName)),group.setServers([]),group.setDefault(!1),this.distributedSearchGroupsCollection.add(group))},this),existingGroups=_(this.distributedSearchGroupsCollection.filter(function(group){return group.isIndexerClusterGroup()})),existingGroups.each(function(group){var groupName=group.getGroupName(),indexerClusterGroupName=this.getIndexerClusterGroupNameFromGroupName(groupName);_.contains(this.entry.content.get("indexerClusters"),indexerClusterGroupName)?group.addServer(this.getServerName()):group.removeServer(this.getServerName())},this)},_updateSearchHeadClusterSearchGroups:function(){var existingGroups=_(this.distributedSearchGroupsCollection.filter(function(group){return group.isSearchHeadClusterGroup()}));_.each(this.entry.content.get("searchHeadClusters"),function(clusterName){var group=existingGroups.find(function(g){return this.getSearchHeadClusterGroupNameFromGroupName(g.getGroupName())===clusterName},this);group||(group=new DistsearchGroupModel,group.setName(this.getSearchHeadClusterGroupName(clusterName)),group.setServers([]),group.setDefault(!1),this.distributedSearchGroupsCollection.add(group))},this),existingGroups=_(this.distributedSearchGroupsCollection.filter(function(group){return group.isSearchHeadClusterGroup()})),existingGroups.each(function(group){var groupName=group.getGroupName(),searchHeadClusterGroupName=this.getSearchHeadClusterGroupNameFromGroupName(groupName);_.contains(this.entry.content.get("searchHeadClusters"),searchHeadClusterGroupName)?group.addServer(this.getServerName()):group.removeServer(this.getServerName())},this)},_updateClusterLabelsForRoles:function(){var activeServerRoles=this.entry.content.get("active_server_roles"),currentSearchHeadClusters=this.entry.content.get("searchHeadClusters")||[],currentIndexerClusters=this.entry.content.get("indexerClusters")||[];0===_.intersection(activeServerRoles,["search_head","shc_deployer"]).length?this.entry.content.set("searchHeadClusters",[]):0===currentSearchHeadClusters.length&&this.entry.content.set("searchHeadClusters",this._searchHeadClustersFromInternal()),0===_.intersection(activeServerRoles,["indexer","search_head","cluster_master"]).length?this.entry.content.set("indexerClusters",[]):0===currentIndexerClusters.length&&this.entry.content.set("indexerClusters",this._indexerClustersFromInternal())},staticMembers:{getAllPrimaryRoles:getAllPrimaryRoles}}}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"splunkjs/mvc/savedsearchmanager":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var SearchManager=__webpack_require__("splunkjs/mvc/searchmanager"),_=__webpack_require__("require/underscore"),console=__webpack_require__("util/console"),Messages=__webpack_require__("splunkjs/mvc/messages"),GeneralUtils=__webpack_require__("util/general_utils"),Report=__webpack_require__("models/search/Report"),Job=__webpack_require__("models/search/Job"),DispatchJob=__webpack_require__("models/search/DispatchJob"),utils=__webpack_require__("splunkjs/mvc/utils"),splunkDUtils=__webpack_require__("util/splunkd_utils"),splunkConfig=__webpack_require__("stubs/splunk.config"),TokenUtils=__webpack_require__("splunkjs/mvc/tokenutils"),DISPATCHABLE_PROPERTIES=DispatchJob.DISPATCHABLE_PROPERTIES,ENDPOINT_PROPERTIES={trigger_actions:!0},SavedSearchManager=SearchManager.extend({moduleId:module.id,defaults:{autostart:!0,cache:!1,cancelOnUnload:!0,enablePreview:!0,runWhenTimeIsUndefined:!0},handleAutostart:function(){return this.get("autostart")?this.on("change:searchname",this._debouncedStartSearch,this):this.off("change:searchname",this._debouncedStartSearch,this),SearchManager.prototype.handleAutostart.apply(this,arguments)},createManager:function(job){var tokenDependencies=this.settings.get("tokenDependencies",{tokens:!0});return TokenUtils.tokenDependenciesMet(tokenDependencies,this.registry)?void SearchManager.prototype.createManager.call(this,job):void this.trigger("search:error",Messages.resolve("unresolved-tokens").message)},startSearch:function(options){if("boolean"==typeof options||"refresh"===options?options={refresh:!!options}:options||(options={}),this._refresh=options.refresh,!this.get("searchname"))return void this.trigger("search:error",_("No saved search provided.").t());var cache=this.get("cache")||!1;"scheduled"!==cache&&(cache=_.isBoolean(cache)||GeneralUtils.isBooleanEquivalent(cache)?GeneralUtils.normalizeBoolean(cache)?-1:0:parseInt(cache,10)),_.isNaN(cache)&&(console.warn("Invalid value for cache setting: %o",this.get("cache")),cache=0);var threshold=cache<0?new Date(0).valueOf():(new Date).valueOf()-1e3*cache,tokenDependencies=this.settings.get("tokenDependencies",{tokens:!0});if(!TokenUtils.tokenDependenciesMet(tokenDependencies,this.registry))return void this.trigger("search:error",Messages.resolve("unresolved-tokens").message);var search=new Report;search.set("id",this.applyModelFullPathToName(search,this.get("searchname")));var that=this;return search.fetch({success:function(){that.settings.set("search",search.entry.content.get("search"),{silent:!0});var cacheDisabled=0===cache||"scheduled"===cache&&!search.entry.content.get("is_scheduled");return cacheDisabled?void that._startSearchWithNewJob(search):void("scheduled"===cache?search.getLatestHistoricJobId().then(function(sid){if(sid){var job=new Job;job.set(job.idAttribute,sid),job.fetch({success:function(){that._startSearchWithExistingJob(job)},error:function(){that._startSearchWithNewJob(search)}})}else that._startSearchWithNewJob(search)}).fail(function(){that._startSearchWithNewJob(search)}):search.fetchJobs({success:function(jobs){var matches=jobs.filter(function(potentialJob){var properties=potentialJob.entry.content,published=new Date(potentialJob.entry.get("published")).valueOf(),isRunningRealTimeSearch=properties.get("isRealTimeSearch")&&!properties.get("isDone");return published>threshold||isRunningRealTimeSearch});if(matches.length){var mostRecentJobMatch=_.max(matches,function(match){return new Date(match.entry.get("published"))});that._startSearchWithExistingJob(mostRecentJobMatch)}else that._startSearchWithNewJob(search)},error:function(){that._startSearchWithNewJob(search)}}))},error:function(model,response){var err=splunkDUtils.convertToSDKResponse(response);if(404===err.status){var message=_("Warning: saved search not found: ").t()+'"'+that.get("searchname")+'"';console.log(message),that.trigger("search:error",message,err)}else console.log("Error fetching saved searches"),that.trigger("search:error",_("Error fetching saved searches").t(),err)}}),this},_startSearchWithExistingJob:function(job){this.createManager(job)},_startSearchWithNewJob:function(search){var that=this,timeRangeIsUnresolved=void 0===this.settings.get("earliest_time",{tokens:!1})&&this.settings.get("earliest_time",{tokens:!0})||void 0===this.settings.get("latest_time",{tokens:!1})&&this.settings.get("latest_time",{tokens:!0});if(timeRangeIsUnresolved&&!this.settings.get("runWhenTimeIsUndefined"))return void this.trigger("search:error",Messages.resolve("unresolved-search").message);var dispatchJob=new DispatchJob,dispatchLink=search.entry.links.get("dispatch"),dispatchUrl=splunkDUtils.fullpath(dispatchLink);dispatchJob.save({},{url:dispatchUrl,data:this._createOptionsForSearchJob(),success:function(){that.createManager(dispatchJob)},error:function(model,response){var err=splunkDUtils.convertToSDKResponse(response);that.trigger("search:error",_("Error dispatching saved search.").t(),err)}})},_createOptionsForSearchJob:function(){return _.reduce(this.settings.toJSON(),function(accum,value,setting){return(_.has(DISPATCHABLE_PROPERTIES,setting)||_.has(ENDPOINT_PROPERTIES,setting))&&(accum[setting]=value),accum},{})},applyModelFullPathToName:function(model,name){return/^\/services.*/i.test(name)||(name=splunkDUtils.fullpath(model.url+"/"+encodeURIComponent(name),{app:this.settings.get("app")||utils.getCurrentApp(),owner:this.settings.get("owner")||splunkConfig.USERNAME})),name}});return SavedSearchManager}.call(exports,__webpack_require__,exports,module),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/search/DispatchJob":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),__webpack_require__("models/search/Job")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,JobModel){var DISPATCHABLE_PROPERTIES={status_buckets:!0,buckets:!0,earliest_time:!0,indexedRealtime:!0,latest_time:!0,enable_lookups:!0,lookups:!0,max_count:!0,max_time:!0,reduce_freq:!0,rt_backfill:!0,spawn_process:!0,time_format:!0,ttl:!0,auto_cancel:!0,auto_pause:!0,enablePreview:!0,adhoc_search_level:!0,workload_pool:!0,check_risky_command:!0,provenance:!0},DISPATCH_MAPPINGS={status_buckets:"buckets",enable_lookups:"lookups"},Model=JobModel.extend({getCreateOptions:function(options){var createOptions={processData:!0,data:{auto_cancel:Model.DEFAULT_AUTO_CANCEL,status_buckets:300,output_mode:"json"}};return options=options||{},$.extend(!0,createOptions,options),delete createOptions.data.app,delete createOptions.data.owner,delete createOptions.data.sharing,_.each(createOptions.data,function(val,key){_.has(DISPATCHABLE_PROPERTIES,key)&&(createOptions.data["dispatch."+(DISPATCH_MAPPINGS[key]||key)]=val,delete createOptions.data[key])}),createOptions}},{DISPATCHABLE_PROPERTIES:DISPATCHABLE_PROPERTIES,DISPATCH_MAPPINGS:DISPATCH_MAPPINGS});return Model}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"collections/services/data/LookupTableFiles":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("models/services/data/LookupTableFile"),__webpack_require__("collections/SplunkDsBase")],__WEBPACK_AMD_DEFINE_RESULT__=function(LookupTableFileModel,SplunkDsBaseCollection){return SplunkDsBaseCollection.extend({model:LookupTableFileModel,url:"data/lookup-table-files",initialize:function(){SplunkDsBaseCollection.prototype.initialize.apply(this,arguments)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"splunk_monitoring_console-models/LocalInstance":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),__webpack_require__("models/services/server/ServerInfo"),__webpack_require__("splunk_monitoring_console-mixins/DistributedSearchGroup")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,ServerInfoModel,DistributedSearchGroupMixin){var STANDALONE_ROLES=["indexer","search_head","license_master"],LOCALHOST_IDENTIFIER="localhost:localhost",LocalInstanceModel=ServerInfoModel.extend({_distsearchGroups:null,initialize:function(attributes,options){if(ServerInfoModel.prototype.initialize.call(this,attributes,options),this._distsearchGroups=options.distsearchGroups,!this._distsearchGroups)throw Error("LocalInstanceModel requires a distsearchGroups argument");this.on("sync",function(){this.entry.set("name",""),this.populateSearchHeadClustersFromGroups(),DistributedSearchGroupMixin.initializeDistributedSearchGroups.call(this,this._distsearchGroups,function(){return LOCALHOST_IDENTIFIER})},this),this.entry.content.set("type","localInstance"),this.entry.content.set("state","Configured"),this.entry.content.set("status-toggle","Enabled"),this.entry.content.set("errorMessages",[]),this.entry.content.set("warningMessages",[])},save:function(){return $.when.apply($,_.map(this._distsearchGroups.models,function(model){return model.save()}))},hasHostOverrides:function(value){return!1},hasIndexerClusterOverride:function(){return!1},hasSearchHeadClusterOverride:function(){return!1},canEditHosts:function(){return!1},canEditIndexerClusters:function(){return!1},canEditSearchHeadClusters:function(){return!!_.contains(this.entry.content.get("active_server_roles"),"shc_deployer")},isConfigured:function(){return!0},removeAllServerRoles:function(){this.entry.content.set("active_server_roles",[]),this.entry.content.set("tags",[]),this.entry.content.set("indexerClusters",[]),this.entry.content.set("searchHeadClusters",[])},populateSearchHeadClustersFromGroups:function(){this.entry.content.set("searchHeadClusters",_.map(this._distsearchGroups.filter(function(group){return group.isSearchHeadClusterGroup()&&_.contains(group.getServers(),LOCALHOST_IDENTIFIER)},this),function(group){return group.getDisplayName()},this))},requiredRoles:STANDALONE_ROLES},DistributedSearchGroupMixin.staticMembers);return _.extend(LocalInstanceModel.prototype,DistributedSearchGroupMixin),LocalInstanceModel}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"splunk_monitoring_console-views/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("models/services/data/ui/Nav"),__webpack_require__("collections/shared/FlashMessages"),__webpack_require__("views/Base"),__webpack_require__("splunk_monitoring_console-views/Title"),__webpack_require__("splunk_monitoring_console-views/table/Master"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("views/shared/controls/LabelControl"),__webpack_require__("views/shared/FlashMessagesLegacy"),__webpack_require__("splunk_monitoring_console-views/table/controls/ConfigureAllConfirmationDialog"),__webpack_require__("splunk_monitoring_console-views/table/controls/FailureDialog"),__webpack_require__("splunk_monitoring_console-views/table/controls/SimpleDialog"),__webpack_require__("splunk_monitoring_console-views/table/controls/ErrorDialog"),__webpack_require__("splunk_monitoring_console-views/table/controls/UserConfirmationDialog"),__webpack_require__("splunk_monitoring_console-views/table/controls/ResetToFactoryModeConfirmationDialog"),__webpack_require__("splunk_monitoring_console-views/table/controls/DistributedModeWarningDialog"),__webpack_require__("shim/splunk.util"),__webpack_require__("util/splunkd_utils"),__webpack_require__("splunk_monitoring_console-views/Master.pcss")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,Nav,FlashMessagesCollection,BaseView,TitleView,TableView,ControlGroup,LabelControl,FlashMessagesView,ConfigureAllConfirmationDialog,FailureDialog,SimpleDialog,ErrorDialog,UserConfirmationDialog,ResetToFactoryModeConfirmationDialog,DistributedModeWarningDialog,util,splunkd_utils,css){var DMC_DUPLICATE_INSTANCE_NAME_ERROR=_("Duplicate instance name. Ensure each instance has a unique instance (host) name.").t(),DMC_DUPLICATE_SPLUNK_SERVER_NAME_ERROR=_("Duplicate splunk server name. Each instance needs a unique value of serverName in server.conf.").t(),DMC_EMPTY_INSTANCE_NAME_ERROR=_("Empty instance name. Click Edit and ensure each instance has a unique instance (host) name.").t(),DMC_EMPTY_MACHINE_NAME_ERROR=_("Empty machine name. Click Edit and ensure each instance has a machine name.").t(),DMC_OLD_VERSION_ERROR=_("This instance's Splunk version is too old. Ensure each instance is at least version 6.1.").t(),DMC_BOTH_SEARCH_HEAD_AND_INDEXER_WARNING_SPECIFIC=_("This instance is both a search head and an indexer. We strongly discourage this configuration.").t(),DMC_BOTH_SEARCH_HEAD_AND_INDEXER_WARNING_GENERIC=_("At least one of your instances is both a search head and an indexer. We strongly discourage this configuration.").t(),DMC_BOTH_CLUSTER_MASTER_AND_INDEXER_WARNING_SPECIFIC=(_("This instance is an indexer with a KV store. We strongly discourage this configuration.").t(),_("At least one of your instances is both an indexer with a KV store. We strongly discourage this configuration.").t(),_("This instance is both a cluster master and an indexer. We strongly discourage this configuration.").t()),DMC_BOTH_CLUSTER_MASTER_AND_INDEXER_WARNING_GENERIC=_("At least one of your instances is both a cluster master and an indexer. We strongly discourage this configuration.").t(),DMC_INSTANCE_NOT_FORWARDING_LOGS_GENERIC=_("At least one of your instances is not forwarding its internal logs.").t(),DMC_INSTANCE_NOT_FORWARDING_LOGS_SPECIFIC=_("This instance is not forwarding its internal logs.").t(),DMC_INSTANCE_FORWARDING_STATE_UNKNOWN=_("The forwarding state of this instance cannot be determined.").t(),DMC_DEPLOYMENT_SERVER_PLUS_OTHER_ROLES_SPECIFIC=_("This instance is a deployment server plus other non-deployer roles. We recommend only deployer roles per deployment server.").t(),DMC_DEPLOYMENT_SERVER_PLUS_OTHER_ROLES_GENERIC=_("At least one of your instances is a deployment server plus other non-deployer roles. We recommend only deployer roles per deployment server.").t(),DMC_SHC_DEPLOYER_PLUS_OTHER_ROLES_SPECIFIC=_("This instance is a search head deployer plus other non-deployer roles. We recommend only deployer roles per search head deployer.").t(),DMC_SHC_DEPLOYER_PLUS_OTHER_ROLES_GENERIC=_("At least one of your instances is a search head deployer plus other non-deployer roles. We recommend only deployer roles per search head deployer.").t(),DMC_INDEXER_PLUS_OTHER_ROLES_SPECIFIC=_("This instance is an indexer plus other roles. We recommend only one role per indexer.").t(),DMC_INDEXER_PLUS_OTHER_ROLES_GENERIC=_("At least one of your instances is an indexer plus other roles. We recommend only one role per indexer.").t(),DMC_INDEXER_CLUSTER_IS_GUID_SPECIFIC=_("This instance appears to have no indexer cluster label set. We recommend you set the indexer cluster label on the cluster master.").t(),DMC_INDEXER_CLUSTER_IS_GUID_GENERAL=_("At least one of your instances appears to have no indexer cluster label set. We recommend you set the indexer cluster label on the cluster master.").t(),DMC_SEARCH_HEAD_CLUSTER_IS_GUID_SPECIFIC=_("This instance appears to have no search head cluster label set. We recommend you set the search head cluster on any search head cluster member.").t(),DMC_SEARCH_HEAD_CLUSTER_IS_GUID_GENERAL=_("At least one of your instances appears to have no search head cluster label set. We recommend you set the search head cluster on any search head cluster member.").t(),DMC_SHC_DEPLOYER_NO_CLUSTER_SPECIFIC=_("This instance is a search head deployer without a search head cluster label. We recommend you edit this instance to set its search head cluster label.").t(),DMC_SHC_DEPLOYER_NO_CLUSTER_GENERAL=_("At least one of your instances is a search head deployer without a search head cluster label. We recommend you edit these instances to set their search head cluster labels.").t(),DMC_GENERIC_ERROR_MESSAGE=_("You have some unresolved errors that need to be fixed before you can proceed.").t(),DMC_LOADING_MESSAGE=_("Please wait while we save your configuration.").t(),DMC_CONFIGURE_ALL_CONFIRMATION_MESSAGE=_("Your changes have been applied.").t()+"<p><strong>"+_("It may take a few minutes for your instances to be updated.").t()+"</strong></p>",DMC_STANDALONE_MODE_LABEL=_("Standalone").t(),DMC_DISTRIBUTED_MODE_LABEL=_("Distributed").t(),DMC_STANDALONE_PATTERN=/^DMC Asset - Build Standalone Asset Table$/,GUID_REGEX=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,generateNotRespondPeerErrorMessage=function(){var url=util.make_url("/manager/splunk_monitoring_console/search/distributed/peers");return _("Unable to connect to this instance. Go ").t()+"<a target='_blank' href='"+url+"''>here</a>"+_(" and ensure this instance has been configured properly.").t()},getPeersErrorMessage=function(peersNotWritten){if(!peersNotWritten.length)return null;var firstPart=_("Configuration for instance ").t();if(1===peersNotWritten.length)firstPart+="<b>"+peersNotWritten[0]+"</b>";else if(2===peersNotWritten.length)firstPart+="<b>"+peersNotWritten[0]+"</b>"+_(" and ").t()+"<b>"+peersNotWritten[1]+"</b>";else{var theRest=peersNotWritten.length-2;firstPart+="<b>"+peersNotWritten[0]+"</b>"+_(" and ").t()+"<b>"+peersNotWritten[1]+"</b>, "+_("and ").t()+"<b>"+theRest+"</b>"+_(" more").t()}firstPart+=_(" could not be written.").t();var secondPart=_("Please make sure these instances are up. Check ").t()+'<a href="'+util.make_url("/manager/splunk_monitoring_console/search/distributed/peers")+'">'+_("settings").t()+"</a> "+_("for more information.").t();return firstPart+" "+secondPart};return BaseView.extend({moduleId:module.id,_originallyConfigured:null,initialize:function(){if(BaseView.prototype.initialize.apply(this,arguments),this._originallyConfigured=this.model.appLocal.entry.content.get("configured"),this.collection=this.collection||{},this.collection.flashMessages=new FlashMessagesCollection,this.children.flashMessages=new FlashMessagesView({collection:this.collection.flashMessages,escape:!1}),this.children.title=new TitleView,this._isModeSwitchVisible())this.children.standaloneSwitch=new ControlGroup({controlClass:"standalone-switch",controlType:"SyntheticRadio",controlOptions:{model:this.model.appLocal.entry.content,modelAttribute:"configured",className:"btn-group",items:[{value:!1,label:DMC_STANDALONE_MODE_LABEL},{value:!0,label:DMC_DISTRIBUTED_MODE_LABEL}]}});else{this.children.standaloneSwitch=new LabelControl({additionalClassNames:"mode"});var currentMode=_("Mode: ").t()+("1"==this.model.appLocal.entry.content.get("configured")?DMC_DISTRIBUTED_MODE_LABEL:DMC_STANDALONE_MODE_LABEL);this.children.standaloneSwitch.setValue(currentMode)}this.children.localInstanceTable=new TableView({model:{state:this.model.state,appLocal:this.model.appLocal,application:this.model.application,localInstance:this.model.localInstance},collection:{peers:this.collection.peers}}),this.children.table=new TableView({model:{state:this.model.state,appLocal:this.model.appLocal,application:this.model.application},collection:{peers:this.collection.peers}}),this.children.confirmResetDialog=new ResetToFactoryModeConfirmationDialog({model:this.model,collection:this.collection}),this.model.appLocal.entry.content.on("change:configured",this._updateConfigured,this),this.model.state.on("change:changesMade",this._updateChangesMade,this)},events:$.extend({},BaseView.prototype.events,{"click .btn.configure":function(e){e.preventDefault(),this.collection.flashMessages.reset();var peersDfd=null;if(this.model.appLocal.entry.content.get("configured")){this.model.localInstance.entry.content.set("errorMessages",[]),this.model.localInstance.entry.content.set("warningMessages",[]),this.collection.peers.each(function(peer){peer.entry.content.set("errorMessages",[]),peer.entry.content.set("warningMessages",[])});var peersPlusLocal=_(this.collection.peers.toArray().concat([this.model.localInstance])),has_error=!1,has_warning=!1;this._cannotConnectToServers()&&(has_error=!0);var duplicateInstanceMap={};peersPlusLocal.each(function(peer){if("Enabled"===peer.entry.content.get("status-toggle")){var host=peer.entry.content.get("host");if($.trim(host))if(duplicateInstanceMap[host]){var duplicatePeer=duplicateInstanceMap[host];duplicatePeer.entry.content.get("errorMessages").push(DMC_DUPLICATE_INSTANCE_NAME_ERROR),peer.entry.content.get("errorMessages").push(DMC_DUPLICATE_INSTANCE_NAME_ERROR),has_error=!0}else duplicateInstanceMap[host]=peer}}.bind(this));var duplicateSplunkServerMap={};peersPlusLocal.each(function(peer){if("Enabled"===peer.entry.content.get("status-toggle")){var splunk_server=peer.entry.content.get("peerName");if($.trim(splunk_server))if(duplicateSplunkServerMap[splunk_server]){var duplicatePeer=duplicateInstanceMap[splunk_server];duplicatePeer.entry.content.get("errorMessages").push(DMC_DUPLICATE_SPLUNK_SERVER_NAME_ERROR),peer.entry.content.get("errorMessages").push(DMC_DUPLICATE_SPLUNK_SERVER_NAME_ERROR),has_error=!0}else duplicateSplunkServerMap[splunk_server]=peer}}.bind(this)),this.collection.peers.each(function(peer){var splunkVersion=peer.entry.content.get("version"),versionSplit=splunkVersion?splunkVersion.split("."):[],majorVersion=!!versionSplit.length&&+versionSplit[0],minorVersion=!!versionSplit.length&&+versionSplit[1];"Enabled"===peer.entry.content.get("status-toggle")&&($.trim(peer.entry.content.get("host"))||(peer.entry.content.get("errorMessages").push(DMC_EMPTY_INSTANCE_NAME_ERROR),has_error=!0),$.trim(peer.entry.content.get("host_fqdn"))||(peer.entry.content.get("errorMessages").push(DMC_EMPTY_MACHINE_NAME_ERROR),has_error=!0),(_.isNaN(majorVersion)||_.isNaN(minorVersion)||6===majorVersion&&minorVersion<1||majorVersion<6)&&(peer.entry.content.get("errorMessages").push(DMC_OLD_VERSION_ERROR),has_error=!0))}.bind(this));var allInstances=this.collection.peers.toArray().concat([this.model.localInstance]),verificationMessages=[],shWithIndexers=_.filter(allInstances,function(instance){if("Enabled"===instance.entry.content.get("status-toggle")){var roles=instance.entry.content.get("active_server_roles");return _.contains(roles,"search_head")&&_.contains(roles,"indexer")}});shWithIndexers.length>0&&(_.each(shWithIndexers,function(instance){"Enabled"===instance.entry.content.get("status-toggle")&&instance.entry.content.get("warningMessages").push(DMC_BOTH_SEARCH_HEAD_AND_INDEXER_WARNING_SPECIFIC)}),has_warning=!0,verificationMessages.push(DMC_BOTH_SEARCH_HEAD_AND_INDEXER_WARNING_GENERIC));var clusterMasterWithIndexers=_.filter(allInstances,function(instance){if("Enabled"===instance.entry.content.get("status-toggle")){var roles=instance.entry.content.get("active_server_roles");return _.contains(roles,"cluster_master")&&_.contains(roles,"indexer")}});clusterMasterWithIndexers.length>0&&(_.each(clusterMasterWithIndexers,function(instance){"Enabled"===instance.entry.content.get("status-toggle")&&instance.entry.content.get("warningMessages").push(DMC_BOTH_CLUSTER_MASTER_AND_INDEXER_WARNING_SPECIFIC)}),has_warning=!0,verificationMessages.push(DMC_BOTH_CLUSTER_MASTER_AND_INDEXER_WARNING_GENERIC));var deploymentServerWithMore=_.filter(allInstances,function(instance){if("Enabled"===instance.entry.content.get("status-toggle")){var roles=instance.entry.content.get("active_server_roles");return _.contains(roles,"deployment_server")&&_.without(roles,"deployment_server","shc_deployer").length>0}});deploymentServerWithMore.length>0&&(_.each(deploymentServerWithMore,function(instance){"Enabled"===instance.entry.content.get("status-toggle")&&instance.entry.content.get("warningMessages").push(DMC_DEPLOYMENT_SERVER_PLUS_OTHER_ROLES_SPECIFIC)}),has_warning=!0,verificationMessages.push(DMC_DEPLOYMENT_SERVER_PLUS_OTHER_ROLES_GENERIC));var shcDeployerWithMore=_.filter(allInstances,function(instance){if("Enabled"===instance.entry.content.get("status-toggle")){var roles=instance.entry.content.get("active_server_roles");return _.contains(roles,"shc_deployer")&&_.without(roles,"deployment_server","shc_deployer").length>0}});shcDeployerWithMore.length>0&&(_.each(deploymentServerWithMore,function(instance){"Enabled"===instance.entry.content.get("status-toggle")&&instance.entry.content.get("warningMessages").push(DMC_SHC_DEPLOYER_PLUS_OTHER_ROLES_SPECIFIC)}),has_warning=!0,verificationMessages.push(DMC_SHC_DEPLOYER_PLUS_OTHER_ROLES_GENERIC));var indexerWithMore=_.filter(allInstances,function(instance){if("Enabled"===instance.entry.content.get("status-toggle")){var roles=instance.entry.content.get("active_server_roles");return _.contains(roles,"indexer")&&roles.length>1}});indexerWithMore.length>0&&(_.each(indexerWithMore,function(instance){"Enabled"===instance.entry.content.get("status-toggle")&&instance.entry.content.get("warningMessages").push(DMC_INDEXER_PLUS_OTHER_ROLES_SPECIFIC)}),has_warning=!0,verificationMessages.push(DMC_INDEXER_PLUS_OTHER_ROLES_GENERIC));var indexersWithGuidIndexerClusterLabel=_.filter(allInstances,function(instance){if("Enabled"===instance.entry.content.get("status-toggle"))return!!_.find(instance.entry.content.get("indexerClusters"),function(cluster){return GUID_REGEX.test(cluster)})});indexersWithGuidIndexerClusterLabel.length>0&&(_.each(indexersWithGuidIndexerClusterLabel,function(instance){"Enabled"===instance.entry.content.get("status-toggle")&&instance.entry.content.get("warningMessages").push(DMC_INDEXER_CLUSTER_IS_GUID_SPECIFIC)}),has_warning=!0,verificationMessages.push(DMC_INDEXER_CLUSTER_IS_GUID_GENERAL));var searchHeadsWithGuidSearchHeadClusterLabels=_.filter(allInstances,function(instance){if("Enabled"===instance.entry.content.get("status-toggle"))return!!_.find(instance.entry.content.get("searchHeadClusters"),function(cluster){return GUID_REGEX.test(cluster)})});searchHeadsWithGuidSearchHeadClusterLabels.length>0&&(_.each(searchHeadsWithGuidSearchHeadClusterLabels,function(instance){"Enabled"===instance.entry.content.get("status-toggle")&&instance.entry.content.get("warningMessages").push(DMC_SEARCH_HEAD_CLUSTER_IS_GUID_SPECIFIC)}),has_warning=!0,verificationMessages.push(DMC_SEARCH_HEAD_CLUSTER_IS_GUID_GENERAL));var searchHeadDeployersWithoutClusterLabel=_.filter(allInstances,function(instance){if("Enabled"===instance.entry.content.get("status-toggle")){var searchHeadClusters=instance.entry.content.get("searchHeadClusters"),roles=instance.entry.content.get("active_server_roles");return _.contains(roles,"shc_deployer")&&(!_.isArray(searchHeadClusters)||0===searchHeadClusters.length)}});searchHeadDeployersWithoutClusterLabel.length>0&&(_.each(searchHeadDeployersWithoutClusterLabel,function(instance){"Enabled"===instance.entry.content.get("status-toggle")&&instance.entry.content.get("warningMessages").push(DMC_SHC_DEPLOYER_NO_CLUSTER_SPECIFIC);
}),has_warning=!0,verificationMessages.push(DMC_SHC_DEPLOYER_NO_CLUSTER_GENERAL));var instancesWithUnknownForwardingState=[],instancesNotForwardingLogs=[];if(_.each(allInstances,function(instance){if("Enabled"===instance.entry.content.get("status-toggle")&&!_.contains(instance.entry.content.get("active_server_roles"),"indexer"))return _.isUndefined(instance.entry.content.get("isForwarding"))?void instancesWithUnknownForwardingState.push(instance):instance.entry.content.get("isForwarding")?void 0:void instancesNotForwardingLogs.push(instance)}),instancesNotForwardingLogs.length&&(_.each(instancesNotForwardingLogs,function(instance){instance.entry.content.get("warningMessages").push(DMC_INSTANCE_NOT_FORWARDING_LOGS_SPECIFIC)}),_.each(instancesWithUnknownForwardingState,function(instance){instance.entry.content.get("warningMessages").push(DMC_INSTANCE_FORWARDING_STATE_UNKNOWN)}),has_warning=!0,verificationMessages.push(DMC_INSTANCE_NOT_FORWARDING_LOGS_GENERIC)),(has_error||has_warning)&&this.model.state.trigger("updateRows"),has_error){var errorDialog=new ErrorDialog;return $("body").append(errorDialog.render().el),void errorDialog.show()}if(has_warning){var userConfirmModel=new Backbone.Model,userConfirmationDialog=new UserConfirmationDialog({messages:verificationMessages,model:{confirm:userConfirmModel},onHiddenRemove:!0});return $("body").append(userConfirmationDialog.render().el),userConfirmationDialog.show(),void userConfirmModel.on("confirmed",function(){this._applyChanges(this.collection.peers.save())},this)}peersDfd=this.collection.peers.save()}else peersDfd=this.collection.peers.disable();this._applyChanges(peersDfd)},"click .btn-reset-to-factory":function(e){e.preventDefault(),this.children.confirmResetDialog.show()}}),_applyChanges:function(peersDfd){var isConfigured=this.model.appLocal.entry.content.get("configured"),nav=new Nav,nav_default=new Nav({id:"/servicesNS/nobody/splunk_monitoring_console/data/ui/nav/default"}),navDfd=$.Deferred(),navDefaultDfd=$.Deferred(),nav_html="",nav_mode=isConfigured?"default.distributed":"default.single";nav.fetch({url:splunkd_utils.fullpath(nav.url+"/"+nav_mode,{app:"splunk_monitoring_console",owner:"nobody"})}).done(function(){nav_html=nav.entry.content.get("eai:data"),navDfd.resolve()}.bind(this)).fail(function(){}),$.when(navDfd).done(function(){nav_default.entry.content.set("eai:data",nav_html),nav_default.save().done(function(){navDefaultDfd.resolve()})});var loading=new SimpleDialog({title:_("Loading...").t(),message:DMC_LOADING_MESSAGE}).render(),dmcStandaloneSearch=this.collection.savedSearches.find(function(savedSearch){return DMC_STANDALONE_PATTERN.test(savedSearch.entry.get("name"))});dmcStandaloneSearch.entry.content.set("disabled",!0);var deferred=[peersDfd,this.model.appLocal.save(),navDefaultDfd,dmcStandaloneSearch.save()];$.when.apply($,deferred).progress(function(){loading.show()}()).done(function(response){this.model.state.set("changesMade",!1);var peersErrorMessage=null;if(isConfigured){var hostIdx=response.fields.indexOf("host"),peerUriIdx=response.fields.indexOf("peerURI"),hostsWritten=_.uniq(_.pluck(_.filter(response.rows,function(row){return"localhost"!==row[peerUriIdx]}),hostIdx)),shouldHaveWritten=_.uniq(this.collection.peers.filter(function(peer){return peer.entry.content.get("active_server_roles").length>0}).map(function(peer){return peer.entry.content.get("host")})),peersNotWritten=_.difference(shouldHaveWritten,hostsWritten);peersErrorMessage=getPeersErrorMessage(peersNotWritten)}loading.hide();var dialog=new ConfigureAllConfirmationDialog({application:this.model.application,errorMessage:peersErrorMessage,message:DMC_CONFIGURE_ALL_CONFIRMATION_MESSAGE}).render();dialog.show()}.bind(this)).fail(function(){loading.hide();var dialog;dialog=this.collection.peers.assets.models.length>0&&this.collection.peers.assets.models[0].error.get("messages").length>0&&this.collection.peers.assets.models[0].error.get("messages")[0].message?new FailureDialog({message:_(this.collection.peers.assets.models[0].error.get("messages")[0].message).t()}).render():(new FailureDialog).render(),dialog.show()}.bind(this))},_cannotConnectToServers:function(){return _.reduce(this.collection.peers.models,function(memo,peer){return"Up"!==peer.entry.content.get("status")&&"Enabled"===peer.entry.content.get("status-toggle")?(peer.entry.content.get("errorMessages").push(generateNotRespondPeerErrorMessage()),memo||!0):memo},!1)},_renderGenericErrorMessage:function(){this.collection.flashMessages.reset([{type:"error",html:DMC_GENERIC_ERROR_MESSAGE}])},_updateConfigured:function(){var isConfigured=this.model.appLocal.entry.content.get("configured");this.model.state.set("changesMade",isConfigured!==this._originallyConfigured),isConfigured?this._originallyConfigured===isConfigured?this.$(".table-wrapper").css("visibility","visible"):this._showDistributedModeWarningDialog():this.$(".table-wrapper").css("visibility","hidden")},_showDistributedModeWarningDialog:function(){var dialog=new DistributedModeWarningDialog({model:{application:this.model.application}});dialog.render().show(),dialog.on("proceed",function(proceed){proceed?this.$(".table-wrapper").css("visibility","visible"):this.model.appLocal.entry.content.set("configured",!1)},this)},_updateChangesMade:function(){var $btnEl=this.$(".section-header .btn.configure");$btnEl.removeClass("btn-primary"),$btnEl.removeClass("btn-secondary"),$btnEl.addClass(this.model.state.get("changesMade")?"btn-primary":"btn-secondary")},_isModeSwitchVisible:function(){return!(this.model.serverInfoModel.isCloud()||this.model.serverInfoModel.isLite())},render:function(){var that=this;return that.$el.html(that.template),that.children.title.render().appendTo(that.$(".section-header")),that.children.flashMessages.render().appendTo(that.$(".section-header")),this._isModeSwitchVisible()&&that.$(".section-header").append(this.labelTemplate),that.children.standaloneSwitch.render().appendTo(that.$(".section-header")),that.$(".section-header").append(this.buttonTemplate),$('<h3 class="smc-subtitle">'+_("This instance").t()+"</h3>").appendTo(that.$(".single-instance-wrapper")),that.children.localInstanceTable.render().appendTo(that.$(".single-instance-wrapper")),$('<h3 class="smc-subtitle">'+_("Remote instances").t()+"</h3>").appendTo(that.$(".table-wrapper")),that.children.table.render().appendTo(that.$(".table-wrapper")),this.$el.append(this.children.confirmResetDialog.render().$el),this.model.appLocal.entry.content.get("configured")||that.$(".table-wrapper").css("visibility","hidden"),that._updateChangesMade(),that},template:'<div class="section-padded section-header"></div><div class="single-instance-wrapper main-section"><div class="divider"></div></div><div class="table-wrapper"></div>',buttonTemplate:'<div class="apply-changes" ><button class="btn btn-primary configure btn-apply-changes">'+_("Apply Changes").t()+'</button><button class="btn btn-reset-to-factory">'+_("Reset All Settings").t()+"</button></div>",labelTemplate:'<div class="mode-label">Mode</div>'})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/FlashMessagesLegacy":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("views/Base"),module],__WEBPACK_AMD_DEFINE_RESULT__=function(_,Base,module){return Base.extend({moduleId:module.id,className:"alerts",initialize:function(){Base.prototype.initialize.apply(this,arguments),_.defaults(this.options,{escape:!0}),this.activate()},startListening:function(){this.listenTo(this.collection,"add push reset",this.render)},render:function(){var template=_.template(this.template,{flashMessages:this.collection,escape:this.options.escape});return this.$el.html(template),0===this.collection.length?this.$el.hide():this.$el.show(),this},template:'\t            <% flashMessages.each(function(flashMessage){ %> \t                <div class="alert alert-<%- flashMessage.get("type") %>">\t                    <i class="icon-alert"></i>\t                    <% if (escape && flashMessage.get("escape") !== false) { %>\t                        <%- flashMessage.get("html") %>\t                    <% } else { %>\t                        <%= flashMessage.get("html") %>\t                    <% } %>\t                </div>\t            <% }); %> \t        '},{update:function(errors,parentView,flashMessagesCollection){var flashMessageModels=[],uniquifier=0;_(parentView.children).each(function(child){child.error(!1)}),_(errors).each(function(error){parentView.children[error.name].error(!0),flashMessageModels.push({key:parentView.cid+uniquifier++,type:"error",html:error.msg})},parentView),flashMessagesCollection.reset(flashMessageModels)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"splunk_monitoring_console-views/Title":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("stubs/splunk.config"),__webpack_require__("uri/route")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,BaseView,config,route){return BaseView.extend({moduleId:module.id,initialize:function(){BaseView.prototype.initialize.apply(this,arguments)},render:function(){var root=0===config.MRSPARKLE_ROOT_PATH.indexOf("/")?config.MRSPARKLE_ROOT_PATH.substring(1):config.MRSPARKLE_ROOT_PATH;return this.$el.html(this.compiledTemplate({_:_,helpLink:route.docHelp(root,config.LOCALE,"app.splunk_monitoring_console.monitoringconsole_configure")})),this},template:'\t                <h2 class="section-title"><%- _("Setup").t() %></h2>\t                <p class="section-description">\t                    <%- _("Current topology of your Splunk Enterprise deployment.").t() %>\t                    <a class="external" href="<%- helpLink %>" target="_blank"><%- _("Learn more").t()%></a>\t                </p>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"splunk_monitoring_console-views/table/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[module,__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),__webpack_require__("require/backbone"),__webpack_require__("views/Base"),__webpack_require__("views/shared/TableHead"),__webpack_require__("splunk_monitoring_console-views/table/TableRow"),__webpack_require__("splunk_monitoring_console-views/table/MoreInfo"),__webpack_require__("views/shared/delegates/TableRowToggle"),__webpack_require__("views/shared/tablecaption/Master"),__webpack_require__("views/shared/controls/SyntheticSelectControl"),__webpack_require__("splunk_monitoring_console-views/table/controls/EditAllMenu")],__WEBPACK_AMD_DEFINE_RESULT__=function(module,_,$,Backbone,BaseView,TableHeadView,TableRowView,MoreInfoView,TableRowToggleView,TableCaptionView,SyntheticSelectControl,EditAllMenu){return BaseView.extend({moduleId:module.id,initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.collection=this.collection||{},this.collection.clientSidePeers=new Backbone.Collection,this.collection.clientSidePeers.paging=new Backbone.Model,this.children.tableRowToggle=new TableRowToggleView({el:this.el,collapseOthers:!0});var columns=[{label:_("i").t(),className:"col-info",html:'<i class="icon-info"></i>'},{label:"",className:"col-select-all"},{label:_("Instance (host)").t(),sortKey:"host",className:"col-name",tooltip:_('The "host" metadata field that an instance uses to tag the events it reads from data inputs. Set in inputs.conf / [default] / host.').t()},{label:_("Instance (serverName)").t(),sortKey:"peerName",className:"col-serv-name",tooltip:_('The "splunk_server" internal field that an instance uses to tag the events it returns as search results. Set in server.conf / [general] / serverName.').t()},{label:_("Machine").t(),sortKey:"host_fqdn",className:"col-mach-name",tooltip:_("The host name of the machine on which this Splunk Enterprise instance is running.").t()},{label:_("Server roles").t(),className:"col-server-roles"},{label:_("Custom groups").t(),className:"col-tags"},{label:_("Indexer Cluster(s)").t(),className:"col-indexer-cluster"},{label:_("Search Head Cluster(s)").t(),className:"col-searchhead-cluster"},{label:_("Monitoring").t(),sortKey:"status-toggle",className:"col-status",tooltip:_("Only data from enabled and configured instances appears in DMC dashboards.").t()},{label:_("State").t(),sortKey:"state",className:"col-state",tooltip:_("Only data from enabled and configured instances appears in DMC dashboards.").t()},{label:_("Problems").t(),sortKey:"problems",className:"col-problems"},{label:_("Actions").t(),className:"col-actions"}],localInstanceColumns=_.clone(columns),selectAllRow=localInstanceColumns.splice(localInstanceColumns.indexOf(_.find(localInstanceColumns,function(column){return"col-select-all"===column.className})),1)[0];localInstanceColumns.splice(2,0,selectAllRow),this.model.localInstance&&(columns=_.map(localInstanceColumns,function(column){var className=column.className;return"col-name"===className&&(className+=" col-name-no-border-right"),"col-select-all"!==className?{label:column.label,className:className,html:column.html}:{label:"",className:"hacky-col-width-adjustment",html:""}})),this.children.head=new TableHeadView({model:this.model.state,columns:columns,checkboxClassName:"col-select-all"}),this.model.localInstance||(this.children.caption=new TableCaptionView({countLabel:_("Instances").t(),model:{state:this.model.state,serverInfo:this.model.serverInfo,rawSearch:this.model.state},collection:this.collection.clientSidePeers,noFilterButtons:!0,filterKey:["peerName"]}),this.children.count=new SyntheticSelectControl({modelAttribute:"count",model:this.model.state,items:[{value:10,label:_("10 Per Page").t()},{value:25,label:_("25 Per Page").t()},{value:50,label:_("50 Per Page").t()},{value:100,label:_("100 Per Page").t()}],save:!1,elastic:!0,menuWidth:"narrow",toggleClassName:"btn-pill",popdownOptions:{attachDialogTo:"body"}}),this.model.state.set("count",25)),this.children.rows=this.rowsFromCollection(),this.activate(),this.listenTo(this.model.state,"select-all-click",function(){this.collection.clientSidePeers.each(function(peer){peer.trigger("select-all-click")})}),this.listenTo(this.model.state,"deselect-all-click",function(){this.collection.peers.each(function(peer){peer.trigger("deselect-all-click")})}),this.listenTo(this.model.state,"change:search",function(){this.collection.peers.each(function(peer){peer.trigger("deselect-all-click")})}),this.listenTo(this.model.state,"change:count",this.renderRows)},events:{"click .edit-all":function(e){e.preventDefault()},"mousedown .edit-all":function(e){var $target=$(e.currentTarget);return this.children.editAllMenu&&this.children.editAllMenu.shown?(this.children.editAllMenu.hide(),void e.preventDefault()):(this.children.editAllMenu=new EditAllMenu({model:{asset:this.model.asset,state:this.model.state,appLocal:this.model.appLocal},collection:{peers:this.collection.peers,clientSidePeers:this.collection.clientSidePeers},onHiddenRemove:!0}),$("body").append(this.children.editAllMenu.render().el),void this.children.editAllMenu.show($target))},"click .col-select-all":function(e){this.model.state.get("selectAll")?this.model.state.trigger("select-all-click"):this.model.state.trigger("deselect-all-click")}},startListening:function(){this.model.state.on("updateRows",_.debounce(this.renderRows),this),this.model.localInstance?this.model.localInstance.on("sync",_.debounce(this.renderRows),this):(this.collection.peers.on("sync",_.debounce(this.renderRows),this),this.model.state.on("change:sortKey change:sortDirection change:offset change:search",_.debounce(this.renderRows),this))},rowsFromCollection:function(){if(this.model.localInstance)return[new TableRowView({model:{appLocal:this.model.appLocal,application:this.model.application,peer:this.model.localInstance,state:this.model.state},collection:{peers:this.collection.peers},index:0,isLocal:!0}),new MoreInfoView({model:{peer:this.model.localInstance},index:0})];var peers=this.collection.peers;peers=peers.sortBy(function(peer){var sortKey=this.model.state.get("sortKey"),value=null;if("name"===sortKey)value=peer.entry.get("name");else{if("state"===sortKey){var state=peer.entry.content.get("state");return"Configured"===state?"1":"New"===state?"2":"-1"}if("status-toggle"===sortKey){var toggle=peer.entry.content.get("status-toggle");return"Enabled"===toggle?"1":"Disabled"===toggle?"2":"-1"}if("problems"===sortKey)return peer.entry.content.get("errorMessages").length>0?"1":peer.entry.content.get("warningMessages").length>0?"2":"-1";value=peer.entry.content.get(sortKey)}return value},this),"asc"!==this.model.state.get("sortDirection")&&(peers=peers.reverse());this.model.state.get("search")&&(peers=peers.filter(function(peer){if(peer.containsRole(this.model.state.get("rawSearch")))return!0;var searchables=[peer.entry.content.get("peerName"),peer.entry.content.get("host"),peer.entry.content.get("host_fqdn"),peer.entry.content.get("state"),peer.entry.content.get("status-toggle"),peer.entry.content.get("indexerClusters"),peer.entry.content.get("searchHeadClusters")];return _.reduce(searchables,function(memo,searchable){var search=this.model.state.get("rawSearch").toLowerCase();return _.isArray(searchable)?memo||!!_.find(searchable,function(item){return item.toLowerCase().indexOf(search)!==-1}):memo||searchable.toLowerCase().indexOf(search)!==-1},!1,this)},this));var totalPeers=peers.length||0;return this.model.state.get("count")>0&&this.model.state.get("count")<this.collection.peers.length&&(peers=peers.slice(this.model.state.get("offset"),this.model.state.get("offset")+this.model.state.get("count"))),this.collection.clientSidePeers.paging.set("total",totalPeers),this.collection.clientSidePeers.reset(peers),_.flatten(peers.map(function(model,i){return[new TableRowView({model:{appLocal:this.model.appLocal,application:this.model.application,peer:model,state:this.model.state},collection:{peers:this.collection.peers},index:i}),new MoreInfoView({model:{peer:model},index:i})]},this))},_render:function(){_(this.children.rows).each(function(row){row.render().appendTo(this.$(".managementconsole-listings"))},this)},renderRows:function(){_(this.children.rows).each(function(row){row.remove()},this),this.children.rows=this.rowsFromCollection(),this._render()},render:function(){return this.el.innerHTML||(this.children.caption&&this.$el.append(this.children.caption.render().el),this.$el.append(this.compiledTemplate({_:_,isLocal:this.model.localInstance})),this.children.head.render().prependTo(this.$("> .table-chrome")),this.children.caption&&this.$(".edit-div").append(this.children.count.render().$el)),this._render(),this},template:'\t                <% if (!isLocal) { %>\t                    <div class="table-caption edit-div">\t                        <h3>\t                            <a class="dropdown-toggle edit-all" href="#"><%- _("Edit Selected Instances").t() %>\t                                <span class="caret"></span>\t                            </a>\t                        </h3>\t                    </div>\t                <% } %>\t                <table class="table table-chrome table-striped table-row-expanding table-listing">\t                    <tbody class="managementconsole-listings"></tbody>\t                </table>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"splunk_monitoring_console-views/table/TableRow":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("splunk_monitoring_console-views/table/controls/EditMenu")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseView,EditMenu){return BaseView.extend({moduleId:module.id,tagName:"tr",className:"expand",initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.collection=this.collection||{},this.$el.addClass(this.options.index%2?"odd":"even"),this.compiledRolesTemplate=this.compileTemplate(this.rolesTemplate),this.compiledTagsTemplate=this.compileTemplate(this.tagsTemplate),this.compiledTitleTemplate=this.compileTemplate(this.titleTemplate),this.compiledMachineTemplate=this.compileTemplate(this.machineTemplate),this.compiledProblemsTemplate=this.compileTemplate(this.problemsTemplate),this.activate()},events:$.extend(BaseView.prototype.events,{"mousedown td.actions > a.dropdown-toggle":function(e){var $target=$(e.currentTarget);return this.children.editmenu&&this.children.editmenu.shown?(this.children.editmenu.hide(),void e.preventDefault()):(this.children.editmenu=new EditMenu({model:{peer:this.model.peer,asset:this.model.asset,state:this.model.state,appLocal:this.model.appLocal,application:this.model.application},collection:{peers:this.collection.peers},onHiddenRemove:!0}),$("body").append(this.children.editmenu.render().el),void this.children.editmenu.show($target))},"click td.actions > a.dropdown-toggle":function(e){e.preventDefault()},"click label.checkbox.unchecked":function(e){e.preventDefault(),this.selectPeer()},"click label.checkbox.checked":function(e){e.preventDefault(),this.deselectPeer()}}),startListening:function(){this.listenTo(this.model.peer.entry.content,"change:active_server_roles",this.updateServerRoles),this.listenTo(this.model.peer.entry.content,"change:tags",this.updateTags),this.listenTo(this.model.appLocal.entry.content,"change:configured",this.updateTags),this.listenTo(this.model.peer.entry.content,"change:host",this.updateHost),this.listenTo(this.model.peer.entry.content,"change:host_fqdn",this.updateHostFqdn),this.listenTo(this.model.peer.entry.content,"change:status-toggle",this.updateStatus),this.listenTo(this.model.peer.entry.content,"change:status-toggle",this.updateProblems),this.listenTo(this.model.peer,"select-all-click",this.selectPeer),this.listenTo(this.model.peer,"deselect-all-click",this.deselectPeer),this.listenTo(this.model.peer.entry.content,"change:indexerClusters",this.updateIndexerClusters),this.listenTo(this.model.peer.entry.content,"change:searchHeadClusters",this.updateSearchHeadClusters)},selectPeer:function(){this.$el.find("label").removeClass("unchecked").addClass("checked"),this.$el.find("i.icon-check").show(),this.model.peer.set("bulk-selected",!0)},deselectPeer:function(){this.$el.find("label").removeClass("checked").addClass("unchecked"),this.$el.find("i.icon-check").hide(),this.model.peer.set("bulk-selected",!1)},updateStatus:function(){"Configured"===this.model.peer.entry.content.get("state")?this.$("td.status-toggle").html("<span class='icon-check-circle configured'> "+_("Configured").t()+"</span>"):this.$("td.status-toggle").html("<span class='icon-alert-circle new'> "+_("New").t()+"</span>"),"Enabled"===this.model.peer.entry.content.get("status-toggle")?this.$("td.state").html("<span class='icon-check enabled'></span> "+_("Enabled").t()):this.$("td.state").html("<span class='icon-x disabled'></span> "+_("Disabled").t())},updateServerRoles:function(){var html="";"Enabled"===this.model.peer.entry.content.get("status-toggle")?_.each(this.model.peer.entry.content.get("active_server_roles"),function(role){var roleI18n=this.model.peer.getServerRoleI18n(role);html+='<div class="server_roles">',html+='<div title="'+roleI18n+'" class="'+role+'_group">',html+="<span>"+roleI18n+"</span>",html+="</div>",html+="</div>"}.bind(this)):html='<div title="No server roles."></div>',this.$("td.primary-peer-roles").html(html)},updateTags:function(){this.$("td.tags").html(this.compiledTagsTemplate({_:_,configured:this.model.appLocal.entry.content.get("configured"),tags:this.model.peer.entry.content.get("tags")}))},updateHost:function(){this.$("td.title.splunk-server").html(this.compiledTitleTemplate({host:this.model.peer.entry.content.get("host"),hostTitle:this.model.peer.entry.content.get("host")+(this.model.peer.isConfigured()?"":_(" is not configured.").t())}))},updateHostFqdn:function(){this.$("td.machine").html(this.compiledMachineTemplate({hostFqdn:this.model.peer.entry.content.get("host_fqdn")}))},updateProblems:function(){var errorMessages=this.model.peer.entry.content.get("errorMessages"),warningMessages=this.model.peer.entry.content.get("warningMessages");this.$("td.problems").html(this.compiledProblemsTemplate({errorMessages:errorMessages,warningMessages:warningMessages}))},updateIndexerClusters:function(){var indexerClusters=this.model.peer.entry.content.get("indexerClusters");this.$("td.indexer-cluster").text(_.isArray(indexerClusters)?indexerClusters.join(", "):"")},updateSearchHeadClusters:function(){var searchHeadClusters=this.model.peer.entry.content.get("searchHeadClusters");this.$("td.searchhead-cluster").text(_.isArray(searchHeadClusters)?searchHeadClusters.join(", "):"")},render:function(){return this.$el.html(this.compiledTemplate({peer:this.model.peer,index:this.options.index,isLocal:this.options.isLocal})),this.updateStatus(),this.updateServerRoles(),this.updateTags(),this.updateHost(),this.updateHostFqdn(),this.updateProblems(),this.updateIndexerClusters(),this.updateSearchHeadClusters(),this.$(".dmc_alert_tooltip").tooltip(),this},template:'\t                <td class="expands">\t                    <a href="#">\t                        <i class="icon-triangle-right-small"></i>\t                    </a>\t                </td>\t                <% if (!isLocal) { %> \t                <td class="checkbox">\t                    <label class="checkbox <%- peer.get("bulk-selected") ? "checked" : "unchecked" %>">\t                        <a href="#" class="btn">\t                            <i class="icon-check" style="<%- peer.get("bulk-selected") ? "" : "display:none;" %>">\t                            </i>\t                        </a>\t                    </label>\t                </td>\t                <td class="splunk-server title"></td>\t                <% } else { %> \t                <td class="splunk-server title"></td>\t                <td class="checkbox"></td>\t                <% } %> \t                <td class="title" title="<%- peer.entry.content.get("peerName") || peer.entry.content.get("serverName") || _("N/A").t() %>">\t                    <%- peer.entry.content.get("peerName") || peer.entry.content.get("serverName") || _("N/A").t() %>\t                </td>\t                <td class="machine"></td>\t                <td class="primary-peer-roles"></td>\t                <td class="tags"></td>\t                <td class="indexer-cluster"></td>\t                <td class="searchhead-cluster"></td>\t                <td class="state"></td>\t                <td class="status-toggle"></td>\t                <td class="problems"></td>\t                <td class="actions">\t                    <a class="dropdown-toggle" href="#"><%- _("Edit").t() %><span class="caret"></span></a>\t                </td>\t            ',problemsTemplate:'\t                <% if (errorMessages.length > 0) { %>\t                <div data-toggle="tooltip" title="'+_("You have some unresolved errors. Expand this row to view.").t()+'" class="dmc_alert_tooltip alert alert-error">\t                    <span class="icon-alert"></span>\t                </div>\t                <% } else if (warningMessages.length > 0) { %>\t                <div data-toggle="tooltip" title="'+_("You have some unresolved warnings. Expand this row to view.").t()+'" class="dmc_alert_tooltip alert alert-warning">\t                    <span class="icon-alert"></span>\t                </div>\t                <% } %>\t            ',rolesTemplate:'\t                <div class="server_roles"></div>\t            ',titleTemplate:'\t                <span title="<%- hostTitle %>"> <%- host %></span>\t            ',machineTemplate:'\t                <span title="<%- hostFqdn %>"><%- hostFqdn %></span>\t            ',tagsTemplate:'\t                <% if (!configured) { %> \t                    <%- _("Only available in distributed mode.").t() %> \t                <% } else { %> \t                    <% _.each(tags, function(tag) { %>\t                    <span class="grouptag"><%- tag %></span>\t                    <% }) %> \t                <% } %> \t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"splunk_monitoring_console-views/table/controls/EditMenu":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/shared/PopTart"),__webpack_require__("splunk_monitoring_console-views/table/controls/EditServerRolesDialog"),__webpack_require__("splunk_monitoring_console-views/table/controls/EditGroupsDialog"),__webpack_require__("splunk_monitoring_console-views/table/controls/EditInstanceDialog"),__webpack_require__("splunk_monitoring_console-views/table/controls/DisableConfirmationDialog"),__webpack_require__("splunk_monitoring_console-views/table/controls/ConfirmationDialog"),__webpack_require__("splunk_monitoring_console-views/table/controls/FailureDialog")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,PopTartView,EditServerRolesDialogView,EditGroupsDialogView,EditInstanceDialogView,DisableConfirmationDialogView,ConfirmationDialogView,FailureDialog){return PopTartView.extend({moduleId:module.id,className:"dropdown-menu",initialize:function(options){options=_.defaults(options,{mode:"menu"}),PopTartView.prototype.initialize.call(this,options),this.model.appLocal.entry.content.on("change:configured",this._updateConfigured,this)},events:{"click a.edit-server-roles":function(e){e.preventDefault();var dialog=new EditServerRolesDialogView({model:{peer:this.model.peer,state:this.model.state},onHiddenRemove:!0});$("body").append(dialog.render().el),dialog.show()},"click a.edit-groups":function(e){e.preventDefault();var dialog=new EditGroupsDialogView({model:{peer:this.model.peer,state:this.model.state},collection:{peers:this.collection.peers},onHiddenRemove:!0});$("body").append(dialog.render().el),dialog.show()},"click a.edit-instance":function(e){e.preventDefault();var dialog=new EditInstanceDialogView({model:{peer:this.model.peer,state:this.model.state,application:this.model.application},collection:{peers:this.collection.peers},onHiddenRemove:!0});$("body").append(dialog.render().el),dialog.show()},"click a.disable-instance":function(e){e.preventDefault();var dialog=new DisableConfirmationDialogView({model:{peer:this.model.peer,state:this.model.state},collection:{peers:this.collection.peers}});$("body").append(dialog.render().el),dialog.show()},"click a.enable-instance":function(e){e.preventDefault();var settingsAsset=this.collection.peers.assets.find(function(asset){return"settings"===asset.entry.get("name")}),blackList=settingsAsset.entry.content.get("blackList");blackList=$.trim(blackList)?blackList.split(","):[],blackList=blackList.filter(function(elem){return elem!=this.model.peer.entry.get("name")}.bind(this)),settingsAsset.entry.content.set("blackList",blackList.join(",")),this.model.peer.entry.content.set("status-toggle","Enabled"),this.model.peer.resetInitialInternalServerRoles(),$.when(settingsAsset.save()).done(function(){this.model.state.set("changesMade",!0);
var dialog=new ConfirmationDialogView({message:_("Instance has successfully been enabled.").t()});$("body").append(dialog.render().el),dialog.show()}.bind(this)).fail(function(){var dialog=(new FailureDialog).render();dialog.show()}.bind(this))}},render:function(){return this.el.innerHTML=PopTartView.prototype.template_menu,this.$el.append(this.compiledTemplate({_:_,disabled:"Disabled"===this.model.peer.entry.content.get("status-toggle"),edit:this.model.peer.canEditInstanceDetails(),local:"localInstance"===this.model.peer.entry.content.get("type")})),this._updateConfigured(),this},_updateConfigured:function(){this.model.appLocal.entry.content.get("configured")?this.$(".edit-groups-container").show():this.$(".edit-groups-container").hide()},template:'\t                <ul class="first-group">\t                \t<% if (disabled) { %>\t                \t\t<li><a href="#" class="enable-instance"><%- _("Enable Monitoring").t() %></a></li>\t                \t<% } else { %>\t\t                    <li><a href="#" class="edit-server-roles"><%- _("Edit Server Roles").t() %></a></li>\t                    \t<li class="edit-groups-container"><a href="#" class="edit-groups"><%- _("Edit Custom Groups").t() %></a></li>\t\t                    <% if (edit) { %>\t\t\t                    <li><a href="#" class="edit-instance"><%- _("Edit Instance").t() %></a></li>\t\t                    <% } %>\t\t\t\t\t\t\t<li><a href="#" class="disable-instance"><%- _("Disable Monitoring").t() %></a></li>\t                    <% } %>\t                </ul>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"splunk_monitoring_console-views/table/controls/EditGroupsDialog":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("collections/shared/FlashMessages"),__webpack_require__("views/shared/Modal"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("splunk_monitoring_console-views/table/controls/MultiInputControl"),__webpack_require__("splunk_monitoring_console-views/table/controls/ConfirmationDialog"),__webpack_require__("splunk_monitoring_console-views/table/controls/FailureDialog"),__webpack_require__("views/shared/FlashMessagesLegacy")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,FlashMessagesCollection,Modal,ControlGroup,MultiInputControl,ConfirmationDialog,FailureDialog,FlashMessagesView){return Modal.extend({moduleId:module.id,initialize:function(){Modal.prototype.initialize.apply(this,arguments),this.model.working=new Backbone.Model({tags:this.model.peer.entry.content.get("tags").join(",")}),this.collection=this.collection||{},this.collection.flashMessages=new FlashMessagesCollection,this.groupTagsInputControl=new MultiInputControl({model:this.model.working,collection:this.collection.peers,modelAttribute:"tags",attributeType:"array",collectionMethod:"getAllTags",placeholder:_("Choose groups").t()}),this.children.groupTags=new ControlGroup({label:_("Group Tags").t(),controlClass:"controls-block",controls:[this.groupTagsInputControl]}),this.children.flashMessage=new FlashMessagesView({collection:this.collection.flashMessages})},events:$.extend({},Modal.prototype.events,{"click .btn-primary":function(e){e.preventDefault();var tags=this.model.working.get("tags");tags=$.trim(tags)?tags.split(","):[],this.collection.flashMessages.reset();var error=this.model.peer.entry.content.validate({tags:tags});if(error)this.collection.flashMessages.reset([{type:"error",html:error}]);else{var oldTags=this.model.peer.entry.content.get("tags");this.model.peer.entry.content.set("tags",tags),$(e.target).prop("disabled",!0),this.model.peer.save().done(function(){this.model.state.set("changesMade",!0),this.hide();var confirmationDialog=new ConfirmationDialog({message:_("Your custom groups have updated successfully.").t()}).render();$("body").append(confirmationDialog.el),confirmationDialog.show()}.bind(this)).fail(function(){this.hide(),this.model.peer.entry.content.set("tags",oldTags);var dialog=(new FailureDialog).render();$("body").append(dialog.el),dialog.show()}.bind(this))}}}),render:function(){return this.$el.html(Modal.TEMPLATE),this.$(Modal.HEADER_TITLE_SELECTOR).html(_("Edit Group Tags").t()),this.$(Modal.BODY_SELECTOR).prepend(this.children.flashMessage.render().el),this.$(Modal.BODY_SELECTOR).append('<h4 class="instance-name">'+_.escape(this.model.peer.entry.content.get("peerName"))+"</h4>"),this.$(Modal.BODY_SELECTOR).append(Modal.FORM_HORIZONTAL),this.$(Modal.BODY_FORM_SELECTOR).append(this.children.groupTags.render().el),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_CANCEL),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_SAVE),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"splunk_monitoring_console-views/table/controls/MultiInputControl":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/shared/controls/MultiInputControl")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,MultiInputControl){return MultiInputControl.extend({moduleId:module.id,initialize:function(){this.options.placeholder=this.options.placeholder||_("Choose groups").t(),this.populateCollectionTags(),this.collection.on("change:"+this.options.modelAttribute,this.updateTags,this),MultiInputControl.prototype.initialize.apply(this,arguments)},updateTags:function(){this.populateCollectionTags(),this.debouncedRender()},populateCollectionTags:function(){this.options.autoCompleteFields=this.collection[this.options.collectionMethod].call(this.collection)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"splunk_monitoring_console-routers/MonitoringConsoleConfigure":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),__webpack_require__("require/backbone"),__webpack_require__("routers/BaseListings"),__webpack_require__("splunk_monitoring_console-collections/Peers"),__webpack_require__("collections/services/data/LookupTableFiles"),__webpack_require__("collections/services/saved/Searches"),__webpack_require__("splunk_monitoring_console-collections/ThresholdConfigs"),__webpack_require__("splunk_monitoring_console-models/LocalInstance"),__webpack_require__("models/services/server/ServerInfo"),__webpack_require__("splunk_monitoring_console-views/Master")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,Backbone,BaseListingsRouter,PeersCollection,LookupTableFilesCollection,SavedSearchesCollection,ThresholdConfigsCollection,LocalInstanceModel,ServerInfoModel,ManagementConsoleConfigureView){return BaseListingsRouter.extend({initialize:function(){BaseListingsRouter.prototype.initialize.apply(this,arguments),this.setPageTitle(_("Setup").t()),this.loadingMessage=_("Loading...").t(),this.stateModel.set({sortKey:"peerName",sortDirection:"asc",count:25,offset:0,search:"",changesMade:!1}),this.collection.peers=new PeersCollection,this.collection.lookups=new LookupTableFilesCollection,this.collection.savedSearches=new SavedSearchesCollection,this.collection.thresholdConfigs=new ThresholdConfigsCollection,this.model.localInstance=new LocalInstanceModel({},{distsearchGroups:this.collection.peers.distsearches}),$.when(this.deferreds.appLocals).done(function(){this.model.appLocal=this.collection.appLocals.find(function(appLocal){return appLocal.entry.get("name")===this.model.application.get("app")},this),this.listenTo(this.model.appLocal.entry.content,"change:configured",this._updateLocalInstanceStatus)}.bind(this)),$(window).on("beforeunload",function(){if(this.stateModel.get("changesMade"))return _("Please apply your changes!").t()}.bind(this)),this.listenTo(this.collection.peers.distsearches,"sync",this._updateLocalInstanceStatus)},initializeAndRenderViews:function(){var serverInfoModel=new ServerInfoModel;serverInfoModel.fetch().done(function(){this.managementConsoleConfigureView=new ManagementConsoleConfigureView({model:{state:this.stateModel,appLocal:this.model.appLocal,application:this.model.application,localInstance:this.model.localInstance,serverInfoModel:serverInfoModel},collection:{peers:this.collection.peers,lookups:this.collection.lookups,savedSearches:this.collection.savedSearches,thresholdConfigs:this.collection.thresholdConfigs}}),this.pageView.$(".main-section-body").html(this.managementConsoleConfigureView.render().el)}.bind(this))},fetchListCollection:function(){var data={sort_dir:"asc",sort_key:"peerName",count:0,offset:0,search:"disabled=0"},peersDfd=$.Deferred();this.collection.peers.fetch({data:data}).done(function(){this.stateModel.set("changesMade",this.collection.peers.contains(function(peer){return!peer.isConfigured()})||this.stateModel.get("changesMade")),this.model.localInstance.fetch().done(function(){peersDfd.resolve()}.bind(this)).fail(function(){peersDfd.reject()})}.bind(this));var lookupsDfd=$.Deferred();this.collection.lookups.fetch({data:{app:"splunk_monitoring_console",owner:"-",search:"eai:acl.app=splunk_monitoring_console"}}).done(function(){lookupsDfd.resolve()}).fail(function(){lookupsDfd.reject()});var savedSearchesDfd=$.Deferred();this.collection.savedSearches.fetch({data:{app:"splunk_monitoring_console",owner:"-",search:'name="DMC*"'}}).done(function(){savedSearchesDfd.resolve()}).fail(function(){savedSearchesDfd.reject()});var thresholdConfigsDfd=$.Deferred();return this.collection.thresholdConfigs.fetch().done(function(){thresholdConfigsDfd.resolve()}).fail(function(){thresholdConfigsDfd.reject()}),$.when(peersDfd,lookupsDfd,savedSearchesDfd,thresholdConfigsDfd)},_updateLocalInstanceStatus:function(){var isEnabled;isEnabled=0==this.model.appLocal.entry.content.get("configured")||"0"==this.model.appLocal.entry.content.get("configured")||this.collection.peers.distsearches.some(function(searchGroup){return _.contains(searchGroup.entry.content.get("member"),"localhost:localhost")}),this.model.localInstance.entry.content.set("status-toggle",isEnabled?"Enabled":"Disabled")}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"splunk_monitoring_console-views/table/controls/SimpleDialog":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("require/backbone"),__webpack_require__("collections/shared/FlashMessages"),__webpack_require__("views/shared/Modal"),__webpack_require__("views/shared/FlashMessagesLegacy")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,Backbone,FlashMessagesCollection,ModalView,FlashMessagesView){var TEMPLATE_WITHOUT_CLOSE='\t                <div class="'+ModalView.HEADER_CLASS+'">\t                    <h3 class="modal-title">&nbsp;</h3>\t                </div>\t                <div class="'+ModalView.BODY_CLASS+'">\t                </div>\t                <div class="'+ModalView.FOOTER_CLASS+'">\t                </div>\t            ',BUTTON_AFFIRMATIVE_CONTINUE='<a href="#" class="btn affirmative-continue btn-primary modal-btn-primary pull-right" data-dismiss="modal">'+_("Continue").t()+"</a>";return ModalView.extend({moduleId:module.id,initialize:function(){this.options=_.extend({onHiddenRemove:!0},this.options),ModalView.prototype.initialize.apply(this,arguments),this.title=this.options.errorMessage?_("Error").t():this.options.title,this.message=this.options.message,this.errorMessage=this.options.errorMessage,this.collection=this.collection||{},this.collection.flashMessages=new FlashMessagesCollection,this.children.flashMessage=new FlashMessagesView({collection:this.collection.flashMessages,escape:!1}),this.$el.html(TEMPLATE_WITHOUT_CLOSE),this.$(ModalView.HEADER_TITLE_SELECTOR).html(this.title),this.$(ModalView.BODY_SELECTOR).prepend(this.children.flashMessage.render().el),this.$(ModalView.BODY_SELECTOR).append(this.message),this.errorMessage&&this.collection.flashMessages.reset([{type:"error",html:this.errorMessage}])},render:function(){return this},TEMPLATE_WITHOUT_CLOSE:TEMPLATE_WITHOUT_CLOSE},{BUTTON_AFFIRMATIVE_CONTINUE:BUTTON_AFFIRMATIVE_CONTINUE})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"splunk_monitoring_console-views/table/controls/FailureDialog":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("require/backbone"),__webpack_require__("collections/shared/FlashMessages"),__webpack_require__("splunk_monitoring_console-views/table/controls/SimpleDialog"),__webpack_require__("views/shared/FlashMessagesLegacy"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,Backbone,FlashMessagesCollection,SimpleDialog,FlashMessagesView,util){var button_continue='<a href="#" class="btn modal-btn-continue pull-right" data-dismiss="modal">'+_("Continue").t()+"</a>";return SimpleDialog.extend({moduleId:module.id,initialize:function(options){var defaults={title:_("Error").t(),message:_("Something went wrong. Please try again later.").t()};this.options=_.extend({},defaults,this.options),SimpleDialog.prototype.initialize.apply(this,arguments)},render:function(){return this.$(SimpleDialog.FOOTER_SELECTOR).append(button_continue),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"splunk_monitoring_console-views/table/controls/EditServerRolesDialog":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("require/backbone"),__webpack_require__("collections/shared/FlashMessages"),__webpack_require__("splunk_monitoring_console-models/Peer"),__webpack_require__("views/shared/Modal"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("splunk_monitoring_console-views/table/controls/ConfirmationDialog"),__webpack_require__("splunk_monitoring_console-views/table/controls/FailureDialog"),__webpack_require__("views/shared/FlashMessagesLegacy")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,Backbone,FlashMessagesCollection,PeerModel,ModalView,ControlGroupView,ConfirmationDialog,FailureDialog,FlashMessagesView){return ModalView.extend({moduleId:module.id,initialize:function(options){ModalView.prototype.initialize.apply(this,arguments),this.model.working=new Backbone.Model,this.collection=this.collection||{},this.collection.flashMessages=new FlashMessagesCollection;var canonicalRoles=PeerModel.getAllPrimaryRoles();_.each(canonicalRoles,function(roleId){this.model.working.set(roleId,_.contains(this.model.peer.entry.content.get("active_server_roles"),roleId)),this.children[roleId+"Field"]=new ControlGroupView({controlType:"SyntheticCheckbox",controlOptions:{modelAttribute:roleId,model:this.model.working},label:this.model.peer.getServerRoleI18n(roleId)})},this),this.children.flashMessage=new FlashMessagesView({collection:this.collection.flashMessages})},events:$.extend({},ModalView.prototype.events,{"click .btn-primary":function(e){e.preventDefault();var dialog=this,uiRoles=this.model.working.toJSON(),roles=[];this.collection.flashMessages.reset(),_.each(_.keys(uiRoles),function(uiRoleKey){uiRoles[uiRoleKey]&&roles.push(uiRoleKey)});var error=this.model.peer.entry.content.validate({active_server_roles:roles});if(error)this.collection.flashMessages.reset([{type:"error",html:error}]);else{var oldRoles=this.model.peer.entry.content.get("active_server_roles");this.model.peer.entry.content.set("active_server_roles",roles),$(e.target).prop("disabled",!0),this.model.peer.save().done(function(){this.model.state.set("changesMade",!0),dialog.hide();var confirmationDialog=new ConfirmationDialog({message:_("Your server roles have updated successfully.").t()}).render();$("body").append(confirmationDialog.el),confirmationDialog.show()}.bind(dialog)).fail(function(){dialog.hide(),this.model.peer.entry.content.set("active_server_roles",oldRoles);var failureDialog=(new FailureDialog).render();$("body").append(failureDialog.el),failureDialog.show()}.bind(dialog))}}}),render:function(){return this.$el.html(ModalView.TEMPLATE),this.$(ModalView.HEADER_TITLE_SELECTOR).html(_("Edit Server Roles").t()),this.$(ModalView.BODY_SELECTOR).prepend(this.children.flashMessage.render().el),this.$(ModalView.BODY_SELECTOR).append('<h4 class="instance-name">'+_.escape(this.model.peer.entry.content.get("peerName"))+"</h4>"),this.$(ModalView.BODY_SELECTOR).append(ModalView.FORM_HORIZONTAL),_.each(_.keys(this.children),function(childKey){"flashMessage"!==childKey&&this.$(ModalView.BODY_FORM_SELECTOR).append(this.children[childKey].render().el)},this),this.$(ModalView.FOOTER_SELECTOR).append(ModalView.BUTTON_CANCEL),this.$(ModalView.FOOTER_SELECTOR).append(ModalView.BUTTON_SAVE),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"splunk_monitoring_console-views/table/controls/EditInstanceDialog":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("collections/shared/FlashMessages"),__webpack_require__("views/shared/Modal"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("splunk_monitoring_console-views/table/controls/ConfirmationDialog"),__webpack_require__("splunk_monitoring_console-views/table/controls/FailureDialog"),__webpack_require__("splunk_monitoring_console-views/table/controls/MultiInputControl"),__webpack_require__("views/shared/FlashMessagesLegacy"),__webpack_require__("uri/route")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,FlashMessagesCollection,Modal,ControlGroup,ConfirmationDialog,FailureDialog,MultiInputControl,FlashMessagesView,route){return Modal.extend({moduleId:module.id,initialize:function(){Modal.prototype.initialize.apply(this,arguments),this.model.working=new Backbone.Model({host:this.model.peer.entry.content.get("host")||"",hostFqdn:this.model.peer.entry.content.get("host_fqdn")||"",indexerClusters:(this.model.peer.entry.content.get("indexerClusters")||[]).join(","),searchHeadClusters:(this.model.peer.entry.content.get("searchHeadClusters").slice()||[]).join(",")}),this.collection=this.collection||{},this.collection.flashMessages=new FlashMessagesCollection,this.children.hostField=new ControlGroup({label:_("Instance (host)").t(),controlType:"Text",controlOptions:{modelAttribute:"host",model:this.model.working},tooltip:_('The "host" metadata field that an instance uses to tag the events it reads from data inputs. Set in inputs.conf / [default] / host.').t()}),this.children.hostFqdnField=new ControlGroup({label:_("Machine name").t(),controlType:"Text",controlOptions:{modelAttribute:"hostFqdn",model:this.model.working},tooltip:_("The host name of the machine on which this instance is running.").t()}),this.indexerClustersControl=new MultiInputControl({model:this.model.working,collection:"localInstance"===this.model.peer.entry.content.get("type")?this.collection.peers:this.model.peer.collection,modelAttribute:"indexerClusters",attributeType:"array",collectionMethod:"getAllIndexerClusters",placeholder:_("Choose indexer clusters").t()}),this.children.indexerClustersField=new ControlGroup({label:_("Indexer clusters").t(),controlClass:"controls-block",controls:[this.indexerClustersControl]}),this.searchHeadClustersControl=new MultiInputControl({model:this.model.working,collection:"localInstance"===this.model.peer.entry.content.get("type")?this.collection.peers:this.model.peer.collection,modelAttribute:"searchHeadClusters",attributeType:"array",collectionMethod:"getAllSearchHeadClusters",placeholder:_("Choose search head clusters").t()}),this.children.searchHeadClustersField=new ControlGroup({label:_("Search head clusters").t(),controlClass:"controls-block",controls:[this.searchHeadClustersControl]}),this.children.flashMessage=new FlashMessagesView({collection:this.collection.flashMessages}),this.children.helpLink=route.docHelp(this.model.application.get("root"),this.model.application.get("locale"),"learnmore.dmc.instancename")},events:$.extend({},Modal.prototype.events,{"click .btn-primary":function(e){e.preventDefault();var that=this,error=null;if(that.collection.flashMessages.reset(),that.model.peer.canEditHosts()&&(error=that.model.peer.entry.content.validate({host:that.model.working.get("host"),host_fqdn:that.model.working.get("hostFqdn")})),that.model.peer.canEditIndexerClusters()&&(error=error||that.model.peer.entry.content.validate({indexerClusters:that.model.working.get("indexerClusters").split(",")})),that.model.peer.canEditSearchHeadClusters()&&(error=error||that.model.peer.entry.content.validate({searchHeadClusters:that.model.working.get("searchHeadClusters").split(",")})),error)that.collection.flashMessages.reset([{type:"error",html:error}]);else{var oldHost=that.model.peer.entry.content.get("host"),oldHostFqdn=that.model.peer.entry.content.get("host_fqdn"),oldIndexerClusters=that.model.peer.entry.content.get("indexerClusters"),oldSearchHeadClusters=that.model.peer.entry.content.get("searchHeadClusters"),workingIndexerClusters=null,workingSearchHeadClusters=null,toSet={};that.model.peer.canEditHosts()&&(toSet=$.extend(toSet,{host:that.model.working.get("host"),host_fqdn:that.model.working.get("hostFqdn")})),that.model.peer.canEditIndexerClusters()&&(workingIndexerClusters=this.model.working.get("indexerClusters"),toSet=$.extend(toSet,{indexerClusters:workingIndexerClusters?workingIndexerClusters.split(","):[]})),that.model.peer.canEditSearchHeadClusters()&&(workingSearchHeadClusters=this.model.working.get("searchHeadClusters"),toSet=$.extend(toSet,{searchHeadClusters:workingSearchHeadClusters?workingSearchHeadClusters.split(","):[]})),that.model.peer.entry.content.set(toSet),$(e.target).prop("disabled",!0),that.model.peer.save().done(function(){that.model.state.set("changesMade",!0),that.model.peer.canEditHosts()&&that.model.peer.hasHostOverrides(!0),that.model.peer.canEditIndexerClusters()&&that.model.peer.hasIndexerClusterOverride(!0),that.model.peer.canEditSearchHeadClusters()&&that.model.peer.hasSearchHeadClusterOverride(!0),that.hide();var confirmationDialog=new ConfirmationDialog({message:_("Your instance name has updated successfully.").t()}).render();$("body").append(confirmationDialog.el),confirmationDialog.show()}.bind(that)).fail(function(){this.model.peer.entry.content.set("host",oldHost),this.model.peer.entry.content.set("host_fqdn",oldHostFqdn),this.model.peer.entry.content.set("indexerClusters",oldIndexerClusters),this.model.peer.entry.content.set("searchHeadClusters",oldSearchHeadClusters),that.hide();var dialog=(new FailureDialog).render();$("body").append(dialog.el),dialog.show()}.bind(this))}}}),render:function(){var instanceName='<h4 class="instance-name">'+_.escape(this.model.peer.entry.content.get("peerName"))+"</h4>",helpLink='<a href="'+this.children.helpLink+'" class="external help-link" target="_blank">'+_("Learn More").t()+"</a>";return this.$el.html(Modal.TEMPLATE),this.$(Modal.HEADER_TITLE_SELECTOR).html(_("Edit Instance").t()),this.$(Modal.BODY_SELECTOR).prepend(this.children.flashMessage.render().el),this.$(Modal.BODY_SELECTOR).append(instanceName+helpLink),this.$(Modal.BODY_SELECTOR).append(Modal.FORM_HORIZONTAL),this.model.peer.canEditHosts()&&(this.$(Modal.BODY_FORM_SELECTOR).append(this.children.hostField.render().el),this.$(Modal.BODY_FORM_SELECTOR).append(this.children.hostFqdnField.render().el)),this.model.peer.canEditIndexerClusters()&&this.$(Modal.BODY_FORM_SELECTOR).append(this.children.indexerClustersField.render().el),this.model.peer.canEditSearchHeadClusters()&&this.$(Modal.BODY_FORM_SELECTOR).append(this.children.searchHeadClustersField.render().el),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_CANCEL),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_SAVE),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"splunk_monitoring_console-views/table/controls/DisableConfirmationDialog":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("require/backbone"),__webpack_require__("collections/shared/FlashMessages"),__webpack_require__("views/shared/FlashMessagesLegacy"),__webpack_require__("splunk_monitoring_console-views/table/controls/SimpleDialog"),__webpack_require__("splunk_monitoring_console-views/table/controls/ConfirmationDialog"),__webpack_require__("splunk_monitoring_console-views/table/controls/FailureDialog")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,Backbone,FlashMessagesCollection,FlashMessagesView,SimpleDialog,ConfirmationDialog,FailureDialog){var BUTTON_DISABLE='<a href="#" class="btn btn-primary" data-dismiss="modal">'+_("Disable").t()+"</a>";return SimpleDialog.extend({moduleId:module.id,initialize:function(){var defaults={title:_("Disable Instance").t(),message:'<div class="alert alert-warning"><i class="icon-alert" />'+_("All your preconfigured roles will be lost.").t()+"</div><p>"+_("Are you sure you want to disable this instance?").t()+"</p>"};this.options=_.extend({},defaults,this.options),SimpleDialog.prototype.initialize.apply(this,arguments)},events:$.extend({},SimpleDialog.prototype.events,{"click .btn-primary":function(e){e.preventDefault();var assets=this.model.peer.collection?this.model.peer.collection.assets:this.collection.peers.assets,settingsAsset=assets.find(function(asset){return"settings"===asset.entry.get("name")}),blackList=settingsAsset.entry.content.get("blackList");blackList=$.trim(blackList)?blackList.split(","):[],blackList.push(this.model.peer.entry.get("name")),settingsAsset.entry.content.set("blackList",blackList.join(",")),this.model.peer.removeAllServerRoles();var deferred=[settingsAsset.save(),this.model.peer.save()];$(e.target).prop("disabled",!0),$.when.apply($,deferred).done(function(){this.model.peer.entry.content.set("errorMessages",[]),this.model.peer.entry.content.set("warningMessages",[]),this.model.state.trigger("updateRows"),this.model.peer.entry.content.set("status-toggle","Disabled"),this.model.state.set("changesMade",!0),this.hide();var dialog=new ConfirmationDialog({message:_("Your instance has been disabled.").t()});$("body").append(dialog.render().el),dialog.show()}.bind(this)).fail(function(){this.hide();var dialog=(new FailureDialog).render();$("body").append(dialog.el),dialog.show()}.bind(this))}}),render:function(){return this.$(SimpleDialog.FOOTER_SELECTOR).append(SimpleDialog.BUTTON_CANCEL),this.$(SimpleDialog.FOOTER_SELECTOR).append(BUTTON_DISABLE),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/TableHead":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/controls/SyntheticCheckboxControl"),__webpack_require__("util/keyboard"),__webpack_require__("shim/bootstrap.tooltip")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,BaseView,SyntheticCheckboxControl,KeyboardUtil){return BaseView.extend({moduleId:module.id,tagName:"thead",className:"table-head",initialize:function(){BaseView.prototype.initialize.apply(this,arguments);var defaults={columns:[]};_.defaults(this.options,defaults);var model=this.model;this.model={},this.model.state=model.state||model,model.checkbox&&(this.model.checkbox=model.checkbox),this.activate()},events:{"click th":function(e){this.handleClick(e),e.preventDefault()},"keyup th":function(e){e.which===KeyboardUtil.KEYS.ENTER&&this.handleClick(e)},"click th a":function(e){e.preventDefault()},"click a.tooltip-link":function(e){e.preventDefault(),$(".tooltip").remove()}},handleClick:function(e){var $target=$(e.currentTarget),sortKey=$target.attr("data-key"),sortDirection=$target.hasClass("asc")?"desc":"asc";return!sortKey||void this.model.state.set({sortKey:sortKey,sortDirection:sortDirection})},startListening:function(){this.listenTo(this.model.state,"change:sortKey change:sortDirection",this.debouncedRender)},render:function(){var html=this.compiledTemplate({_:_,columns:this.options.columns,model:this.model.state});return this.$el.html(html),this.options.checkboxClassName&&(this.children.checkbox&&this.children.checkbox.remove(),this.children.checkbox=new SyntheticCheckboxControl({modelAttribute:"selectAll",model:this.model.checkbox||this.model.state}),this.children.checkbox.render().appendTo(this.$("."+this.options.checkboxClassName))),this.options.columns.forEach(function(column){column.tooltip&&this.$("."+column.className).find(".column-tooltip").tooltip({animation:!1,title:column.tooltip,container:"body"})}.bind(this)),this},template:'\t                <tr class="">\t                    <% _.each(columns, function(value) { %>\t                        <% if (_.isFunction(value.visible) && !value.visible.call()) { return; } %>\t                        <% var sortableClassName = (value.sortKey) ? "sorts" : "" %>\t                        <% var activeClassName = model.get("sortKey") && value.sortKey==model.get("sortKey") ? "active " + model.get("sortDirection") : "" %>\t                        <th scope="col" data-key="<%- value.sortKey || "" %>"\t                            <% if (sortableClassName || value.label) { %>\t                                tabindex="<%- value.tabindex || 0 %>"\t                            <% } %>\t                            class="<%- sortableClassName %> <%- activeClassName %> <%- value.className || "" %>"\t                            <%- value.colSpan ? "colspan=" + value.colSpan : "" %>\t                            <% if (value.ariaLabel) { %>\t                                aria-label="<%- value.ariaLabel %>"\t                            <% } else if (value.label) { %>\t                                aria-label="<%- value.label %>"\t                            <% } %>\t                        >\t                        <% if (value.html) { %>\t                            <%= value.html %>\t                            <% if (value.sortKey) { %>\t                                <i class="icon-sorts <%- activeClassName %>"></i>\t                            <% } %>\t                        <% } else if (value.sortKey) { %>\t                            <a aria-hidden="true"><%- value.label %>\t                                <% if (value.tooltip) { %>\t                                    <a aria-hidden="true" href="#" class="column-tooltip tooltip-link"><%- _("?").t() %></a>\t                                <% } %>\t                                <i class="icon-sorts <%- activeClassName %>"></i>\t                            </a>\t                        <% } else { %>\t                                <%- value.label %>\t                            <% } %>\t                        </th>\t                    <% }) %>\t                </tr>\t            '
})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"splunk_monitoring_console-views/table/MoreInfo":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("collections/shared/FlashMessages"),__webpack_require__("views/Base"),__webpack_require__("views/shared/FlashMessagesLegacy"),__webpack_require__("stubs/splunk.config"),__webpack_require__("uri/route")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,FlashMessagesCollection,BaseView,FlashMessagesView,config,route){return BaseView.extend({moduleId:module.id,tagName:"tr",className:"more-info",initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.$el.addClass(this.options.index%2?"odd":"even").css("display","none"),this.collection=this.collection||new Backbone.Collection,this.collection.errorsCollection=new FlashMessagesCollection,this.collection.warningsCollection=new FlashMessagesCollection,this.children.errorMessages=new FlashMessagesView({collection:this.collection.errorsCollection,escape:!1}),this.children.warningMessages=new FlashMessagesView({collection:this.collection.warningsCollection,escape:!1});var errorMessages=_.uniq(this.model.peer.entry.content.get("errorMessages"));errorMessages.length>0&&this.collection.errorsCollection.reset(_.map(errorMessages,function(message){return{type:"error",html:message}}));var warningMessages=_.uniq(this.model.peer.entry.content.get("warningMessages"));warningMessages.length>0&&this.collection.warningsCollection.reset(_.map(warningMessages,function(message){return{type:"warning",html:message}})),this.activate()},_hasProblem:function(){return this.model.peer.entry.content.get("errorMessages").length>0||this.model.peer.entry.content.get("warningMessages").length>0},render:function(){var root=0===config.MRSPARKLE_ROOT_PATH.indexOf("/")?config.MRSPARKLE_ROOT_PATH.substring(1):config.MRSPARKLE_ROOT_PATH,os_name=(this.model.peer.entry.get("name")||_("N/A").t(),this.model.peer.entry.content.get("os_name")?this.model.peer.entry.content.get("os_name"):_("N/A").t()),number_of_cores=this.model.peer.entry.content.get("numberOfCores")||_("N/A").t(),physical_memory_mb=this.model.peer.entry.content.get("physicalMemoryMB")?this.model.peer.entry.content.get("physicalMemoryMB")+"MB":_("N/A").t(),version=this.model.peer.entry.content.get("version")||_("N/A").t();return this.$el.html(this.compiledTemplate({peer:this.model.peer,os_name:os_name,number_of_cores:number_of_cores,physical_memory_mb:physical_memory_mb,version:version})),this._hasProblem()&&this.$("td.details").prepend("<p class='message-generic-warning-learn-more'>"+_("Resolve these problems to ensure that your dashboards are complete.").t()+" <a style='font-weight:bold;' href='"+route.docHelp(root,config.LOCALE,"app.splunk_monitoring_console.warnings")+"'' target='_blank' class='external'>"+_("Learn more").t()+"</a></p>"),this.$("td.details").prepend(this.children.warningMessages.render().el),this.$("td.details").prepend(this.children.errorMessages.render().el),this},template:'\t                <td class="details" colspan="12">\t                    <dl class="list-dotted">\t                        <dt class="peer_uri"><%- _("Peer URI").t() %></dt>\t                            <dd class="peer_uri"><%- peer.entry.get("name") || _("N/A").t() %></dd>\t                        <dt class="os_name"><%- _("OS").t() %></dt>\t                            <dd class="os_name"><%- os_name %></dd>\t                        <dt class="numberOfCores"><%- _("Cores").t() %></dt>\t                            <dd class="numberOfCores"><%- number_of_cores %></dd>\t                        <dt class="physicalMemoryMB"><%- _("RAM").t() %></dt>\t                            <dd class="physicalMemoryMB"><%- physical_memory_mb %></dd>\t                        <dt class="version"><%- _("Version").t() %></dt>\t                            <dd class="version"><%- version %></dd>\t                    </dl>\t                </td>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/tablecaption/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/CollectionPaginator"),__webpack_require__("views/shared/CollectionCount"),__webpack_require__("views/shared/controls/SyntheticRadioControl"),__webpack_require__("views/shared/FindInput"),__webpack_require__("views/shared/delegates/Dock")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,BaseView,PaginatorView,CountView,SyntheticRadioView,InputView,Dock){return BaseView.extend({moduleId:module.id,tagName:"div",className:"table-caption",initialize:function(){if(BaseView.prototype.initialize.apply(this,arguments),this.children.count=new CountView({countLabel:this.options.countLabel,model:this.model.state,collection:this.collection,tagName:"h3"}),!this.options.noFilterButtons){var filterButtons=[];filterButtons="system"===this.model.application.get("app")?[{label:_("All").t(),value:"none"},{label:_("Yours").t(),value:"owner"}]:[{label:_("All").t(),value:"none"},{label:_("Yours").t(),value:"owner"},{label:_("This App's").t(),value:"app"}],this.children.filterButtons=new SyntheticRadioView({modelAttribute:"display.prefs.aclFilter",model:this.model.uiPrefs.entry.content,items:filterButtons})}this.children.paginatorView=new PaginatorView({collection:this.collection,model:this.model.state}),this.options.noFilter||(this.children.input=new InputView({model:this.model.state,rawSearch:this.model.rawSearch,key:this.options.filterKey})),this.options.showListModeButtons&&(this.children.listModeButtons=new SyntheticRadioView({modelAttribute:"display.prefs.listMode",model:this.model.uiPrefs.entry.content,items:[{icon:"tiles",iconSize:"icon-small",tooltip:_("Tiles").t(),value:"tiles"},{icon:"rows",iconSize:"icon-small",tooltip:_("Table").t(),value:"table"}]}))},render:function(){this.$el.append(this.template);var $tableCaptionInner=this.$(".table-caption-inner");return this.children.count.render().appendTo($tableCaptionInner),this.children.paginatorView.render().appendTo($tableCaptionInner),this.children.listModeButtons&&this.children.listModeButtons.render().appendTo($tableCaptionInner),this.options.noFilterButtons||this.children.filterButtons.render().appendTo($tableCaptionInner),this.options.noFilter||this.children.input.render().appendTo($tableCaptionInner),this.options.noDock||(this.children.tableDock=new Dock({el:this.el,affix:".table-caption-inner"})),this},template:'\t                <div class="table-caption-inner"></div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/delegates/Dock":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("views/shared/delegates/Base")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,DelegateBase){return DelegateBase.extend({awake:!0,initialize:function(options){var defaults={offset:0,affix:"> div",affixTopClassName:"affix-top"};_.defaults(options,defaults),DelegateBase.prototype.initialize.apply(this,arguments),this.$container=this.$el.parent(),this.$window=$(window),this.windowHeight=this.$window.height(),this.activate(),this.resizeWindow()},activate:function(options){return options||(options={}),this.active?DelegateBase.prototype.activate.call(this,options):(this.$window.on("scroll.affix."+this.cid,this.checkPosition.bind(this)),this.$window.on("resize.affix."+this.cid,this.resizeWindow.bind(this)),this.$window.on("click.affix."+this.cid,function(){_.defer(this.checkPosition.bind(this))}.bind(this)),this.checkPosition(),this.resizeWindow(),DelegateBase.prototype.activate.call(this,options))},deactivate:function(options){return options||(options={}),this.active?(DelegateBase.prototype.deactivate.apply(this,arguments),this.$window.off("."+this.cid),delete this.affixed,this):DelegateBase.prototype.deactivate.apply(this,arguments)},resizeWindow:function(){this.windowHeight=this.$window.height(),this.checkPosition()},checkPosition:function(){if(this.$el.is(":visible")){var affix,scrollTop=this.$window.scrollTop(),containerTop=this.$el.offset().top;this.$el.height();affix=scrollTop>containerTop-this.options.offset,this.affixed!==affix&&(this.affixed=affix,this.$(this.options.affix)[affix?"addClass":"removeClass"](this.options.affixTopClassName))}},disable:function(){this.$(this.options.affix).addClass("disabled")},enable:function(){this.$(this.options.affix).removeClass("disabled")},remove:function(){return $(window).off("scroll.affix."+this.cid),$(window).off("resize.affix."+this.cid),$(window).off("click.affix."+this.cid),DelegateBase.prototype.deactivate.apply(this,arguments)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"splunk_monitoring_console-views/table/controls/EditAllMenu":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("views/shared/PopTart"),__webpack_require__("splunk_monitoring_console-views/table/controls/EditAllServerRolesDialog"),__webpack_require__("splunk_monitoring_console-views/table/controls/EditAllGroupsDialog"),__webpack_require__("splunk_monitoring_console-views/table/controls/EditAllDisableDialog"),__webpack_require__("splunk_monitoring_console-views/table/controls/EditAllSuccessFailureDialog")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,PopTartView,EditAllServerRolesDialogView,EditAllGroupsDialog,EditAllDisableDialog,EditAllSuccessFailureDialog){return PopTartView.extend({moduleId:module.id,className:"dropdown-menu",initialize:function(options){options=_.defaults(options,{mode:"menu"}),PopTartView.prototype.initialize.call(this,options)},events:{"click a.disabled":function(e){e.preventDefault()},"click a.edit-all-server-roles.enabled":function(e){e.preventDefault();var dialog=new EditAllServerRolesDialogView({model:{state:this.model.state},collection:{peers:this.collection.peers},onHiddenRemove:!0});$("body").append(dialog.render().el),dialog.show()},"click a.edit-all-groups.enabled":function(e){e.preventDefault();var dialog=new EditAllGroupsDialog({model:{state:this.model.state},collection:{peers:this.collection.peers},onHiddenRemove:!0});$("body").append(dialog.render().el),dialog.show()},"click a.edit-all-disable.enabled":function(e){e.preventDefault();var dialog=new EditAllDisableDialog({model:{state:this.model.state},collection:{peers:this.collection.peers}});$("body").append(dialog.render().el),dialog.show()},"click a.edit-all-enable.enabled":function(e){e.preventDefault();var settingsAsset=this.collection.peers.models[0].collection.assets.find(function(asset){return"settings"===asset.entry.get("name")}),blackList=settingsAsset.entry.content.get("blackList").split(",");this.collection.peers.where({"bulk-selected":!0}).forEach(function(peer){var peerName=peer.entry.get("name");$.inArray(peerName,blackList)!==-1&&(blackList.splice($.inArray(peerName,blackList),1),peer.entry.content.set("status-toggle","Enabled"),peer.resetInitialInternalServerRoles())}.bind(this)),settingsAsset.entry.content.set("blackList",blackList.join(",")),$.when(settingsAsset.save()).done(function(){this.hide(),this.model.state.set("changesMade",!0);var dialog=new EditAllSuccessFailureDialog({title:_("Enable Selected Instances").t(),message:_("Selected instances successfully enabled.").t()});$("body").append(dialog.render().el),dialog.show()}.bind(this)).fail(function(){this.hide(),this.model.state.set("changesMade",!0);var dialog=new EditAllSuccessFailureDialog({title:_("Enable Selected Instances").t(),message:_("Failed to enable selected instances. Please try again later.").t()});$("body").append(dialog.render().el),dialog.show()}.bind(this))}},render:function(){this.el.innerHTML=PopTartView.prototype.template_menu;var editMenuDisabled=0===this.collection.clientSidePeers.where({"bulk-selected":!0}).length;return this.$el.append(this.compiledTemplate({disabled:editMenuDisabled?"disabled":"enabled"})),this},template:'\t                <ul class="first-group">\t                    <li><a href="#" class="edit-all-server-roles <%= disabled %>"><%- _("Set Server Roles").t() %></a></li>\t                    <li><a href="#" class="edit-all-groups <%= disabled %>"><%- _("Set Custom Groups").t() %></a></li>\t                    <li><a href="#" class="edit-all-disable <%= disabled %>"><%- _("Disable Monitoring").t() %></a></li>\t                    <li><a href="#" class="edit-all-enable <%= disabled %>"><%- _("Enable Monitoring").t() %></a></li>\t                </ul>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"splunk_monitoring_console-views/table/controls/EditAllServerRolesDialog":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("require/backbone"),__webpack_require__("collections/shared/FlashMessages"),__webpack_require__("splunk_monitoring_console-models/Peer"),__webpack_require__("views/shared/Modal"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("splunk_monitoring_console-views/table/controls/EditAllSuccessFailureDialog"),__webpack_require__("views/shared/FlashMessagesLegacy")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,Backbone,FlashMessagesCollection,PeerModel,ModalView,ControlGroupView,EditAllSuccessFailureDialog,FlashMessagesView){return ModalView.extend({moduleId:module.id,initialize:function(options){ModalView.prototype.initialize.apply(this,arguments),this.model.working=new Backbone.Model,this.collection=this.collection||{},this.collection.flashMessages=new FlashMessagesCollection;var canonicalRoles=PeerModel.getAllPrimaryRoles();_.each(canonicalRoles,function(roleId){this.model.working.set(roleId,!1),this.children[roleId+"Field"]=new ControlGroupView({controlType:"SyntheticCheckbox",controlOptions:{modelAttribute:roleId,model:this.model.working},label:this.collection.peers.at(0).getServerRoleI18n(roleId)})},this),this.children.flashMessage=new FlashMessagesView({collection:this.collection.flashMessages})},events:$.extend({},ModalView.prototype.events,{"click .btn-primary":function(e){e.preventDefault();var uiRoles=this.model.working.toJSON(),roles=[];this.collection.flashMessages.reset(),_.each(_.keys(uiRoles),function(uiRoleKey){uiRoles[uiRoleKey]&&roles.push(uiRoleKey)});var selected_peers=this.collection.peers.filter(function(peer){return peer.get("bulk-selected")}),error=_.chain(selected_peers).map(function(peer){return peer.entry.content.validate({active_server_roles:roles})}).filter(function(message){return message}).first().value();return error?void this.collection.flashMessages.reset([{type:"error",html:error}]):(_(selected_peers).each(function(peer){peer.entry.content.set("active_server_roles",roles)}.bind(this)),$(e.target).prop("disabled",!0),void $.when(this.collection.peers.saveSelected()).done(function(){this.model.state.set("changesMade",!0),this.hide();var dialog=new EditAllSuccessFailureDialog({title:_("Set Server Roles").t(),message:_("Selected instances successfully updated.").t()});$("body").append(dialog.render().el),dialog.show()}.bind(this)).fail(function(){this.model.state.set("changesMade",!0),this.hide();var dialog=new EditAllSuccessFailureDialog({title:_("Set Server Roles").t(),message:_("Failed to update selected instances. Please try again later").t()});$("body").append(dialog.render().el),dialog.show()}.bind(this)))}}),render:function(){return this.$el.html(ModalView.TEMPLATE),this.$(ModalView.HEADER_TITLE_SELECTOR).html(_("Set Server Roles").t()),this.$(ModalView.BODY_SELECTOR).prepend(this.children.flashMessage.render().el),this.$(ModalView.BODY_SELECTOR).append(ModalView.FORM_HORIZONTAL),_.each(_.keys(this.children),function(childKey){"flashMessage"!==childKey&&this.$(ModalView.BODY_FORM_SELECTOR).append(this.children[childKey].render().el)},this),this.$(ModalView.FOOTER_SELECTOR).append(ModalView.BUTTON_CANCEL),this.$(ModalView.FOOTER_SELECTOR).append(ModalView.BUTTON_SAVE),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"splunk_monitoring_console-views/table/controls/EditAllSuccessFailureDialog":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("require/backbone"),__webpack_require__("collections/shared/FlashMessages"),__webpack_require__("splunk_monitoring_console-views/table/controls/SimpleDialog"),__webpack_require__("views/shared/FlashMessagesLegacy"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,Backbone,FlashMessagesCollection,SimpleDialog,FlashMessagesView,util){return SimpleDialog.extend({moduleId:module.id,initialize:function(options){var defaults={};this.options=_.extend({},defaults,this.options),SimpleDialog.prototype.initialize.apply(this,arguments)},render:function(){return this.$(SimpleDialog.FOOTER_SELECTOR).append(SimpleDialog.BUTTON_DONE),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"splunk_monitoring_console-views/table/controls/EditAllGroupsDialog":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("collections/shared/FlashMessages"),__webpack_require__("views/shared/Modal"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("splunk_monitoring_console-views/table/controls/MultiInputControl"),__webpack_require__("splunk_monitoring_console-views/table/controls/EditAllSuccessFailureDialog"),__webpack_require__("views/shared/FlashMessagesLegacy")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,FlashMessagesCollection,Modal,ControlGroup,MultiInputControl,EditAllSuccessFailureDialog,FlashMessagesView){return Modal.extend({moduleId:module.id,initialize:function(){Modal.prototype.initialize.apply(this,arguments),this.model.working=new Backbone.Model({tags:""}),this._warningMessageIsShowing=!1,this.collection=this.collection||{},this.collection.flashMessages=new FlashMessagesCollection,this.groupTagsInputControl=new MultiInputControl({model:this.model.working,collection:this.collection.peers,modelAttribute:"tags",attributeType:"array",placeholder:_("Choose groups").t(),collectionMethod:"getAllTags"}),this.children.groupTags=new ControlGroup({label:_("Group Tags").t(),controlClass:"controls-block",controls:[this.groupTagsInputControl]}),this.children.flashMessage=new FlashMessagesView({collection:this.collection.flashMessages})},events:$.extend({},Modal.prototype.events,{"click .btn-primary":function(e){if(e.preventDefault(),!this._warningMessageIsShowing)return this._warningMessageIsShowing=!0,void this.collection.flashMessages.reset([{type:"warning",html:_("Saving group tags will overwrite all existing group tags.").t()}]);var tags=this.model.working.get("tags");tags=$.trim(tags)?tags.split(","):[],this.collection.flashMessages.reset();var selected_peers=this.collection.peers.filter(function(peer){return peer.get("bulk-selected")}),error=_.chain(selected_peers).map(function(peer){return peer.entry.content.validate({tags:tags})}).filter(function(message){return message}).first().value();return error?void this.collection.flashMessages.reset([{type:"error",html:error}]):(_(selected_peers).each(function(peer){peer.entry.content.set("tags",tags)}.bind(this)),$(e.target).prop("disabled",!0),void $.when(this.collection.peers.saveSelected()).done(function(){this.model.state.set("changesMade",!0),this.hide();var dialog=new EditAllSuccessFailureDialog({title:_("Set Custom Groups").t(),message:_("Selected instances successfully updated.").t()});$("body").append(dialog.render().el),dialog.show()}.bind(this)).fail(function(){this.model.state.set("changesMade",!0),this.hide();var dialog=new EditAllSuccessFailureDialog({title:_("Set Custom Groups").t(),message:_("Failed to update selected instances. Please try again later").t()});$("body").append(dialog.render().el),dialog.show()}.bind(this)))}}),render:function(){return this.$el.html(Modal.TEMPLATE),this.$(Modal.HEADER_TITLE_SELECTOR).html(_("Set Group Tags").t()),this.$(Modal.BODY_SELECTOR).prepend(this.children.flashMessage.render().el),this.$(Modal.BODY_SELECTOR).append(Modal.FORM_HORIZONTAL),this.$(Modal.BODY_FORM_SELECTOR).append(this.children.groupTags.render().el),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_CANCEL),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_SAVE),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"splunk_monitoring_console-views/table/controls/EditAllDisableDialog":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("require/backbone"),__webpack_require__("collections/shared/FlashMessages"),__webpack_require__("views/shared/FlashMessagesLegacy"),__webpack_require__("splunk_monitoring_console-views/table/controls/SimpleDialog"),__webpack_require__("splunk_monitoring_console-views/table/controls/EditAllSuccessFailureDialog")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,Backbone,FlashMessagesCollection,FlashMessagesView,SimpleDialog,EditAllSuccessFailureDialog){var BUTTON_DISABLE='<a href="#" class="btn btn-primary" data-dismiss="modal">'+_("Disable Selected Instances").t()+"</a>";return SimpleDialog.extend({moduleId:module.id,initialize:function(){var defaults={title:_("Disable All Selected Instances").t(),message:_.template(this.defaultMessageTemplate)};this.options=_.extend({},defaults,this.options),SimpleDialog.prototype.initialize.apply(this,arguments)},defaultMessageTemplate:'\t                <div class="alert alert-warning">\t                    <span class="icon-alert"></span> <%= _(" All your preconfigured roles will be lost.").t() %></span>\t                </div>\t                <div>\t                    <p>\t                        <%= _("Are you sure you want to disable the selected instances?").t() %>\t                    </p>\t                </div>',events:$.extend({},SimpleDialog.prototype.events,{"click .btn-primary":function(e){e.preventDefault();var selectedPeers=this.collection.peers.filter(function(peer){return peer.get("bulk-selected")}),selectedPeersNames=selectedPeers.map(function(peer){return peer.removeAllServerRoles(),peer.entry.get("name")}),settingsAsset=this.collection.peers.assets.find(function(asset){return"settings"===asset.entry.get("name")}),blackList=settingsAsset.entry.content.get("blackList");blackList=$.trim(blackList)?blackList.split(","):[],blackList=_.union(blackList,selectedPeersNames),settingsAsset.entry.content.set("blackList",blackList.join(","));var deferred=[settingsAsset.save(),this.collection.peers.saveSelected()];$(e.target).prop("disabled",!0),$.when.apply($,deferred).done(function(){_(selectedPeers).each(function(peer){peer.entry.content.set("errorMessages",[]),peer.entry.content.set("warningMessages",[]),this.model.state.trigger("updateRows"),peer.entry.content.set("status-toggle","Disabled"),this.model.state.set("changesMade",!0)}.bind(this)),this.hide();var dialog=new EditAllSuccessFailureDialog({title:_("Disable Selected Instances").t(),message:_("Selected instances successfully disabled.").t()});$("body").append(dialog.render().el),dialog.show()}.bind(this)).fail(function(){this.hide();var dialog=new EditAllSuccessFailureDialog({title:_("Disable Selected Instances").t(),message:_("Failed to disable selected instances. Please try again later").t()});$("body").append(dialog.render().el),dialog.show()})}}),render:function(){return this.$(SimpleDialog.FOOTER_SELECTOR).append(SimpleDialog.BUTTON_CANCEL),this.$(SimpleDialog.FOOTER_SELECTOR).append(BUTTON_DISABLE),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"splunk_monitoring_console-views/table/controls/ConfigureAllConfirmationDialog":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("require/backbone"),__webpack_require__("collections/shared/FlashMessages"),__webpack_require__("splunk_monitoring_console-views/table/controls/SimpleDialog"),__webpack_require__("views/shared/FlashMessagesLegacy"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,Backbone,FlashMessagesCollection,SimpleDialog,FlashMessagesView,util){var BUTTON_OVERVIEW='<a href="#" class="btn btn-primary modal-btn-primary overview pull-left" data-dismiss="modal">'+_("Go to Overview").t()+"</a>",BUTTON_REFRESH='<a href="#" class="btn btn-primary modal-btn-primary refresh pull-right" data-dismiss="modal">'+_("Refresh").t()+"</a>";return SimpleDialog.extend({moduleId:module.id,initialize:function(options){var defaults={title:_("Success!").t()};this.options=_.extend({},defaults,this.options),SimpleDialog.prototype.initialize.apply(this,arguments),this.application=this.options.application},events:$.extend({},SimpleDialog.prototype.events,{"click .btn.refresh":function(e){this.hide(),location.reload()},"click .btn.overview":function(e){this.hide(),util.redirect_to(["app",this.application.get("app"),"monitoringconsole_overview"].join("/"))}}),render:function(){return this.$(SimpleDialog.FOOTER_SELECTOR).append(BUTTON_OVERVIEW),this.$(SimpleDialog.FOOTER_SELECTOR).append(BUTTON_REFRESH),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"splunk_monitoring_console-views/table/controls/ErrorDialog":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("require/backbone"),__webpack_require__("collections/shared/FlashMessages"),__webpack_require__("splunk_monitoring_console-views/table/controls/SimpleDialog"),__webpack_require__("views/shared/FlashMessagesLegacy")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,Backbone,FlashMessagesCollection,SimpleDialog,FlashMessagesView){return SimpleDialog.extend({moduleId:module.id,initialize:function(options){var defaults={title:_("Error").t()};this.options=_.extend({},defaults,this.options),SimpleDialog.prototype.initialize.apply(this,arguments),this.collection=this.collection||Backbone.Collection(),this.collection.flashMessages=new FlashMessagesCollection,this.children.flashMessagesView=new FlashMessagesView({collection:this.collection.flashMessages}),this.collection.flashMessages.reset([{type:"error",html:_("You have some unresolved errors that need to be fixed before you can proceed. Check the problems column and expand for more detail.").t()}])},render:function(){return this.$(SimpleDialog.BODY_SELECTOR).append(this.children.flashMessagesView.render().el),this.$(SimpleDialog.FOOTER_SELECTOR).append(SimpleDialog.BUTTON_CANCEL),this.$(".btn.cancel").text(_("Continue").t()),this.$(".btn.cancel").css("float","right"),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"splunk_monitoring_console-views/table/controls/UserConfirmationDialog":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("require/backbone"),__webpack_require__("collections/shared/FlashMessages"),__webpack_require__("views/shared/Modal"),__webpack_require__("views/shared/FlashMessagesLegacy"),__webpack_require__("stubs/splunk.config"),__webpack_require__("uri/route")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,Backbone,FlashMessagesCollection,ModalView,FlashMessagesView,config,route){return ModalView.extend({moduleId:module.id,initialize:function(){ModalView.prototype.initialize.apply(this,arguments),this.collection=this.collection||{},this.collection.flashMessages=new FlashMessagesCollection,this.children.flashMessage=new FlashMessagesView({collection:this.collection.flashMessages}),this.collection.flashMessages.reset(_.map(this.options.messages,function(message){return{type:"warning",html:message}}))},events:$.extend({},ModalView.prototype.events,{"click .btn-primary":function(e){e.preventDefault(),this.hide(),this.model.confirm.trigger("confirmed")}}),render:function(){var root=0===config.MRSPARKLE_ROOT_PATH.indexOf("/")?config.MRSPARKLE_ROOT_PATH.substring(1):config.MRSPARKLE_ROOT_PATH;return this.$el.html(ModalView.TEMPLATE),this.$(ModalView.HEADER_TITLE_SELECTOR).html(_("Are you sure?").t()),this.$(ModalView.HEADER_SELECTOR).append("<div><p style='font-size: 10px;'><a style='font-weight:bold;' href='"+route.docHelp(root,config.LOCALE,"app.splunk_monitoring_console.warnings")+"' target='_blank'>"+_("Learn more").t()+"</a>"+_(" about warnings.").t()+"</p></div>"),this.$(ModalView.BODY_SELECTOR).prepend(this.children.flashMessage.render().el),this.$(ModalView.FOOTER_SELECTOR).append(ModalView.BUTTON_CANCEL),this.$(ModalView.FOOTER_SELECTOR).append(ModalView.BUTTON_SAVE),this.$(".btn-primary").text(_("Save").t()),this.$(".btn.cancel").text(_("Continue editing").t()),this.$(ModalView.HEADER_SELECTOR).css({padding:"15px 0 10px 20px"}),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"splunk_monitoring_console-views/table/controls/ResetToFactoryModeConfirmationDialog":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/shared/Modal")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,Modal){var DMC_ALERT_PATTERN=/^DMC Alert/,DMC_FORWARDER_PATTERN=/^DMC Forwarder/,DMC_STANDALONE_PATTERN=/^DMC Asset - Build Standalone Asset Table$/,CONFIRM_BUTTON='<a class="btn btn-primary modal-btn-primary modal-btn-primary-confirm-reset">'+_("Reset").t()+"</a>",REFRESH_BUTTON='<a class="btn btn-primary modal-btn-primary modal-btn-primary-refresh-page" data-dismiss="modal">'+_("Refresh").t()+"</a>",CONTINUE_BUTTON='<a class="btn modal-btn-continue" data-dismiss="modal">'+_("Continue").t()+"</a>";
return Modal.extend({moduleId:module.id,initialize:function(options){options||(options={}),_.extend(options,{keyboard:!1,backdrop:"static"}),Modal.prototype.initialize.call(this,options)},events:$.extend({},Modal.prototype.events,{"click .modal-btn-primary-confirm-reset":"_resetToFactoryMode","click .modal-btn-primary-refresh-page":function(){location.reload()}}),_resetToFactoryMode:function(e){e.preventDefault(),this.$(Modal.BODY_SELECTOR).html(this._progressBarTemplate),this.$(Modal.FOOTER_SELECTOR).empty(),this.$("button.close").remove();var dfds=[],_dmc_groups=this.collection.peers.distsearches.filter(function(model){return model.isDmcGroup()});dfds.push.apply(dfds,_.invoke(_dmc_groups,"destroy")),dfds.push.apply(_.invoke(this.collection.lookups.toArray(),"destroy")),this.model.appLocal.entry.content.set("configured",!1),dfds.push(this.model.appLocal.save()),dfds.push.apply(dfds,this.collection.savedSearches.each(function(savedSearch){return DMC_ALERT_PATTERN.test(savedSearch.entry.get("name"))||DMC_FORWARDER_PATTERN.test(savedSearch.entry.get("name"))?savedSearch.entry.content.set("disabled",!0):DMC_STANDALONE_PATTERN.test(savedSearch.entry.get("name"))&&savedSearch.entry.content.set("disabled",!1),savedSearch.save()}));var dmc_instances_with_overrides=this.collection.peers.assets.filter(function(model){return"settings"!=model.entry.get("name").toLowerCase()||(model.entry.content.set({configuredPeers:"",blackList:"",disabled:!0}),dfds.push(model.save()),!1)});dfds.push(dfds,_.invoke(dmc_instances_with_overrides,"destroy")),dfds.push(this.collection.thresholdConfigs.resetToDefault()),_.defer(function(){this.model.state.set("changesMade",!1)}.bind(this)),$.when.apply($,dfds).done(function(){this.$(Modal.BODY_SELECTOR).find(".progress-bar").removeClass("progress-striped active").text(_("done").t()),this.$(Modal.FOOTER_SELECTOR).append(REFRESH_BUTTON)}.bind(this)).fail(function(){this.$(Modal.BODY_SELECTOR).find(".progress-bar").removeClass("progress-striped active").text(_("error!").t()),this.$(Modal.FOOTER_SELECTOR).append(CONTINUE_BUTTON)}.bind(this))},render:function(){return this.$el.html(Modal.TEMPLATE),this.$(Modal.HEADER_TITLE_SELECTOR).html(_("Reset to Default Settings").t()),this.$(Modal.BODY_SELECTOR).html(this._explanationDocTemplate),this.$(Modal.FOOTER_SELECTOR).append(CONFIRM_BUTTON),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_CANCEL),this},_explanationDocTemplate:'<div class="alert alert-warning modal-txt-reset-warning-message"><i class="icon-alert" />'+_("Warning: This operation deletes and resets data and cannot be undone.").t()+"</div><div><p>"+_("This operation will do the following:").t()+"</p><ul><li>"+_("Delete all distributed groups created by Monitoring Console.").t()+"</li><li>"+_("Delete all lookup files created by Monitoring Console.").t()+"</li><li>"+_("Reset Monitoring Console to standalone mode.").t()+"</li><li>"+_("Disable all alerts in Monitoring Console.").t()+"</li><li>"+_("Disable forwarder monitoring.").t()+"</li><li>"+_("Reset all instances monitored by Monitoring Console to unconfigured state.").t()+"<li>"+_("Reset all thresholds to their default configuration.").t()+"</ul></div><div><p>"+_("Are you sure you want to reset to default settings?").t()+"</p>",_progressBarTemplate:'<div class="progress"><div class="progress-bar progress-striped active" style="width: 100%">'+_("resetting to default settings").t()+"</div></div>"})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"splunk_monitoring_console-views/table/controls/DistributedModeWarningDialog":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("splunk_monitoring_console-views/table/controls/SimpleDialog"),__webpack_require__("uri/route")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,SimpleDialog,route){var TEXT={TITLE:_("Switch to Distributed Mode").t(),P1:_("Do not configure the DMC in distributed mode if this is a production search head. Doing so can change the behavior of all searches on this instance.  This is dangerous and unsupported.").t(),P2_1:_("If you want to configure the DMC in distributed mode, you must locate the DMC on an instance that is not a production search head.").t(),P2_2:_("Learn more").t(),P3:_("Are you sure you want to continue?").t()};return SimpleDialog.extend({moduleId:module.id,initialize:function(options){this.compiledMessageTemplate=_.template(this.messageTemplate);var defaults={title:TEXT.TITLE,message:this.compiledMessageTemplate({helpLink:route.docHelp(this.model.application.get("root"),this.model.application.get("locale"),"app.splunk_monitoring_console.monitoringconsole_configure")}),keyboard:!1,backdrop:"static"};this.options=_.extend({},defaults,this.options),SimpleDialog.prototype.initialize.apply(this,arguments)},events:$.extend(SimpleDialog.prototype.events,{"click .btn.cancel":function(e){this.trigger("proceed",!1)},"click .btn.affirmative-continue":function(e){this.trigger("proceed",!0)}}),render:function(){return this.$(SimpleDialog.FOOTER_SELECTOR).append(SimpleDialog.BUTTON_CANCEL),this.$(SimpleDialog.FOOTER_SELECTOR).append(SimpleDialog.BUTTON_AFFIRMATIVE_CONTINUE),this},messageTemplate:'<p class="alert alert-warning"><i class="icon-alert"></i>'+TEXT.P1+"<br/><br/>"+TEXT.P2_1+'<br/><a href="<%- helpLink %>" class="external" target="_blank">'+TEXT.P2_2+"</a></p><p>"+TEXT.P3+"</p>"})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"splunk_monitoring_console-views/Master.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(862);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(264)(content,{});content.locals&&(module.exports=content.locals)},"splunk_monitoring_console-views/table/controls/ConfirmationDialog":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("require/backbone"),__webpack_require__("collections/shared/FlashMessages"),__webpack_require__("splunk_monitoring_console-views/table/controls/SimpleDialog"),__webpack_require__("views/shared/FlashMessagesLegacy"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,Backbone,FlashMessagesCollection,SimpleDialog,FlashMessagesView,util){return SimpleDialog.extend({moduleId:module.id,initialize:function(options){var defaults={title:_("Success!").t()};this.options=_.extend({},defaults,this.options),SimpleDialog.prototype.initialize.apply(this,arguments)},render:function(){return this.$(SimpleDialog.FOOTER_SELECTOR).append(SimpleDialog.BUTTON_DONE),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}});