webpackJsonp([7],{"routers/MonitoringConsoleCheck":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),__webpack_require__("routers/Base"),__webpack_require__("models/monitoringconsole/splunk_health_check/Conductor"),__webpack_require__("models/monitoringconsole/splunk_health_check/DmcConfigs"),__webpack_require__("collections/monitoringconsole/splunk_health_check/Tasks"),__webpack_require__("views/monitoringconsole/splunk_health_check/Master")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,BaseRouter,ConductorModel,DmcConfigsModel,TasksCollection,MasterView){return BaseRouter.extend({initialize:function(){BaseRouter.prototype.initialize.apply(this,arguments),this.setPageTitle(_("Health Check").t()),this.loadingMessage=_("Loading...").t(),this.fetchAppLocals=!0,this.collection.tasks=new TasksCollection,this.model.dmcConfigs=new DmcConfigsModel({},{appLocal:this.model.appLocal,serverInfo:this.model.serverInfo}),this.model.conductor=new ConductorModel({},{tasks:this.collection.tasks,dmcConfigs:this.model.dmcConfigs})},page:function(locale,app,page){BaseRouter.prototype.page.apply(this,arguments),$.when(this.collection.tasks.fetch({sort_key:"category",count:-1}),this.model.dmcConfigs.fetch(),this.deferreds.pageViewRendered).done(function(){this.shouldRender&&($(".preload").replaceWith(this.pageView.el),this.masterView=new MasterView({model:{application:this.model.application,conductor:this.model.conductor,dmcConfigs:this.model.dmcConfigs},collection:{tasks:this.collection.tasks,appLocals:this.collection.appLocals,appLocalsUnfilteredAll:this.collection.appLocalsUnfilteredAll}}),$(".main-section-body").html(this.masterView.render().$el))}.bind(this))}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},832:function(module,exports){module.exports='<div class="results-reason-count">\n\t<% if(isDone) { %>\n\t\t<% _.each(reasonSummary, function(summary) { %>\n\t     \t<div class="reason-count"><span class="status-icon <%= utils.SEVERITY_LEVEL_ICON_CLASS_NAME[summary.level].icon %> tooltip-link" rel="tooltip" data-title="<%= utils.SEVERITY_LEVEL_ICON_CLASS_NAME[summary.level].tooltip %>" style="display: inline;" /></span><%= summary.count %> <%= splunkUtils.sprintf(_(\'(%d%%)\').t(), summary.count/totalCount * 100) %></div>\n\t  \t<% }) %>\n\t<% } else { %>\n\t\t<span class="status-icon pull-right <%= utils.ICON_CLASS_NAME.rotate %>" style="display: inline;"></span>\n\t<% } %>\n</div>'},833:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(262)(),exports.push([module.id,".results-reason-count{display:inline}.results-reason-count .reason-count{padding-right:15px;display:inline}.results-reason-count .reason-count .status-icon{margin-right:5px}",""])},834:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(262)(),exports.push([module.id,".status-icon{font-size:1.5em}.icon-rotate{color:#818d99;animation:spin 2s linear infinite}.icon-minus-circle{color:#818d99;margin-right:-4px}.icon-check-circle{color:#53a051}.icon-info-circle{color:#006d9c}.icon-warning{color:#f8be34}.icon-alert{color:#dc4e41}",""])},835:function(module,exports){module.exports='<div class="results-reason">\n\t<% if(isDone) { %>\n\t\t<span class="status-icon <%= iconClassName %> tooltip-link" rel="tooltip" data-title="<%= tooltip %>" style="display: inline;"></span>\n\t\t<div class="reason-text"><%- messageText %></div>\n\t<% } else { %>\n\t\t<span class="status-icon pull-right <%= iconClassName %>" style="display: inline;"></span>\n\t<% } %>\n</div>\n'},836:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(262)(),exports.push([module.id,".results-reason{display:inline}.results-reason .status-icon{margin-right:5px}.results-reason .reason-text{padding-right:15px;display:inline}",""])},837:function(module,exports){module.exports='<td class="check-item-title" tabindex="0"><%- _(title).t() %></td>\n<td class="check-item-category" tabindex="0"><%- _(category).t() %></td>\n<td class="check-item-tags" tabindex="0"><%- _(tags).t() %></td>\n<td class="check-item-results" tabindex="0"></td>\n'},838:function(module,exports){module.exports='<table class="table table-chrome sortable">\n    <colgroup>\n        <col class="col-flex col-title">\n        <col class="col-slim col-category">\n        <col class="col-flex col-results">\n    </colgroup>\n    <thead>\n\t    <tr>\n\t    \t<th class="sorts"  data-sort-key="name">\n\t    \t\t<a href="#"><%= _(\'Check\').t() %><i class="icon-sorts"></i></a>\n\t    \t</th>\n\t    \t<th class="sorts" data-sort-key="category">\n\t    \t\t<a href="#"><%= _(\'Category\').t() %><i class="icon-sorts"></i></a>\n\t    \t</th>\n\t    \t<th class="sorts" data-sort-key="tags">\n\t    \t\t<a href="#"><%= _(\'Tags\').t() %><i class="icon-sorts"></i></a>\n\t    \t</th>\n\t    \t<th class="sorts" data-sort-key="results">\n\t    \t\t<a href="#"><%= _(\'Results\').t() %><i class="icon-sorts"></i></a>\n\t    \t</th>\n\t    </tr>\n    </thead>\n    <tbody class="check-item-table-body"></tbody>\n</table>'},839:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(262)(),exports.push([module.id,"table.table-chrome{border-right:1px solid #c3cbd4;border-radius:2px}.check-item{cursor:pointer}",""])},840:function(module,exports){module.exports='<div class="progress">\n \t<div class="bar" style="width: <%= percent %>%;"></div>\n</div>\n<div class="progress-percent"><%- percent < 100 ? Math.round(percent) + _(\'% complete\').t() : _(\'Completed \').t() + new Date().toLocaleString() %></div>'},841:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(262)(),exports.push([module.id,".progress{margin-bottom:5px}.progress .bar{background-color:#c3cbd4;background-image:none}.progress-percent{padding-left:5px}",""])},842:function(module,exports){module.exports="<% if (conductor.get('state') === 'running') { %>\n  <button class=\"btn btn-stop-check\"><%- _('Stop').t() %></button>\n<% } else { %>\n  <% if (conductor.get('checked') > 0 && conductor.get('checked') < conductor.get('total')) { %>\n    <button class=\"btn btn-primary btn-continue-check\"><%- _('Continue').t() %></button><button class=\"btn btn-secondary btn-reset-check\"><%- _('Reset').t() %></button>\n  <% } else if (conductor.get('checked') >= conductor.get('total')) { %>\n    <button class=\"btn btn-primary btn-reset-check\"><%- _('Start Over').t() %></button>\n  <% } else { %>\n    <button class=\"btn btn-primary btn-start-check\"><%- _('Start').t() %></button>\n  <% } %>\n<% } %>\n"},843:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(262)(),exports.push([module.id,"a.btn-large{margin-left:25px}a.btn-secondary{margin-left:10px}",""])},844:function(module,exports){module.exports='<div class="health-check-filter health-check-filter-all" tabindex="0">\n    <h2 class="health-check-filter-count">\n        <%= all %>\n    </h2>\n    <%= _("ALL").t() %>\n</div>\n<div class="health-check-filter health-check-filter-error" tabindex="0">\n    <h2 class="health-check-filter-count">\n        <%= error %>\n    </h2>\n    <%= _("ERROR").t() %>\n</div>\n<div class="health-check-filter health-check-filter-warning" tabindex="0">\n    <h2 class="health-check-filter-count">\n        <%= warning %>\n    </h2>\n    <%= _("WARNING").t() %>\n</div>\n<div class="health-check-filter health-check-filter-info" tabindex="0">\n    <h2 class="health-check-filter-count">\n        <%= info %>\n    </h2>\n    <%= _("INFO").t() %>\n</div>\n<div class="health-check-filter health-check-filter-success" tabindex="0">\n    <h2 class="health-check-filter-count">\n        <%= success %>\n    </h2>\n    <%= _("SUCCESS").t() %>\n</div>\n<div class="health-check-filter health-check-filter-unavailable" tabindex="0">\n    <h2 class="health-check-filter-count">\n        <%= unavailable %>\n    </h2>\n    <%= _("N/A").t() %>\n</div>\n'},"models/monitoringconsole/splunk_health_check/DmcConfigs":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/backbone"),__webpack_require__("collections/monitoringconsole/DistsearchGroups"),__webpack_require__("util/general_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function($,Backbone,DistsearchGroupsCollection,general_utils){return Backbone.Model.extend({initialize:function(attributes,options){Backbone.Model.prototype.initialize.apply(this,arguments),this.appLocal=options.appLocal,this.serverInfo=options.serverInfo,this.distsearchGroups=new DistsearchGroupsCollection},fetch:function(){return this.distsearchGroups.fetch()},isDistributedMode:function(){return general_utils.normalizeBoolean(this.appLocal.entry.content.get("configured"))},getDistsearchGroups:function(){return this.distsearchGroups.models},getLocalInstanceName:function(){return this.serverInfo.getServerName()}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/monitoringconsole/splunk_health_check/pcss/icon-style.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(834);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(264)(content,{});content.locals&&(module.exports=content.locals)},"collections/monitoringconsole/splunk_health_check/Tasks":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),__webpack_require__("models/monitoringconsole/splunk_health_check/Task"),__webpack_require__("collections/monitoringconsole/splunk_health_check/CheckLists"),__webpack_require__("util/general_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,TaskModel,CheckListsCollection,general_utils){return Backbone.Collection.extend({model:TaskModel,initialize:function(){Backbone.Collection.prototype.initialize.apply(this,arguments),this._checklist=new CheckListsCollection,this._canonicalTasks=null,this._dfd=$.Deferred(),this.fetchPromise=this._dfd.promise()},fetch:function(options){return $.when(this._checklist.fetch(options)).done(function(){this._convertChecklistToTasks(),this._dfd.resolve()}.bind(this)),this.sortBy("category","desc"),this.fetchPromise},_convertChecklistToTasks:function(options){var checkItems=this._checklist.filterByEnabled();options&&(options.group||options.app||options.tag||options.category||options.environment)&&(checkItems=_.filter(checkItems,function(item){var matchingTagOrCat=!0;return _.isEmpty(options.tag)&&_.isEmpty(options.category)||(matchingTagOrCat=_.isEmpty(options.tag)?item.isApplicableToCategory(options.category):_.isEmpty(options.category)?item.isApplicableToTag(options.tag):item.isApplicableToTag(options.tag)||item.isApplicableToCategory(options.category)),item.isApplicableToGroup(options.group)&&item.isApplicableToApp(options.app)&&matchingTagOrCat&&item.isApplicableToEnv(options.environment)}));var tasks=checkItems.map(function(checklistItem){return new TaskModel({},{checklistItem:checklistItem})});this.reset(tasks)},resetByFilters:function(group,app,tag,category,environment){this._convertChecklistToTasks({group:group,tag:tag,app:app,category:category,environment:environment})},setCanonicalTasks:function(){this._canonicalTasks=new this.constructor(this.models)},getCanonicalTasks:function(){var canonicalTasks=this._canonicalTasks;if(canonicalTasks)return canonicalTasks;throw Error("Canonical tasks have not been set.")},getTags:function(){var allTags=[];return _.each(this.models,function(task){var tags=task.getTags();tags=tags.split(",").map(function(tag){return tag.trim()}),_.each(tags,function(tag){_.contains(allTags,tag)||allTags.push(tag)},this)},this),allTags.sort(function(a,b){return a.toLowerCase().localeCompare(b.toLowerCase())}),allTags},getCategories:function(){var allCategories=[];return _.each(this.models,function(task){var category=task.getCategory();category=category.trim(),_.contains(allCategories,category)||allCategories.push(category)},this),allCategories.sort(function(a,b){return a.toLowerCase().localeCompare(b.toLowerCase())}),allCategories},sortBy:function(sortKey,sortDir){var sortFunc={name:{asc:function(task1,task2){var task1Score=task1.getTitle().toLowerCase(),task2Score=task2.getTitle().toLowerCase();return task1Score>task2Score?-1:task1Score<task2Score?1:0},desc:function(task1,task2){var task1Score=task1.getTitle().toLowerCase(),task2Score=task2.getTitle().toLowerCase();return task1Score<task2Score?-1:task1Score>task2Score?1:0}},category:{asc:function(task1,task2){var task1Score=task1.getCategory().toLowerCase(),task2Score=task2.getCategory().toLowerCase();return task1Score>task2Score?-1:task1Score<task2Score?1:0},desc:function(task1,task2){var task1Score=task1.getCategory().toLowerCase(),task2Score=task2.getCategory().toLowerCase();return task1Score<task2Score?-1:task1Score>task2Score?1:0}},tags:{asc:function(task1,task2){var task1Score=task1.getTags().toLowerCase(),task2Score=task2.getTags().toLowerCase();return task1Score>task2Score?-1:task1Score<task2Score?1:0},desc:function(task1,task2){var task1Score=task1.getTags().toLowerCase(),task2Score=task2.getTags().toLowerCase();return task1Score<task2Score?-1:task1Score>task2Score?1:0}},results:{asc:function(task1,task2){var statusCode,task1Score,task2Score,task1Summary=task1.getReasonSummary(),task2Summary=task2.getReasonSummary();for(statusCode=3;statusCode>=-1&&(task1Score=task1Summary[statusCode]||0,task2Score=task2Summary[statusCode]||0,task1Score===task2Score);statusCode--);return task1Score<task2Score?-1:task1Score>task2Score?1:0},desc:function(task1,task2){var statusCode,task1Score,task2Score,task1Summary=task1.getReasonSummary(),task2Summary=task2.getReasonSummary();for(statusCode=3;statusCode>=-1&&(task1Score=task1Summary[statusCode]||0,task2Score=task2Summary[statusCode]||0,task1Score===task2Score);statusCode--);return task1Score>task2Score?-1:task1Score<task2Score?1:0}}}[sortKey][sortDir];this.comparator=sortFunc,this.sort()}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/monitoringconsole/splunk_health_check/ReasonCountStandalone":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/monitoringconsole/splunk_health_check/utils"),__webpack_require__(835),__webpack_require__("views/monitoringconsole/splunk_health_check/ReasonCountStandalone.pcss"),__webpack_require__("views/monitoringconsole/splunk_health_check/pcss/icon-style.pcss")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseView,utils,Template,css,iconStyleCSS){return BaseView.extend({moduleId:module.id,template:Template,render:function(){var isDone=this.model.task.isDone(),sevLevel=this.model.task.getSeverityLevel(),messageText="";return isDone&&(sevLevel?(messageText=this.model.task.getFailText(),sevLevel==-1&&(messageText=utils.TASK_NOT_APPLICABLE)):messageText=utils.TASK_COMPLETE_SUCCESS),this.$el.html(this.compiledTemplate({iconClassName:isDone?utils.SEVERITY_LEVEL_ICON_CLASS_NAME[sevLevel].icon:utils.ICON_CLASS_NAME.rotate,tooltip:isDone?utils.SEVERITY_LEVEL_ICON_CLASS_NAME[sevLevel].tooltip:"",messageText:messageText,isDone:isDone})),this.$(".tooltip-link").tooltip(),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/monitoringconsole/splunk_health_check/Task":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),__webpack_require__("splunkjs/mvc/searchmanager")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,SearchManager){var STATUS={READY:"ready",RUNNING:"running",DONE:"done"};return Backbone.Model.extend({defaults:{status:STATUS.READY},initialize:function(attributes,options){Backbone.Model.prototype.initialize.call(this,attributes,options),options&&options.checklistItem&&(this._checklistItem=options.checklistItem),this._searchManager=new SearchManager({autostart:!1,app:this.getApp()}),this._taskDfd=$.Deferred(),this.taskPromise=this._taskDfd.promise(),this.taskPromise.then(function(){this.set("status",STATUS.DONE)}.bind(this)),this._searchManager.on({"search:done":this._handleSearchDone,"search:cancelled search:error search:failed":this._handleSearchErrorFailCancel},this)},_handleSearchDone:function(properties){var managerDataParams={count:0},resultModel=this._searchManager.data("results",managerDataParams);properties.content.resultCount<=0?(this.fabricateResult({severity_level:-1,reason:_("This health check may be invalid for this environment.").t()}),this._taskDfd.resolve()):resultModel.on("data",function(){this._result=resultModel.collection(),this._taskDfd.resolve()},this)},_handleSearchErrorFailCancel:function(){this.fabricateResult({severity_level:3,reason:_("search job stopped unexpectedly").t()}),this._taskDfd.resolve()},start:function(group){return this._searchManager.settings.set({search:this._getSearchString(group)}),this._searchManager.startSearch(),this.set("status",STATUS.RUNNING),this.taskPromise},getResult:function(){return this._result},_getSearchString:function(group){var search="";return search=group?this._checklistItem.entry.content.get("search").replace(/\$rest_scope\$/g,"splunk_server_group="+group).replace(/\$hist_scope\$/g,"search_group="+group):this._checklistItem.entry.content.get("search").replace(/\$rest_scope\$/g,"splunk_server=local").replace(/\$hist_scope\$/g,"")},getID:function(){return this._checklistItem.get("id")},getTitle:function(){return this._checklistItem.entry.content.get("title")},getCategory:function(){return this._checklistItem.entry.content.get("category")},getDesc:function(){return this._checklistItem.entry.content.get("description")},getFailText:function(){return this._checklistItem.entry.content.get("failure_text")},getSuggestedAction:function(){return this._checklistItem.entry.content.get("suggested_action")},getDocLink:function(){return this._checklistItem.entry.content.get("doc_link")},getDocTitle:function(){return this._checklistItem.entry.content.get("doc_title")},getDrilldown:function(){return this._checklistItem.entry.content.get("drilldown")},getEnvironmentsToExclude:function(){return this._checklistItem.entry.content.get("environments_to_exclude")},getTags:function(){var tags=this._checklistItem.entry.content.get("tags")||"",sortedTags=[];return tags=tags.split(",").map(function(tag){return tag.trim()}),_.each(tags,function(tag){sortedTags.push(tag)},this),sortedTags.sort(),sortedTags=sortedTags.join(", ")},getApp:function(){return this._checklistItem&&this._checklistItem.entry&&this._checklistItem.entry.content?this._checklistItem.entry.content.get("eai:appName"):""},getSeverityLevel:function(){return"resolved"!==this.taskPromise.state()?0:this._getSeverityLevel()},_getSeverityLevel:function(){var instanceWithHighestSeverity=this._result.max(function(row){var severity_level=-1;return _.isUndefined(row.get("severity_level"))||_.isNull(row.get("severity_level"))||(severity_level=row.get("severity_level")),parseInt(severity_level,10)}),sevLevel=instanceWithHighestSeverity.get("severity_level");return parseInt(_.isUndefined(sevLevel)||_.isNull(sevLevel)?-1:sevLevel,10)},getSearchManagerId:function(){return this._searchManager.id},getReasonSummary:function(){return"resolved"!==this.taskPromise.state()?{}:this._result.countBy(function(instance){var sevLevel=instance.get("severity_level");return parseInt(_.isUndefined(sevLevel)||_.isNull(sevLevel)?-1:sevLevel,10)})},isReady:function(){return this.get("status")===STATUS.READY},isRunning:function(){return this.get("status")===STATUS.RUNNING},isDone:function(){return this.get("status")===STATUS.DONE},fabricateResult:function(result){this._result=new Backbone.Collection,this._result.add(result);var fields=_.map(result,function(value,key){return key}),rows=[_.map(result,function(value){return value})];this._result.raw={fields:fields,rows:rows}}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/monitoringconsole/splunk_health_check/ReasonCountStandalone.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(836);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(264)(content,{});content.locals&&(module.exports=content.locals)},"collections/monitoringconsole/splunk_health_check/CheckLists":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("models/monitoringconsole/splunk_health_check/CheckList"),__webpack_require__("collections/SplunkDsBase")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,Model,SplunkDsBaseCollection){return SplunkDsBaseCollection.extend({url:"configs/conf-checklist",model:Model,fetch:function(options){return options||(options={}),options.data||(options.data={}),_.defaults(options.data,{app:"-",owner:"-"}),SplunkDsBaseCollection.prototype.fetch.call(this,options)},filterByEnabled:function(){return this.filter(function(item){return!item.isDisabled()})}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/monitoringconsole/splunk_health_check/CheckList":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("models/SplunkDBase"),__webpack_require__("models/shared/LinkAction"),__webpack_require__("util/splunkd_utils"),__webpack_require__("util/general_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,SplunkDBaseModel,LinkAction,splunkd_utils,general_utils){var ChecklistModel=SplunkDBaseModel.extend({url:"configs/conf-checklist",initialize:function(){SplunkDBaseModel.prototype.initialize.apply(this,arguments),this.linkActionModel=new LinkAction,this.listenTo(this.linkActionModel,"serverValidated",this.onLinkServerValidated)},isDisabled:function(){return general_utils.normalizeBoolean(this.entry.content.get("disabled"))},isApplicableToEnv:function(environment){var excludedEnvironments=(this.entry.content.get("environments_to_exclude")||"").split(",");return!_.contains(excludedEnvironments,environment)},isApplicableToGroup:function(group){if("*"===group)return!0;if(!group||_.isEmpty(group))return!1;var applicableToGroups=this.entry.content.get("applicable_to_groups");return!applicableToGroups||(applicableToGroups=applicableToGroups.split(",").map(function(group){return group.trim()}),_.contains(applicableToGroups,group))},isApplicableToApp:function(app){return"*"===app||!(!app||_.isEmpty(app))&&app===this.entry.content.get("eai:appName")},isApplicableToTag:function(tag){if(!tag||_.isEmpty(tag))return!0;var applicableToTags=this.entry.content.get("tags");if(!applicableToTags)return!1;applicableToTags=applicableToTags.split(",").map(function(tag){return tag.trim()}),tag=tag.split(",").map(function(tag){return tag.trim()});var isApplicable=!1;return _.each(tag,function(tag){_.contains(applicableToTags,tag)&&(isApplicable=!0)},this),isApplicable},isApplicableToCategory:function(category){if(!category||_.isEmpty(category))return!0;var applicableToCategory=this.entry.content.get("category");return!applicableToCategory||(category=category.split(",").map(function(cat){return cat.replace(/["]+/g,"").trim()}),_.contains(category,applicableToCategory))},validate:function(){var entryValidateResult=this.entry.validate(),entryContentValidateResult=this.entry.content.validate(),rootValidateResult=SplunkDBaseModel.prototype.validate.apply(this,arguments);if(entryValidateResult||entryContentValidateResult||rootValidateResult)return _.defaults({},entryValidateResult,entryContentValidateResult,rootValidateResult)},whiteListAttributes:function(){return this.entry.content.toJSON()},assignLinkModelID:function(linkKey){var url=this.entry.links.get(linkKey);return!!url&&(this.linkActionModel.id=splunkd_utils.fullpath(url),!0)},performAction:function(actionType){var saveDeferred,deferredResponse=$.Deferred();return this.assignLinkModelID(actionType)?(saveDeferred=this.linkActionModel.save(),saveDeferred.done(function(){deferredResponse.resolve.apply(deferredResponse,arguments)}),saveDeferred.fail(function(){deferredResponse.reject.apply(deferredResponse,arguments)})):deferredResponse.reject(_("This item does not allow the action: ").t()+actionType),deferredResponse.promise()},enable:function(){return this.performAction("enable")},disable:function(){return this.performAction("disable")},onLinkServerValidated:function(){for(var triggerArgs=["serverValidated"],i=0;i<arguments.length;i++)triggerArgs.push(arguments[i]);this.trigger.apply(this,triggerArgs)}});return ChecklistModel.Entry=ChecklistModel.Entry.extend({validation:{name:function(value){var isAvailable=!(!this.content.get("name")&&!this.get("name")),isAlphaNumeric=/^\w+$/.test(value);return isAvailable?isAlphaNumeric?void 0:_("ID can only contain letters, numbers and underscores!").t():_("ID is required!").t()}}}),ChecklistModel.Entry.Content=ChecklistModel.Entry.Content.extend({validation:{title:{required:!0,msg:_("Title is required!").t()},category:{required:!0,msg:_("Category is required!").t()},search:{required:!0,msg:_("Search is required!").t()}}}),ChecklistModel}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/monitoringconsole/splunk_health_check/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("require/backbone"),__webpack_require__("views/Base"),__webpack_require__("views/monitoringconsole/utils"),__webpack_require__("views/monitoringconsole/splunk_health_check/ProgressBar"),__webpack_require__("views/monitoringconsole/splunk_health_check/Action"),__webpack_require__("views/monitoringconsole/splunk_health_check/Filters"),__webpack_require__("views/monitoringconsole/splunk_health_check/Tasks"),__webpack_require__("views/monitoringconsole/splunk_health_check/Scope"),__webpack_require__("views/monitoringconsole/splunk_health_check/Sidebar"),__webpack_require__("views/monitoringconsole/splunk_health_check/InfoDialog"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("views/shared/controls/SyntheticSelectControl"),__webpack_require__(854),__webpack_require__("views/monitoringconsole/splunk_health_check/Master.pcss"),__webpack_require__("uri/route")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,Backbone,BaseView,utils,ProgressBarView,ActionView,FiltersView,TasksView,ScopeView,SidebarView,InfoDialog,ControlGroup,SyntheticSelectControl,Template,css,route){return BaseView.extend({moduleId:module.id,template:Template,events:{"click a.expand-results":function(e){var task=this.getTaskFromTarget(e);this.children.infoDialog=new InfoDialog({model:{task:task,application:this.model.application},onHiddenRemove:!0}),this.children.infoDialog.render().appendTo($("body")),this.children.infoDialog.show(),e.preventDefault()}},initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.collection.tasks.reset(this.collection.tasks.filter(function(task){var environment=this.model.dmcConfigs.isDistributedMode()?"distributed":"standalone",excludedEnvironments=(task.getEnvironmentsToExclude()||"").split(",");return!_.contains(excludedEnvironments,environment)},this)),this.children.scopeView=new ScopeView({model:{conductor:this.model.conductor,dmcConfigs:this.model.dmcConfigs,application:this.model.application},collection:{tasks:this.collection.tasks,appLocalsUnfilteredAll:this.collection.appLocalsUnfilteredAll}}),this.children.progressView=new ProgressBarView({model:this.model.conductor}),this.children.actionView=new ActionView({model:{conductor:this.model.conductor}}),this.children.filtersView=new FiltersView({collection:{tasks:this.collection.tasks}}),this.children.tasksView=new TasksView({model:{conductor:this.model.conductor,dmcConfigs:this.model.dmcConfigs},collection:{tasks:this.collection.tasks}}),this.children.sidebar=new SidebarView({model:{task:void 0,dmcConfigs:this.model.dmcConfigs,application:this.model.application}}),this.model.conductor.on("hideFilters",function(){this.children.filtersView.detach(),this.children.scopeView.enable()},this),this.model.conductor.on("showFilters",function(){this.$(".health-check-filters-container").append(this.children.filtersView.render().$el)},this),this.children.filtersView.on("hideResultsSidebar",function(){this.updateSidebar()},this),this.children.actionView.on("startCheck",function(){this.children.scopeView.disable()},this),this.children.actionView.on("hideResultsSidebar",function(){this.updateSidebar()},this),this.children.sidebar.on("hideResultsSidebar",function(){this.updateSidebar()},this),this.collection.tasks.on("showResultSidebar",function(task){this.updateSidebar(task)},this)},updateSidebar:function(task){task?(this.children.sidebar.setTask(task),this.$(".health-check-sidebar-display").append(this.children.sidebar.render().$el),this.$(".health-check-sidebar-display").css("display",""),this.$(".splunk-health-check-container").css("padding-right","500px")):(this.$(".health-check-sidebar-display").hide(),this.$(".splunk-health-check-container").css("padding-right","0"))},getTaskFromTarget:function(event){var id=$(event.target).closest("a").data("check-item-id");return _.find(this.collection.tasks.models,function(task){return id===task.getID()},this)},render:function(){var root=this.model.application.get("root"),locale=this.model.application.get("locale"),appName=this.model.application.get("app"),healthCheckContentLink=route.page(root,locale,appName,"monitoringconsole_check_list"),description="splunk_instance_monitoring"===appName?_("Comprehensive health check for Splunk Cloud Instances. To add additional items to this list go to: ").t():_("Comprehensive health check for Splunk Enterprise Instances. To add additional items to this list go to: ").t();return this.$el.html(this.compiledTemplate({healthCheckContentLink:healthCheckContentLink,description:description})),this.$(".health-check-scope").append(this.children.scopeView.render().$el),this.$(".progress-bar-module").append(this.children.progressView.render().$el),this.$(".action-module").append(this.children.actionView.render().$el),this.$(".health-check-table-display").append(this.children.tasksView.render().$el),this.$(".health-check-sidebar-display").append(this.children.sidebar.render().$el),this.updateSidebar(),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/monitoringconsole/splunk_health_check/Tasks.pcss":function(module,exports,__webpack_require__){
var content=__webpack_require__(839);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(264)(content,{});content.locals&&(module.exports=content.locals)},"views/monitoringconsole/splunk_health_check/Tasks":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/monitoringconsole/splunk_health_check/Task"),__webpack_require__(838),__webpack_require__("views/monitoringconsole/splunk_health_check/Tasks.pcss")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseView,TaskView,Template,css){return BaseView.extend({moduleId:module.id,template:Template,className:"check-list",events:{"click th.sorts":function(e){if(e.preventDefault(),"running"!==this.model.conductor.get("state")){var icon=$(e.target).closest("th").find("i"),sortDir=icon.hasClass("asc")?"desc":"asc",sortAttr=$(e.target).closest("th").attr("data-sort-key");this.$("i").removeClass("asc").removeClass("desc"),icon.addClass(sortDir),this.collection.tasks.sortBy(sortAttr,sortDir)}},"click tr.check-item":function(e){e.preventDefault();var task=this.getTaskFromTarget(e);this.collection.tasks.trigger("showResultSidebar",task),this.$(".check-item").children().removeClass("highlighted"),$(e.target).closest("tr").children().addClass("highlighted")}},initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.listenTo(this.model.conductor,"change:checked",this.render),this.listenTo(this.collection.tasks,"reset sort",this.render)},getTaskFromTarget:function(event){var id=$(event.target).closest("tr").data("check-item-id");return _.find(this.collection.tasks.models,function(task){return id===task.getID()},this)},render:function(){return this.$el.html()?this.$(".check-item-table-body").empty():this.$el.html(this.compiledTemplate()),this.collection.tasks.length?(this.children.tasks=this.collection.tasks.map(function(task){return new TaskView({model:{task:task,conductor:this.model.conductor,dmcConfigs:this.model.dmcConfigs}})},this),this.children.tasks.forEach(function(taskView){this.$el.find(".check-item-table-body").append(taskView.render().$el)}.bind(this))):this.$el.find(".check-item-table-body").append(_('<tr><td colspan="4">There are no health check items matching your filters.</td></tr>').t()),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/monitoringconsole/utils":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore")],__WEBPACK_AMD_DEFINE_RESULT__=function(_){var ROLE_LABELS={indexer:_("Indexer").t(),license_master:_("License Master").t(),search_head:_("Search Head").t(),cluster_master:_("Cluster Master").t(),deployment_server:_("Deployment Server").t(),kv_store:_("KV Store").t(),management_console:_("Monitoring Console").t(),shc_deployer:_("SHC Deployer").t()};return{ROLE_LABELS:ROLE_LABELS}}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/monitoringconsole/splunk_health_check/ProgressBar":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__(840),__webpack_require__("views/monitoringconsole/splunk_health_check/ProgressBar.pcss"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseView,Template,css,splunkUtils){return BaseView.extend({moduleId:module.id,template:Template,initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change:checked change:total",this.render)},render:function(){var current=this.model.get("checked"),total=this.model.get("total"),ratio=total?current/total*100:0,percent=ratio<100?ratio:100;return this.$el.html(this.compiledTemplate({percent:percent,splunkUtils:splunkUtils})),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/monitoringconsole/splunk_health_check/Task":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/monitoringconsole/splunk_health_check/ReasonCountDistributed"),__webpack_require__("views/monitoringconsole/splunk_health_check/ReasonCountStandalone"),__webpack_require__("views/monitoringconsole/splunk_health_check/utils"),__webpack_require__(837),__webpack_require__("views/monitoringconsole/splunk_health_check/pcss/icon-style.pcss")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseView,ReasonCountDistributed,ReasonCountStandalone,utils,Template,iconStyleCSS){return BaseView.extend({moduleId:module.id,template:Template,tagName:"tr",className:"check-item",initialize:function(){BaseView.prototype.initialize.apply(this,arguments);var isDistributedMode=this.model.dmcConfigs.isDistributedMode(),_ReasonCountView=isDistributedMode?ReasonCountDistributed:ReasonCountStandalone;this.children.reasonCount=new _ReasonCountView({model:{task:this.model.task}}),this.listenTo(this.model.task,"change:status",this.render)},render:function(){return this.$el.html(this.compiledTemplate({title:this.model.task.getTitle(),category:this.model.task.getCategory(),tags:this.model.task.getTags()})),this.model.task.isReady()||this.$(".check-item-results").append(this.children.reasonCount.render().$el),this.$el.attr("data-check-item-id",this.model.task.getID()),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/monitoringconsole/splunk_health_check/ProgressBar.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(841);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(264)(content,{});content.locals&&(module.exports=content.locals)},"views/monitoringconsole/splunk_health_check/ReasonCountDistributed":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/monitoringconsole/splunk_health_check/utils"),__webpack_require__(832),__webpack_require__("views/monitoringconsole/splunk_health_check/ReasonCountDistributed.pcss"),__webpack_require__("views/monitoringconsole/splunk_health_check/pcss/icon-style.pcss"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseView,utils,Template,css,iconStyleCSS,splunkUtils){return BaseView.extend({moduleId:module.id,template:Template,render:function(){var isDone=this.model.task.isDone(),reasonSummary=[],totalCount=0;if(isDone){var reasonSummaryUnsorted=_.map(this.model.task.getReasonSummary(),function(count,severity_level){return{level:severity_level,count:count}});reasonSummary=_.sortBy(reasonSummaryUnsorted,function(summary){return-summary.level}),totalCount=this.model.task.getResult().raw.rows.length}return this.$el.html(this.compiledTemplate({reasonSummary:reasonSummary,totalCount:totalCount,isDone:isDone,utils:utils,splunkUtils:splunkUtils})),this.$(".tooltip-link").tooltip(),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/monitoringconsole/splunk_health_check/Action":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__(842),__webpack_require__("views/monitoringconsole/splunk_health_check/Action.pcss")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseView,Template,css){return BaseView.extend({moduleId:module.id,template:Template,initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.listenTo(this.model.conductor,"change:state change:checked",this.render)},events:{"click .btn-start-check":"startCheck","click .btn-stop-check":"stopCheck","click .btn-continue-check":"continueCheck","click .btn-reset-check":"resetCheck"},startCheck:function(){this.model.conductor.resetConductor(),this.model.conductor.start(),this.trigger("startCheck"),this.trigger("hideResultsSidebar")},stopCheck:function(){this.model.conductor.stop()},continueCheck:function(){this.model.conductor.start()},resetCheck:function(){this.model.conductor.resetConductor(),this.trigger("hideResultsSidebar"),this.model.conductor.trigger("hideFilters"),this.render()},render:function(){return this.$el.html(this.compiledTemplate({conductor:this.model.conductor})),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/monitoringconsole/splunk_health_check/utils":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore")],__WEBPACK_AMD_DEFINE_RESULT__=function(_){var ICON_CLASS_NAME={na:"icon-minus-circle",rotate:"icon-rotate",check:"icon-check-circle",info:"icon-info-circle",warning:"icon-warning",error:"icon-alert"},SEVERITY_LEVEL_ICON_CLASS_NAME={"-1":{icon:ICON_CLASS_NAME.na,tooltip:_("Not Applicable").t(),reasonClassName:"na"},0:{icon:ICON_CLASS_NAME.check,tooltip:_("Success").t(),reasonClassName:"success"},1:{icon:ICON_CLASS_NAME.info,tooltip:_("Information").t(),reasonClassName:"info"},2:{icon:ICON_CLASS_NAME.warning,tooltip:_("Warning").t(),reasonClassName:"warning"},3:{icon:ICON_CLASS_NAME.error,tooltip:_("Error").t(),reasonClassName:"error"}},TASK_NOT_COMPLETE_YET=_("This health check item has not been run or is still running. Check back when it is complete.").t(),TASK_COMPLETE_SUCCESS=_("This health check item was successful. Everything is good here.").t(),TASK_NOT_APPLICABLE=_("This health check item is not applicable.").t(),TASK_INCLUDE_SUCCESS_AND_NA=_("This health check item is not applicable to some instances and succeeds on the rest.").t(),getSeverityLevelIndexFromRaw=function(data){return data.fields.indexOf("severity_level")},getIndexFromRaw=function(match,data){return data.fields.indexOf(match)},renderMVField=function(field){return _.isArray(field)?_.map(field,function(value){return"<div>"+value+"</div>"}).join(""):field},makeSafeCssClassName=function(name){return name.replace(/[!\"#$%&'\(\)\*\+,\s\.\/:;<=>\?\@\[\\\]\^`\{\|\}~]/g,"-")};return{ICON_CLASS_NAME:ICON_CLASS_NAME,SEVERITY_LEVEL_ICON_CLASS_NAME:SEVERITY_LEVEL_ICON_CLASS_NAME,TASK_NOT_COMPLETE_YET:TASK_NOT_COMPLETE_YET,TASK_COMPLETE_SUCCESS:TASK_COMPLETE_SUCCESS,TASK_NOT_APPLICABLE:TASK_NOT_APPLICABLE,TASK_INCLUDE_SUCCESS_AND_NA:TASK_INCLUDE_SUCCESS_AND_NA,getSeverityLevelIndexFromRaw:getSeverityLevelIndexFromRaw,getIndexFromRaw:getIndexFromRaw,renderMVField:renderMVField,makeSafeCssClassName:makeSafeCssClassName}}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/monitoringconsole/splunk_health_check/Action.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(843);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(264)(content,{});content.locals&&(module.exports=content.locals)},845:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(262)(),exports.push([module.id,".health-check-filters-container{border-top-style:ridge}.health-check-filters-container .health-check-filter{display:inline-block;height:60px;width:80px;padding:10px;text-align:center;cursor:pointer}",""])},"views/monitoringconsole/splunk_health_check/Filters":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("require/backbone"),__webpack_require__("views/Base"),__webpack_require__(844),__webpack_require__("views/monitoringconsole/splunk_health_check/Filters.pcss"),__webpack_require__("shim/bootstrap.tooltip")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,Backbone,BaseView,Template,css){return BaseView.extend({moduleId:module.id,template:Template,events:{"click .health-check-filter":function(e){e.preventDefault();var filteredTasks,visibleTasks=this.collection.tasks,canonicalTasks=this.collection.tasks.getCanonicalTasks(),statusType=$(e.target).closest(".health-check-filter").attr("class").split(" ")[1],statusCode={"health-check-filter-all":null,"health-check-filter-error":3,"health-check-filter-warning":2,"health-check-filter-info":1,"health-check-filter-success":0,"health-check-filter-unavailable":-1}[statusType];null===statusCode?visibleTasks.reset(canonicalTasks.models):(filteredTasks=canonicalTasks.filter(function(task){return task.getReasonSummary().hasOwnProperty(statusCode)},this),visibleTasks.reset(filteredTasks)),this.$(".health-check-filter").removeClass("highlighted"),this.$("."+statusType).addClass("highlighted"),this.trigger("hideResultsSidebar")}},render:function(){var canonicalTasks=this.collection.tasks.getCanonicalTasks(),statusCounts=canonicalTasks.chain().map(function(task){return _.keys(task.getReasonSummary())}).flatten().countBy().value();return this.$el.html(this.compiledTemplate({all:canonicalTasks.length,error:statusCounts[3]||0,warning:statusCounts[2]||0,info:statusCounts[1]||0,success:statusCounts[0]||0,unavailable:statusCounts[-1]||0})),this.$(".health-check-filter-all").addClass("highlighted"),this.$(".health-check-filter-all").tooltip({animation:!1,title:_("View all checks.").t(),container:"body"}),this.$(".health-check-filter-error").tooltip({animation:!1,title:_("View checks with an error message.").t(),container:"body"}),this.$(".health-check-filter-warning").tooltip({animation:!1,title:_("View checks with a warning message.").t(),container:"body"}),this.$(".health-check-filter-info").tooltip({animation:!1,title:_("View checks with an information message.").t(),container:"body"}),this.$(".health-check-filter-success").tooltip({animation:!1,title:_("View checks with a success message.").t(),container:"body"}),this.$(".health-check-filter-unavailable").tooltip({animation:!1,title:_("View checks with a not applicable message.").t(),container:"body"}),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/monitoringconsole/splunk_health_check/ReasonCountDistributed.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(833);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(264)(content,{});content.locals&&(module.exports=content.locals)},"views/monitoringconsole/splunk_health_check/Filters.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(845);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(264)(content,{});content.locals&&(module.exports=content.locals)},"models/monitoringconsole/splunk_health_check/Conductor":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/backbone")],__WEBPACK_AMD_DEFINE_RESULT__=function($,Backbone){var STATE={RUNNING:"running",STOPPING:"stopping",STOPPED:"stopped",DONE:"done"};return Backbone.Model.extend({initialize:function(attributes,options){Backbone.Model.prototype.initialize.call(this,attributes,options),this._tasks=options.tasks,this._dmcConfigs=options.dmcConfigs,this._tasks.fetchPromise.done(this.setTotal.bind(this)),this.on("change:group",this.resetTasks),this.on("change:app",this.resetTasks),this.on("change:tag",this.resetTasks),this.on("change:category",this.resetTasks),this.listenTo(this._tasks,"reset",this.setTotal.bind(this))},defaults:{total:0,checked:0,group:"*",app:"*",tag:"",category:"",state:STATE.STOPPED},getState:function(){return this.get("state")},start:function(){if(this.getState()===STATE.STOPPING)return void this._stopPromise.done(this.start.bind(this));if(this.get("checked")>=this.get("total"))return this.set("state",STATE.DONE),this._tasks.setCanonicalTasks(),this._tasks.sortBy("results","desc"),void this.trigger("showFilters");this.set("state",STATE.RUNNING);var group=this._dmcConfigs.isDistributedMode()?this.get("group"):null,task=this.getNextTask();task.start(group).then(function(deduction){return this.set("checked",this.get("checked")+1),this.getState()===STATE.RUNNING&&this.start(),deduction}.bind(this))},stop:function(){this.set("state",STATE.STOPPING);var task=this.getNextTask();return this._stopPromise=task&&task.isRunning()?task.taskPromise:$.Deferred().resolve(),this._stopPromise.done(function(){this.set("state",STATE.STOPPED)}.bind(this)),this._stopPromise},resetConductor:function(){return this.stop().done(function(){this.set({checked:0}),this.resetTasks()}.bind(this))},restart:function(){this.resetConductor(),this.start()},exportResults:function(){},setTotal:function(){this.set("total",this._tasks.length)},resetTasks:function(){var environment=this._dmcConfigs.isDistributedMode()?"distributed":"standalone";this._tasks.resetByFilters(this.get("group"),this.get("app"),this.get("tag"),this.get("category"),environment)},getNextTask:function(){return this._tasks.at(this.get("checked"))}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/monitoringconsole/splunk_health_check/Scope":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("require/backbone"),__webpack_require__("views/Base"),__webpack_require__("views/monitoringconsole/utils"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("views/shared/controls/MultiInputControl"),__webpack_require__("views/shared/controls/SyntheticSelectControl"),__webpack_require__("views/monitoringconsole/splunk_health_check/Scope.pcss"),__webpack_require__("shim/splunk.util"),__webpack_require__("uri/route")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,Backbone,BaseView,utils,ControlGroup,MultiInputControl,SyntheticSelectControl,css,splunkUtil,route){return BaseView.extend({moduleId:module.id,className:"scope",initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.isMcCloud="splunk_instance_monitoring"===this.model.application.get("app"),this.isMcCloud||(this.children.groupFilter=this.prepareGroupView()),this.children.appFilter=new SyntheticSelectControl({label:_("App:").t(),toggleClassName:"btn",model:this.model.conductor,modelAttribute:"app"});var items=[{label:_("All").t(),value:"*"},{label:_("System default").t(),value:"system"}];_.each(this.collection.appLocalsUnfilteredAll.models,function(app){items.push({label:splunkUtil.sprintf(_("%s (%s)").t(),app.entry.content.get("label"),app.entry.get("name")),value:app.entry.get("name")})},this),this.children.appFilter.setItems(items);var tagsAutoComplete=this.collection.tasks.getTags().map(function(tag){return{text:tag,id:tag}});this.tagsControl=new MultiInputControl({modelAttribute:"tag",model:this.model.conductor,autoCompleteFields:tagsAutoComplete}),this.children.tagFilter=new ControlGroup({controlClass:"controls-block",controls:[this.tagsControl],label:_("Tags:").t(),tooltip:_("Leave empty to select all tags").t()}),this.children.tagDisplay=new ControlGroup({controlType:"Textarea",controlOptions:{modelAttribute:"tag",model:this.model.conductor},controlClass:"controls-block",label:_("Tags:").t(),tooltip:_("Leave empty to select all tags").t(),enabled:!1});var categoriesAutoComplete=this.collection.tasks.getCategories().map(function(category){return{text:category,id:category}});this.categoriesControl=new MultiInputControl({modelAttribute:"category",model:this.model.conductor,autoCompleteFields:categoriesAutoComplete}),this.children.categoryFilter=new ControlGroup({controlClass:"controls-block",controls:[this.categoriesControl],label:_("Category:").t(),tooltip:_("Leave empty to select all categories").t()}),this.children.categoryDisplay=new ControlGroup({controlType:"Textarea",controlOptions:{modelAttribute:"category",model:this.model.conductor},controlClass:"controls-block",label:_("Category:").t(),tooltip:_("Leave empty to select all categories").t(),enabled:!1})},enable:function(){this.model.dmcConfigs.isDistributedMode()&&!this.isMcCloud&&this.children.groupFilter.enable(),this.children.appFilter.enable(),this.children.tagFilter.show(),this.children.categoryFilter.show(),this.children.tagDisplay.hide(),this.children.categoryDisplay.hide()},disable:function(){this.model.dmcConfigs.isDistributedMode()&&!this.isMcCloud&&this.children.groupFilter.disable(),this.children.appFilter.disable(),this.children.tagFilter.hide(),this.children.categoryFilter.hide(),this.children.tagDisplay.show(),this.children.categoryDisplay.show()},render:function(){return this.$el.html(this.compiledTemplate()),this.$(".scope-group").prepend(this.children.appFilter.render().$el),this.isMcCloud||this.$(".scope-group").prepend(this.children.groupFilter.render().$el),this.$(".scope-filter").append(this.children.tagFilter.render().$el),this.$(".scope-filter").append(this.children.categoryFilter.render().$el),this.$(".scope-filter").append(this.children.tagDisplay.render().$el),this.$(".scope-filter").append(this.children.categoryDisplay.render().$el),this.children.tagDisplay.hide(),this.children.categoryDisplay.hide(),this},prepareGroupView:function(){var isDistributedMode=this.model.dmcConfigs.isDistributedMode();if(isDistributedMode){var groupDropdown=new SyntheticSelectControl({label:_("Group:").t(),toggleClassName:"btn",model:this.model.conductor,modelAttribute:"group"}),items=[{label:_("All").t(),value:"*"}],indexerClustersInnerItems=null,searchHeadClustersInnerItems=null;return _.each(this.model.dmcConfigs.getDistsearchGroups(),function(group){group.isIndexerClusterGroup()?(null==indexerClustersInnerItems&&(indexerClustersInnerItems=[{label:_("Indexer Clusters").t()}]),indexerClustersInnerItems.push({value:group.getGroupName(),label:utils.ROLE_LABELS[group.getDisplayName()]||group.getDisplayName()})):group.isSearchHeadClusterGroup()?(null==searchHeadClustersInnerItems&&(searchHeadClustersInnerItems=[{label:_("Search Head Clusters").t()}]),searchHeadClustersInnerItems.push({value:group.getGroupName(),label:utils.ROLE_LABELS[group.getDisplayName()]||group.getDisplayName()})):items.push([{label:utils.ROLE_LABELS[group.getDisplayName()]||group.getDisplayName(),value:group.getGroupName()}])},this),null!=indexerClustersInnerItems&&items.push(indexerClustersInnerItems),null!=searchHeadClustersInnerItems&&items.push(searchHeadClustersInnerItems),groupDropdown.setItems(items),groupDropdown}var singleView=new Backbone.View;return singleView.$el='<div class="standalone-instance">'+_("Instance: ").t()+this.model.dmcConfigs.getLocalInstanceName()+"</div>",singleView},template:'\t            <div class="scope-group">\t                <div class="scope-filter"></div>\t            </div>\t        '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/monitoringconsole/splunk_health_check/Scope.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(846);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(264)(content,{});content.locals&&(module.exports=content.locals)},"views/monitoringconsole/splunk_health_check/Master.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(855);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(264)(content,{});content.locals&&(module.exports=content.locals)},"views/monitoringconsole/splunk_health_check/Sidebar":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/monitoringconsole/splunk_health_check/Results"),__webpack_require__("views/monitoringconsole/splunk_health_check/TaskInfo"),__webpack_require__(851),__webpack_require__("views/monitoringconsole/splunk_health_check/Sidebar.pcss")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseView,ResultsView,TaskInfoView,Template,css){return BaseView.extend({moduleId:module.id,template:Template,className:"sidebar",events:{"click .close":function(e){this.trigger("hideResultsSidebar"),e.preventDefault()}},setTask:function(task){this.model.task=task},render:function(){var title="";return this.model.task&&(title=this.model.task.getTitle()),this.$el.html(this.compiledTemplate({title:title})),this.model.task&&(this.children.taskInfo&&this.children.results&&(this.children.taskInfo.detach(),this.children.results.detach()),this.children.taskInfo=new TaskInfoView({model:this.model}),this.$(".task-info-section").append(this.children.taskInfo.render().$el),this.model.task.isDone()&&(this.children.results=new ResultsView({model:this.model,showExpand:!0}),this.$(".task-info-results").append(this.children.results.render().$el))),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/monitoringconsole/splunk_health_check/Results":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/monitoringconsole/splunk_health_check/utils"),__webpack_require__("uri/route"),__webpack_require__("shim/splunk.util"),__webpack_require__(847),__webpack_require__("splunkjs/mvc/resultslinkview"),__webpack_require__("views/monitoringconsole/splunk_health_check/pcss/icon-style.pcss"),__webpack_require__("views/monitoringconsole/splunk_health_check/Results.pcss")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseView,utils,route,splunkUtils,Template,ResultsLinkView,iconStyleCSS,css){return BaseView.extend({moduleId:module.id,template:Template,className:"check-result",initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.children.resultsLinkView=new ResultsLinkView({manager:this.model.task.getSearchManagerId(),el:$('<div class="pull-right"/>')})},createDrilldown:function(app,drilldown,id){var regexp=new RegExp("\\$([A-Za-z_]*)\\$","g"),match=regexp.exec(drilldown);drilldown=match?drilldown.replace(match[0],id):drilldown;var root=app.get("root"),locale=app.get("locale"),appName=app.get("app");return drilldown.startsWith("/app/")?route.encodeRoot(root,locale)+drilldown:route.search(root,locale,appName,{data:{q:drilldown}})},render:function(){var rawData=this.model.task.getResult().raw,sevLvlIdx=utils.getSeverityLevelIndexFromRaw(rawData),fields=rawData.fields,rows=_.sortBy(rawData.rows,function(row){return-row[sevLvlIdx]}),instanceCount=splunkUtils.sprintf(_("Results (%s)").t(),rows.length),idIndex="",drilldown=this.model.task.getDrilldown()||"";if(drilldown){var regexp=new RegExp("\\$([A-Za-z_]*)\\$","g"),match=regexp.exec(drilldown);idIndex=match?utils.getIndexFromRaw(match[1],rawData):utils.getIndexFromRaw("status",rawData)}return this.$el.html(this.compiledTemplate({fields:fields,rows:rows,sevLvlIdx:sevLvlIdx,instanceCount:instanceCount,SEVERITY_LEVEL_ICON_CLASS_NAME:utils.SEVERITY_LEVEL_ICON_CLASS_NAME,renderMVField:utils.renderMVField,showExpand:this.options.showExpand,taskId:this.model.task.getID(),idIndex:idIndex,drilldown:drilldown,app:this.model.application,createDrilldown:this.createDrilldown})),this.$(".tooltip-link").tooltip(),this.$(".check-result-header").append(this.children.resultsLinkView.render().$el),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/monitoringconsole/splunk_health_check/InfoDialog.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(853);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(264)(content,{});content.locals&&(module.exports=content.locals)},"splunkjs/mvc/resultslinkview":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var $=__webpack_require__("shim/jquery"),_=__webpack_require__("require/underscore"),SplunkUtil=__webpack_require__("shim/splunk.util"),SplunkWindow=__webpack_require__("shim/splunk.window"),SearchJobModel=__webpack_require__("models/search/Job"),Route=__webpack_require__("uri/route"),ExportResultsDialog=__webpack_require__("views/shared/jobstatus/buttons/ExportResultsDialog"),BaseSplunkView=__webpack_require__("splunkjs/mvc/basesplunkview"),ReportModel=(__webpack_require__("splunkjs/mvc/mvc"),__webpack_require__("models/search/Report")),SavedSearchManager=__webpack_require__("splunkjs/mvc/savedsearchmanager"),Utils=__webpack_require__("splunkjs/mvc/utils"),sharedModels=__webpack_require__("splunkjs/mvc/sharedmodels"),util=__webpack_require__("shim/splunk.util"),PostProcessSearchManager=__webpack_require__("splunkjs/mvc/postprocessmanager"),ResultsLinkView=BaseSplunkView.extend({moduleId:module.id,events:{"click a.refresh-button":"refresh","blur a":"hideResultsLink","focus a":"showResultsLink"},hideResultsLink:function(evt){evt.currentTarget.getAttribute("class");this.$el.removeClass("show")},showResultsLink:function(evt){evt.currentTarget.getAttribute("class");this.$el.addClass("show")},configure:function(){this.options.manager&&(this.options.managerid=this.options.manager),BaseSplunkView.prototype.configure.apply(this,arguments)},initialize:function(){this.configure(),this.bindToComponentSetting("managerid",this.onManagerChange,this),this.searchJobModel=new SearchJobModel,this.applicationModel=sharedModels.get("app"),this.userModel=sharedModels.get("user"),this.showExportResultsButton=this.userModel.canExportResults(),this.model=this.model||new ReportModel,this.listenTo(this.model.entry.content,"change:search",_.bind(this.render,this))},onManagerChange:function(managers,manager){this.manager&&(this.manager.off(null,null,this),this.manager=null),manager&&(this.manager=manager,this.listenTo(manager,"search:start",this.onSearchStart),this.listenTo(manager,"search:done",this.onSearchDone),this.manager.hasJob()&&this.onSearchStart(),this.manager.replayLastSearchEvent(this))},onSearchStart:function(){var sid=this.manager.getSid();this.searchJobModel.set("id",sid),this.$pivotButton&&this.$pivotButton.off("click").on("click",this.openPivot.bind(this)).show(),this.$searchButton&&this.$searchButton.off("click").on("click",this.openSearch.bind(this)).show(),this.$refreshButton&&this.$refreshButton.show(),
this.$exportButton&&(this.manager instanceof PostProcessSearchManager?(this.$exportButton.tooltip("destroy"),this.$exportButton.attr("title",_("Export - You cannot export results for post-process jobs.").t()),this.$exportButton.tooltip({animation:!1,container:"body"}),this.$exportButton.addClass("disabled"),this.$exportButton.off("click").on("click",function(e){e.preventDefault()}).show()):(this.$exportButton.addClass("disabled"),this.$exportButton.off("click").on("click",function(e){e.preventDefault()}).show())),this.$inspectButton&&this.$inspectButton.off("click").on("click",this.inspectSearch.bind(this)).show()},onSearchDone:function(properties){var jobResponse=this.manager.getJobResponse();this.searchJobModel.setFromSplunkD(jobResponse),this.$exportButton&&(this.manager instanceof PostProcessSearchManager?(this.$exportButton.tooltip("destroy"),this.$exportButton.attr("title",_("Export - You cannot export results for post-process jobs.").t()),this.$exportButton.tooltip({animation:!1,container:"body"}),this.$exportButton.addClass("disabled"),this.$exportButton.off("click").on("click",function(e){e.preventDefault()}).show()):(this.$exportButton.tooltip("destroy"),this.$exportButton.attr("title",_("Export").t()),this.$exportButton.tooltip({animation:!1,container:"body"}),this.$exportButton.removeClass("disabled"),this.$exportButton.off("click").on("click",this.exportResults.bind(this)).show()))},openSearch:function(e){e&&(e.preventDefault(),$(e.currentTarget).blur());var options=this.options,manager=this.manager,params={},jobProperties=manager.get("data"),earliest=options["link.openSearch.searchEarliestTime"];earliest=!earliest&&jobProperties.earliestTime?util.getEpochTimeFromISO(jobProperties.earliestTime):manager.settings.get("earliest_time"),null!=earliest&&(params.earliest=earliest);var latest=options["link.openSearch.searchLatestTime"];latest=!latest&&jobProperties.latestTime?util.getEpochTimeFromISO(jobProperties.latestTime):manager.settings.get("latest_time"),null!=latest&&(params.latest=latest),options["link.openSearch.search"]?params.q=options["link.openSearch.search"]:options["link.openSearch.viewTarget"]?params={sid:this.searchJobModel.get("id")}:(params.sid=this.searchJobModel.get("id"),params.q=manager.settings.resolve(),manager instanceof SavedSearchManager&&(params.s=manager.get("searchname")));var viewTarget=this.model.openInView(this.userModel),pageInfo=Utils.getPageInfo(),url=Route.page(pageInfo.root,pageInfo.locale,pageInfo.app,options["link.openSearch.viewTarget"]||viewTarget,{data:params});Utils.redirect(url,!0)},exportResults:function(e){e&&e.preventDefault();var exportDialog=new ExportResultsDialog({model:{searchJob:this.searchJobModel,application:this.applicationModel,report:this.model},usePanelType:!0,onHiddenRemove:!0});exportDialog.render().appendTo($("body")),exportDialog.show()},inspectSearch:function(e){e&&(e.preventDefault(),$(e.currentTarget).blur());var pageInfo=Utils.getPageInfo(),url=Route.jobInspector(pageInfo.root,pageInfo.locale,pageInfo.app,this.searchJobModel.get("id"));SplunkWindow.open(url,"splunk_job_inspector",{width:870,height:560,menubar:!1})},openPivot:function(e){e&&(e.preventDefault(),$(e.currentTarget).blur());var params,url,pageInfo=Utils.getPageInfo();if(this.model.has("id")){var id=this.model.get("id");params={s:id},this.model.entry.content.has("dispatch.earliest_time")&&(params.earliest=this.model.entry.content.get("dispatch.earliest_time"),params.latedst=this.model.entry.content.get("dispatch.latest_time")),url=Route.pivot(pageInfo.root,pageInfo.locale,pageInfo.app,{data:params}),Utils.redirect(url,!0)}else{var search=this.model.entry.content.get("search");params={q:search},this.model.entry.content.has("dispatch.earliest_time")&&(params.earliest=this.model.entry.content.get("dispatch.earliest_time"),params.latest=this.model.entry.content.get("dispatch.latest_time")),url=Route.pivot(pageInfo.root,pageInfo.locale,pageInfo.app,{data:params}),Utils.redirect(url,!0)}},render:function(){var template;template=this.model.isPivotReport()&&this.userModel.canPivot()?_.template(this.pivotTemplate):_.template(this.template);var openInView=this.model.openInView(this.userModel),view=Route.getView(openInView);return this.$el.html(template({options:this.options,showExportResultsButton:this.showExportResultsButton,openLabel:view.openLabel})),this.resolveBooleanOptions("link.openPivot.visible","link.visible",!0)?this.$pivotButton=this.$(".pivot-button").hide():this.$(".pivot-button").remove(),this.resolveBooleanOptions("link.openSearch.visible","link.visible",!0)?this.$searchButton=this.$(".search-button").hide():this.$(".search-button").remove(),this.resolveBooleanOptions("link.exportResults.visible","link.visible",!0)?this.$exportButton=this.$(".export-button").hide():this.$(".export-button").remove(),this.resolveBooleanOptions("link.inspectSearch.visible","link.visible",!0)?this.$inspectButton=this.$(".inspect-button").hide():this.$(".inspect-button").remove(),this.resolveBooleanOptions("refresh.link.visible","link.visible",!0)?this.$refreshButton=this.$(".refresh-button").hide():this.$(".refresh-button").remove(),this.$searchButton||this.$exportButton||this.$inspectButton||this.$refreshButton?this.$el.show():this.$el.hide(),this.$("> a").tooltip({animation:!1,container:"body"}),this},resolveBooleanOptions:function(){for(var value,options=this.options,i=0,l=arguments.length-1;i<l;i++)if(value=options[arguments[i]],null!=value)return SplunkUtil.normalizeBoolean(value);return SplunkUtil.normalizeBoolean(arguments[arguments.length-1])},refresh:function(event){event&&event.preventDefault(),this.manager.startSearch("refresh")},template:'\t            <a href="#search" class="search-button btn-pill" title="<%- options[\'link.openSearch.text\'] || _(\'Open in Search\').t() %>">\t                <i class="icon-search"></i>\t                <span class="hide-text"><%- options[\'link.openSearch.text\'] || openLabel %></span>\t            </a>\t            <% if (showExportResultsButton) { %>\t                <a href="#export" class="export-button btn-pill" title="<%- _(\'Export - You can only export results for completed jobs.\').t() %>">\t                    <i class="icon-export"></i>\t                    <span class="hide-text"><%- _("Export").t() %></span>\t                </a>\t            <% } %>\t            <a href="#inspect" class="inspect-button btn-pill" title="<%- _(\'Inspect\').t() %>">\t                <i class="icon-info"></i>\t                <span class="hide-text"><%- _("Inspect").t() %></span>\t            </a><a href="#refresh" class="refresh-button btn-pill" title="<%- _(\'Refresh\').t() %>">\t                <i class="icon-rotate-counter"></i>\t                <span class="hide-text"><%- _("Refresh").t() %></span>\t            </a>\t        ',pivotTemplate:'\t            <a href="#pivot" class="pivot-button btn-pill" title="<%- _(\'Open in Pivot\').t() %>">\t                <i class="icon-pivot"></i>\t                <span class="hide-text"><%- _("Open in Pivot").t() %></span>\t            </a>\t            <% if (showExportResultsButton) { %>\t                <a href="#export" class="export-button btn-pill" title="<%- _(\'Export\').t() %>">\t                    <i class="icon-export"></i>\t                    <span class="hide-text"><%- _("Export").t() %></span>\t                </a>\t            <% } %>\t            <a href="#inspect" class="inspect-button btn-pill" title="<%- _(\'Inspect\').t() %>">\t                <i class="icon-info"></i>\t                <span class="hide-text"><%- _("Inspect").t() %></span>\t            </a><a href="#refresh" class="refresh-button btn-pill" title="<%- _(\'Refresh\').t() %>">\t                <i class="icon-rotate-counter"></i>\t                <span class="hide-text"><%- _("Refresh").t() %></span>\t            </a>\t        '});return ResultsLinkView}.call(exports,__webpack_require__,exports,module),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"shim/splunk.window":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/splunk"),__webpack_require__("window"),__webpack_require__("i18n"),__webpack_require__("window")],__WEBPACK_AMD_DEFINE_RESULT__=function(Splunk){return Splunk.window}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},window:function(module,exports){Splunk.window={open:function(uri,name,options){options=$.extend({resizable:!0,scrollbars:!0,toolbar:!0,location:!0,menubar:!0,width:$(window).width(),height:$(window).height()},options),options.top||(options.top=Math.max(0,screen.availHeight/2-options.height/2)),options.left||(options.left=Math.max(0,screen.availWidth/2-options.width/2)),options.screenX=options.left,options.screenY=options.top;var compiled_options=[];for(var key in options)options[key]===!0&&(options[key]="yes"),options[key]===!1&&(options[key]="no"),compiled_options.push(key+"="+options[key]);name="w"+name.replace(/[^a-zA-Z 0-9]+/g,"");var newWindow=window.open(uri,name,compiled_options.join(","));return newWindow&&newWindow.focus&&newWindow.focus(),newWindow},openJobManager:function(getArgs){var app=Splunk.util.getCurrentApp();"UNKNOWN_APP"==app&&(app="search");var url=Splunk.util.make_url("app",app,"job_manager");getArgs&&(url+="?"+Splunk.util.propToQueryString(getArgs));var spawnedWindow=this.open(url,"splunk_job_manager",{width:900,height:600,menubar:!1});return spawnedWindow},openAerts:function(href){return this.open(href,"splunk_alerts",{width:900,height:600,menubar:!1})},openJobInspector:function(sid){var app="UNKNOWN_APP"===Splunk.util.getCurrentApp()?"system":Splunk.util.getCurrentApp(),url=Splunk.util.make_url("manager",encodeURIComponent(app),"job_inspector");if(!sid)return alert(_("Cannot open job inspector; no search job ID provided!")),!1;var getArgs={sid:sid};url+="?"+Splunk.util.propToQueryString(getArgs);var spawnedWindow=this.open(url,"splunk_job_inspector",{width:870,height:560,menubar:!1});return spawnedWindow}}},i18n:function(module,exports){function _(message){if(0==message.length)return message;if("en_DEBUG"==_i18n_locale.locale_name)return __debug_trans_str(message);var entry=_i18n_catalog["+-"+message];return void 0==entry&&(entry=_i18n_catalog["0-"+message]),void 0==entry?message:entry}function __debug_trans_str(str){var parts=str.split(/(\%(:?\(\w+\))?\w)|(<[^>]+>)|(\s+)/);parts=parts.filter(function(en){return void 0!==en});for(var result=[],i=0;i<parts.length;i++){var startsWithSpace=/^\s+/.test(parts[i]);i&&"%("==parts[i-1].substr(0,2)||("%"==parts[i][0]?result.push("**"+parts[i]+"**"):"<"==parts[i][0]||startsWithSpace?result.push(parts[i]):result.push("✌".repeat(parts[i].length)))}return result.join("")}function format_decimal(num,format){format||(format=_i18n_locale.number_format);var pattern=parse_number_pattern(format);return"en_DEBUG"==_i18n_locale.locale_name?pattern.apply(num).replace(/\d/g,"0"):pattern.apply(num)}function format_date(date,format){date||(date=new Date),Splunk.util.isInt(date)&&(date=new Date(1e3*date)),format||(format="medium"),["full","long","medium","short"].indexOf(format)!==-1&&(format=get_date_format(format));var pattern=parse_datetime_pattern(format);return pattern.apply(new DateTime(date),_i18n_locale)}function format_datetime(datetime,date_format,time_format){void 0==datetime&&(datetime=new Date),Splunk.util.isInt(datetime)&&(datetime=new Date(1e3*datetime)),datetime=new DateTime(datetime),date_format||(date_format="medium"),time_format||(time_format=date_format);var td_format=get_datetime_format(date_format);return td_format.replace("{0}",format_time(datetime,time_format)).replace("{1}",format_date(datetime,date_format))}function format_time(time,format){format||(format="medium"),time?time instanceof Date&&(time=new DateTime(time)):(timenow=new Date,time=new Time(timenow.getHours(),timenow.getMinutes(),timenow.getSeconds())),["full","long","medium","short"].indexOf(format)!==-1&&(format=get_time_format(format));var pattern=parse_datetime_pattern(format);return pattern.apply(time,_i18n_locale)}function Time(hour,minute,second,microsecond){"en_DEBUG"==_i18n_locale.locale_name?(this.hour=11,this.minute=22,this.second=33,this.microsecond=123e3):(this.hour=hour,this.minute=minute,this.second=second,this.microsecond=microsecond?microsecond:0)}function DateTime(date){if(date instanceof DateTime)return date;if("en_DEBUG"==_i18n_locale.locale_name&&(date=new Date(3333,10,22,11,22,33,123)),date instanceof Date)this.date=date,this.hour=date.getHours(),this.minute=date.getMinutes(),this.second=date.getSeconds(),this.microsecond=1e3*date.getMilliseconds(),this.year=date.getFullYear(),this.month=date.getMonth()+1,this.day=date.getDate();else for(var k in date)this[k]=date[k]}function parse_number_pattern(pattern){function parse_precision(p){for(var min=0,max=0,i=0;i<p.length;i++){var c=p.substr(i,1);if("@0".indexOf(c)!==-1)min+=1,max+=1;else{if("#"!=c){if(","==c)continue;break}max+=1}}return[min,max]}function parse_grouping(p){var width=p.length,g1=p.lastIndexOf(",");if(g1==-1)return[1e3,1e3];g1=width-g1-1;var g2=p.substr(0,p.length-g1-1).lastIndexOf(",");return g2==-1?[g1,g1]:(g2=width-g1-g2-2,[g1,g2])}var PREFIX_END="[^0-9@#.,]",NUMBER_TOKEN="[0-9@#.,E+-]",PREFIX_PATTERN="((?:'[^']*'|"+PREFIX_END+")*)",NUMBER_PATTERN="("+NUMBER_TOKEN+"+)",SUFFIX_PATTERN="(.*)",number_re=new RegExp(PREFIX_PATTERN+NUMBER_PATTERN+SUFFIX_PATTERN);if(pattern instanceof NumberPattern)return pattern;var neg_pattern,pos_suffix,pos_prefix,neg_prefix,neg_suffix,num,exp,sp;if(pattern.indexOf(";")!==-1?(sp=pattern.split(";",2),pattern=sp[0],neg_pattern=sp[1],sp=pattern.match(number_re).slice(1),pos_prefix=sp[0],num=sp[1],pos_suffix=sp[2],sp=neg_pattern.match(number_re).slice(1),neg_prefix=sp[0],neg_suffix=[2]):(sp=pattern.match(number_re).slice(1),pos_prefix=sp[0],num=sp[1],pos_suffix=sp[2],neg_prefix="-"+pos_prefix,neg_suffix=pos_suffix),num.indexOf("E")!==-1?(sp=num.split("E",2),num=sp[0],exp=sp[1]):exp=null,num.indexOf("@")!==-1&&num.indexOf(".")!==-1&&num.indexOf("0")!==-1)return alert('Significant digit patterns can not contain "@" or "0"');var integer,fraction;num.indexOf(".")!==-1?(sp=num.rsplit(".",2),integer=sp[0],fraction=sp[1]):(integer=num,fraction="");var exp_plus,exp_prec,int_prec=parse_precision(integer),frac_prec=parse_precision(fraction);exp?(frac_prec=parse_precision(integer+fraction),exp_plus="+"==exp.substr(0,1),exp=exp.replace(/^\++/,""),exp_prec=parse_precision(exp)):(exp_plus=null,exp_prec=null);var grouping=parse_grouping(integer);return new NumberPattern(pattern,[pos_prefix,neg_prefix],[pos_suffix,neg_suffix],grouping,int_prec,frac_prec,exp_prec,exp_plus)}function NumberPattern(pattern,prefix,suffix,grouping,int_prec,frac_prec,exp_prec,exp_plus){this.pattern=pattern,this.prefix=prefix,this.suffix=suffix,this.grouping=grouping,this.int_prec=int_prec,this.frac_prec=frac_prec,this.exp_prec=exp_prec,this.exp_plus=exp_plus,(this.prefix+this.suffix).indexOf("%")!==-1?this.scale=100:(this.prefix+this.suffix).indexOf("‰")!==-1?this.scale=1e3:this.scale=1}function get_period_names(locale){return locale||(locale=_i18n_locale),locale.periods}function get_day_names(width,context,locale){return width||(width="wide"),context||(context="format"),locale||(locale=_i18n_locale),locale.days[context][width]}function get_month_names(width,context,locale){return width||(width="wide"),context||(context="format"),locale||(locale=_i18n_locale),locale.months[context][width]}function get_quarter_names(width,context,locale){return width||(width="wide"),context||(context="format"),locale||(locale=_i18n_locale),locale.quarters[context][width]}function get_date_format(format,locale){format||(format="medium"),locale||(locale=_i18n_locale);var dtp=locale.date_formats[format];return new DateTimePattern(dtp.pattern,dtp.format)}function get_datetime_format(format,locale){return format||(format="medium"),locale||(locale=_i18n_locale),void 0==locale.datetime_formats[format]?locale.datetime_formats[null]:locale.datetime_formats[format]}function get_time_format(format,locale){format||(format="medium"),locale||(locale=_i18n_locale);var dtp=locale.time_formats[format];return new DateTimePattern(dtp.pattern,dtp.format)}function parse_datetime_pattern(pattern){function append_chars(){result.push(charbuf.join("").replace("%","%%")),charbuf=[]}function append_field(){var limit=PATTERN_CHARS[fieldchar[0]];return limit&&limit.indexOf(fieldnum[0])==-1?alert("Invalid length for field: "+fieldchar[0].repeat(fieldnum[0])):(result.push("%("+fieldchar[0].repeat(fieldnum[0])+")s"),fieldchar[0]="",void(fieldnum[0]=0))}if(pattern instanceof DateTimePattern)return pattern;for(var result=[],quotebuf=null,charbuf=[],fieldchar=[""],fieldnum=[0],patterntmp=pattern.replace("''","\0"),idx=0;idx<patterntmp.length;idx++){var ch=patterntmp.substr(idx,1);null===quotebuf?"'"==ch?(fieldchar[0]?append_field():charbuf&&append_chars(),quotebuf=[]):ch in PATTERN_CHARS?(charbuf&&append_chars(),ch==fieldchar[0]?fieldnum[0]+=1:(fieldchar[0]&&append_field(),fieldchar[0]=ch,fieldnum[0]=1)):(fieldchar[0]&&append_field(),charbuf.push(ch)):null!=quotebuf&&("'"==ch?(charbuf.extend(quotebuf),quotebuf=null):quotebuf.push(ch))}return fieldchar[0]?append_field():charbuf&&append_chars(),new DateTimePattern(pattern,result.join("").replace("\0","'"))}function DateTimePattern(pattern,format){this.pattern=pattern,this.format=format}function DateTimeFormat(value,locale){this.value=value,this.locale=locale}function BaseTimeRangeFormatter(){this.DATE_METHODS=[{name:"year",getter:"getFullYear",setter:"setFullYear",minValue:"1974"},{name:"month",getter:"getMonth",setter:"setMonth",minValue:"0"},{name:"day",getter:"getDate",setter:"setDate",minValue:"1"},{name:"hour",getter:"getHours",setter:"setHours",minValue:"0"},{name:"minute",getter:"getMinutes",setter:"setMinutes",minValue:"0"},{name:"second",getter:"getSeconds",setter:"setSeconds",minValue:"0"},{name:"millisecond",getter:"getMilliseconds",setter:"setMilliseconds",minValue:"0"}]}function EnglishRangeFormatter(use24HourClock,useEuropeanDateAndMonth,abbreviateDayAndMonth){this.use24HourClock=use24HourClock||!1,this.useEuropeanDateAndMonth=useEuropeanDateAndMonth||!1,this.abbreviateDayAndMonth=abbreviateDayAndMonth||!1}format_number=format_decimal,DateTime.prototype.weekday=function(){var d=this.date.getDay()-1;return d<0&&(d=6),d},function(){split_number=function(value){var a,b,sp;return value=""+value,value.indexOf(".")!==-1?(sp=(""+value).split("."),a=sp[0],b=sp[1],"0"==b&&(b="")):(a=value,b=""),[a,b]},bankersround=function(value,ndigits){var a,b;ndigits||(ndigits=0);var sign=value<0?-1:1;value=Math.abs(value);var sp=split_number(value);a=sp[0],b=sp[1];var digits=a+b,add=0,i=a.length+ndigits;i<0||i>=digits.length?add=0:digits.substr(i,1)>"5"?add=1:"5"==digits.substr(i,1)&&"13579".indexOf(digits[i-1])!==-1&&(add=1);var scale=Math.pow(10,ndigits);return parseInt(value*scale+add,10)/scale*sign},NumberPattern.prototype.apply=function(value,locale){locale||(locale=_i18n_locale),value*=this.scale;var is_negative=value<0?1:0;if(this.exp_prec){value=Math.abs(value);var exp;exp=value?Math.floor(Math.log(value)/Math.log(10)):0,this.int_prec[0]==this.int_prec[1]?exp-=this.int_prec[0]-1:this.int_prec[1]&&(exp=parseInt(exp,10)/this.int_prec[1]*this.int_prec[1]),exp<0?value*=Math.pow(10,-exp):value/=Math.pow(10,exp);var exp_sign="";exp<0?exp_sign=locale.minus_sign:this.exp_plus&&(exp_sign=locale.plus_sign),exp=Math.abs(exp);var num=""+this._format_sigdig(value,this.frac_prec[0],this.frac_prec[1])+locale.exp_symbol+exp_sign+this._format_int(""+exp,this.exp_prec[0],this.exp_prec[1],locale)}else if(this.pattern.indexOf("@")!==-1){var text=this._format_sigdig(Math.abs(value),this.int_prec[0],this.int_prec[1]);if(text.indexOf(".")!==-1){var a,b,sp=text.split(".");a=sp[0],b=sp[1],a=this._format_int(a,0,1e3,locale),b&&(b=locale.decimal_symbol+b),num=a+b}else num=this._format_int(text,0,1e3,locale)}else{var c,d,cd_sp=split_number(bankersround(Math.abs(value),this.frac_prec[1]));c=cd_sp[0],d=cd_sp[1],d=d||"0",c=this._format_int(c,this.int_prec[0],this.int_prec[1],locale),d=this._format_frac(d,locale),num=c+d}var retval=""+this.prefix[is_negative]+num+this.suffix[is_negative];return retval},NumberPattern.prototype._format_sigdig=function(value,min,max){var a,b,sp=split_number(value);a=sp[0],b=sp[1];var ndecimals=a.length;if("0"==a&&""!=b)for(ndecimals=0;"0"==b[0];)b=b.substr(1),ndecimals-=1;sp=split_number(bankersround(value,max-ndecimals)),a=sp[0],b=sp[1];var digits=(a+b).replace(/^0+/,"").length;return digits||(digits=1),a.length>=max&&"0"!=a?a:(digits<min&&(b+="0".repeat(min-digits)),b?a+"."+b:a)},NumberPattern.prototype._format_int=function(value,min,max,locale){var width=value.length;width<min&&(value="0".repeat(min-width)+value);for(var gsize=this.grouping[0],ret="",symbol=locale.group_symbol;value.length>gsize;)ret=symbol+value.substr(value.length-gsize)+ret,value=value.substr(0,value.length-gsize),gsize=this.grouping[1];return value+ret},NumberPattern.prototype._format_frac=function(value,locale){var min=this.frac_prec[0],max=this.frac_prec[1];if(value.length<min&&(value+="0".repeat(min-value.length)),0==max||0==min&&0==parseInt(value,10))return"";for(value.length;value.length>min&&"0"==value.substr(value.length-1);)value=value.substr(0,value.length-1);return locale.decimal_symbol+value}}();var PATTERN_CHARS={G:[1,2,3,4,5],y:null,Y:null,u:null,Q:[1,2,3,4],q:[1,2,3,4],M:[1,2,3,4,5],L:[1,2,3,4,5],w:[1,2],W:[1],d:[1,2],D:[1,2,3],F:[1],g:null,E:[1,2,3,4,5],e:[1,2,3,4,5],c:[1,3,4,5],a:[1],h:[1,2],H:[1,2],K:[1,2],k:[1,2],m:[1,2],s:[1,2],S:null,A:null,T:null,z:[1,2,3,4],Z:[1,2,3,4],v:[1,4],V:[1,4],_:[1]};DateTimePattern.prototype.apply=function(datetime,locale){return sprintf(this.format,new DateTimeFormat(datetime,locale))},DateTimeFormat.prototype.__getitem__=function(name){var ch=name.substr(0,1),num=name.length;switch(ch){case"G":return this.format_era(ch,num);case"y":case"Y":case"u":return this.format_year(ch,num);case"q":case"Q":return this.format_quarter(ch,num);case"M":case"L":return this.format_month(ch,num);case"w":case"W":return this.format_week(ch,num);case"d":return this.format(this.value.day,num);case"D":return this.format_day_of_year(num);case"F":return this.format_day_of_week_in_month();case"E":case"e":case"c":return this.format_weekday(ch,num);case"a":return this.format_period(ch);case"h":return this.value.hour%12==0?this.format(12,num):this.format(this.value.hour%12,num);case"H":return this.format(this.value.hour,num);case"K":return this.format(this.value.hour%12,num);case"k":return 0==this.value.hour?this.format(24,num):this.format(this.value.hour,num);case"m":return this.format(this.value.minute,num);case"s":return this.format(this.value.second,num);case"S":return this.format_frac_seconds(num);case"T":return this.format_decimal_frac_seconds(num);case"A":return this.format_milliseconds_in_day(num);case"z":case"Z":case"v":case"V":return this.format_timezone(ch,num);case"_":return this.locale.decimal_symbol;default:return alert("Unsupported date/time field "+ch)}},DateTimeFormat.prototype.format_era=function(ch,num){var width={3:"abbreviated",4:"wide",5:"narrow"}[max(3,num)],era=this.value.year>=0?1:0;return get_era_names(width,this.locale)[era]},DateTimeFormat.prototype.format_year=function(ch,num){var value=this.value.year;if(ch==ch.toUpperCase()){var week=this.get_week_number(this.get_day_of_year());0==week&&(value-=1)}var year=this.format(value,num);return 2==num&&(year=year.substr(year.length-2)),year},DateTimeFormat.prototype.format_quarter=function(ch,num){var quarter=Math.floor((this.value.month-1)/3+1);if(num<=2)return sprintf(sprintf("%%0%dd",num),quarter);var width={3:"abbreviated",4:"wide",5:"narrow"}[num],context={Q:"format",q:"stand-alone"}[ch];return get_quarter_names(width,context,this.locale)[quarter]},DateTimeFormat.prototype.format_month=function(ch,num){if(num<=2)return sprintf(sprintf("%%0%dd",num),this.value.month);var width={3:"abbreviated",4:"wide",5:"narrow"}[num],context={M:"format",L:"stand-alone"}[ch];return get_month_names(width,context,this.locale)[this.value.month]},DateTimeFormat.prototype.format_week=function(ch,num){if(ch==ch.toLowerCase()){var day_of_year=this.get_day_of_year(),week=this.get_week_number(day_of_year);if(0==week){var date=this.value-timedelta(days=day_of_year);week=this.get_week_number(this.get_day_of_year(date),date.weekday())}return this.format(week,num)}var mon_week=this.get_week_number(this.value.day);if(0==mon_week){var mon_date=this.value-timedelta(days=this.value.day);mon_week=this.get_week_number(mon_date.day,mon_date.weekday())}return mon_week},DateTimeFormat.prototype.format_weekday=function(ch,num){if(num<3){if(ch==ch.toLowerCase()){var value=7-this.locale.first_week_day+this.value.weekday();return this.format(value%7+1,num)}num=3}var weekday=this.value.weekday(),width={3:"abbreviated",4:"wide",5:"narrow"}[num],context={3:"format",4:"format",5:"stand-alone"}[num];return get_day_names(width,context,this.locale)[weekday]},DateTimeFormat.prototype.format_day_of_year=function(num){return this.format(this.get_day_of_year(),num)},DateTimeFormat.prototype.format_day_of_week_in_month=function(){return(this.value.day-1)/7+1},DateTimeFormat.prototype.format_period=function(ch){var period={0:"am",1:"pm"}[this.value.hour>=12?1:0];return get_period_names(this.locale)[period]},DateTimeFormat.prototype.format_frac_seconds=function(num){var value=this.value.microsecond;return this.format(parseFloat("0."+value)*Math.pow(10,num),num)},DateTimeFormat.prototype.format_decimal_frac_seconds=function(num){return this.format(this.value.microsecond,6).substr(0,num)},DateTimeFormat.prototype.format_milliseconds_in_day=function(num){var msecs=Math.floor(this.value.microsecond/1e3)+1e3*this.value.second+6e4*this.value.minute+36e5*this.value.hour;return this.format(msecs,num)},DateTimeFormat.prototype.format_timezone=function(ch,num){return""},DateTimeFormat.prototype.format=function(value,length){return sprintf(sprintf("%%0%dd",length),value)},DateTimeFormat.prototype.get_day_of_year=function(date){void 0==date&&(date=this.value);var yearstart=new Date(date.year,0,1);return Math.ceil((date.date-yearstart)/864e5)+1},DateTimeFormat.prototype.get_week_number=function(day_of_period,day_of_week){void 0==day_of_week&&(day_of_week=this.value.weekday());var first_day=(day_of_week-this.locale.first_week_day-day_of_period+1)%7;first_day<0&&(first_day+=7);var week_number=(day_of_period+first_day-1)/7;return 7-first_day>=this.locale.min_week_days&&(week_number+=1),week_number};var _i18n_catalog={};BaseTimeRangeFormatter.prototype.get_summary_data=function(absEarliest,absLatest){var differAtLevel=this.get_differing_level(absEarliest,absLatest),valuesDifferAt=differAtLevel<this.DATE_METHODS.length&&this.DATE_METHODS[differAtLevel].name,rangeIsSingleUnitOf=!1,rangeIsIntegerUnitsOf=!1;if(differAtLevel>=this.DATE_METHODS.length)return{rangeIsSingleUnitOf:!1,rangeIsIntegerUnitsOf:!1,valuesDifferAt:!1,valuesHighestNonMinimalAt:!1};var earliestCopy,methodDict=this.DATE_METHODS[differAtLevel],highestNonMinimalLevel=this.get_highest_non_minimal_level(absEarliest,absLatest),valuesHighestNonMinimalAt=highestNonMinimalLevel<this.DATE_METHODS.length&&this.DATE_METHODS[highestNonMinimalLevel].name;if(highestNonMinimalLevel==differAtLevel)rangeIsIntegerUnitsOf=valuesDifferAt;else{var methodDictInner=this.DATE_METHODS[highestNonMinimalLevel];earliestCopy=new Date,earliestCopy.setTime(absEarliest.valueOf()),earliestCopy[methodDictInner.setter](earliestCopy[methodDictInner.getter]()+1),earliestCopy.getTime()==absLatest.getTime()&&(rangeIsSingleUnitOf=rangeIsIntegerUnitsOf=this.DATE_METHODS[highestNonMinimalLevel].name)}return rangeIsIntegerUnitsOf&&!rangeIsSingleUnitOf&&(earliestCopy=new Date,earliestCopy.setTime(absEarliest.valueOf()),"hour"==rangeIsIntegerUnitsOf?earliestCopy.setTime(earliestCopy.valueOf()+36e5):earliestCopy[methodDict.setter](earliestCopy[methodDict.getter]()+1),earliestCopy.getTime()==absLatest.getTime()&&(rangeIsSingleUnitOf=this.DATE_METHODS[differAtLevel].name)),{rangeIsSingleUnitOf:rangeIsSingleUnitOf,rangeIsIntegerUnitsOf:rangeIsIntegerUnitsOf,valuesDifferAt:valuesDifferAt,valuesHighestNonMinimalAt:valuesHighestNonMinimalAt}},BaseTimeRangeFormatter.prototype.get_highest_non_minimal_level=function(absEarliest,absLatest){for(var i=this.DATE_METHODS.length-1;i>=0;i--){var methodDict=this.DATE_METHODS[i],minValue=(methodDict.name,methodDict.minValue),earliestValue=absEarliest[methodDict.getter](),latestValue=absLatest[methodDict.getter]();if(earliestValue!=minValue||latestValue!=minValue)return i}},BaseTimeRangeFormatter.prototype.get_differing_level=function(absEarliest,absLatest){for(var differAtLevel=0,i=0;i<this.DATE_METHODS.length;i++){var methodDict=this.DATE_METHODS[i],earliestValue=(methodDict.name,absEarliest[methodDict.getter]()),latestValue=absLatest[methodDict.getter]();if(earliestValue!=latestValue)break;differAtLevel=i+1}return differAtLevel},BaseTimeRangeFormatter.prototype.format_range=function(earliestTime,latestTime){var argsDict;if(earliestTime&&!latestTime)return argsDict={startDateTime:format_datetime(earliestTime,"medium")},sprintf(_("since %(startDateTime)s"),argsDict);if(!earliestTime&&latestTime)return argsDict={endDateTime:format_datetime(latestTime,"medium")},sprintf(_("before %(endDateTime)s"),argsDict);var summary=this.get_summary_data(earliestTime,latestTime);switch(summary.rangeIsSingleUnitOf){case"day":return format_date(earliestTime,"medium");case"second":return format_datetime(earliestTime,"medium")}var argDict;return format_date(earliestTime,"medium")==format_date(latestTime,"medium")?(argDict={date:format_date(earliestTime,"medium"),start:format_time(earliestTime,"medium"),end:format_time(latestTime,"medium")},sprintf(_("%(date)s from %(start)s to %(end)s"),argDict)):(argDict={start:format_datetime(earliestTime,"medium"),end:format_datetime(latestTime,"medium")},sprintf(_("from %(start)s to %(end)s"),argDict))},EnglishRangeFormatter.prototype=new BaseTimeRangeFormatter,EnglishRangeFormatter.prototype.constructor=EnglishRangeFormatter,EnglishRangeFormatter.superClass=BaseTimeRangeFormatter.prototype,EnglishRangeFormatter.prototype.get_format_strings=function(summary){switch(summary.rangeIsSingleUnitOf){case"year":return{earliest:"during %Y"};case"month":return{earliest:"during %B %Y"};case"day":return{earliest:"during %A, %B %e, %Y"};case"hour":return{earliest:"at %l %p on %A, %B %e, %Y"};case"minute":return{earliest:"at %l:%M %p %A, %B %e, %Y"};case"second":return{earliest:"at %l:%M:%S %p on %A, %B %e, %Y"};case"millisecond":return{earliest:"at %l:%M:%S.%Q %p on %A, %B %e, %Y"};default:switch(summary.rangeIsIntegerUnitsOf){case"year":return{earliest:"from %Y",latest:" through %Y"};case"month":return{earliest:"from %B",latest:" through %B, %Y"};case"day":return{earliest:"from %B %e",latest:" through %B %e, %Y"};case"hour":return{earliest:"from %l %p",latest:" to %l %p on %A, %B %e, %Y"};case"minute":return{earliest:"from %l:%M %p",latest:" to %l:%M %p on %A, %B %e, %Y"};case"second":return{earliest:"from %l:%M:%S %p",latest:" to %l:%M:%S %p on %A, %B %e, %Y"};case"millisecond":return{earliest:"from %l:%M:%S.%Q %p",latest:" to %l:%M:%S.%Q %p on %A, %B %e, %Y"};default:var timeFormat="";switch(summary.valuesHighestNonMinimalAt){case"hour":timeFormat=" %l %p";break;case"minute":timeFormat=" %l:%M %p";break;case"second":timeFormat=" %l:%M:%S %p";break;case"millisecond":timeFormat=" %l:%M:%S.%Q %p"}var rangeFormat=timeFormat?" to":" through";switch(summary.valuesDifferAt){case"millisecond":case"second":case"minute":case"hour":return{earliest:"from"+timeFormat,latest:rangeFormat+timeFormat+" on %A, %B %e, %Y"};case"day":case"month":return{earliest:"from"+timeFormat+" %B %e",
latest:rangeFormat+timeFormat+" %B %e, %Y"};default:return{earliest:"from"+timeFormat+" %B %e, %Y",latest:rangeFormat+timeFormat+" %B %e, %Y"}}}}},EnglishRangeFormatter.prototype.applyCustomOptions=function(timeFormatStr){return this.use24HourClock&&(timeFormatStr=timeFormatStr.replace(/%l %p/g,"%H:00"),timeFormatStr=timeFormatStr.replace(/ %p/g,""),timeFormatStr=timeFormatStr.replace(/%l/g,"%H")),this.useEuropeanDateAndMonth&&(timeFormatStr=timeFormatStr.replace(/%B %e/g,"%e %B")),this.abbreviateDayAndMonth&&(timeFormatStr=timeFormatStr.replace("%A","%a"),timeFormatStr=timeFormatStr.replace("%B","%b")),timeFormatStr},EnglishRangeFormatter.prototype.format_range=function(earliestTime,latestTime){if(earliestTime&&!latestTime)return earliestTime.strftime(this.applyCustomOptions("since %l:%M:%S %p %B %e, %Y"));if(!earliestTime&&latestTime)return latestTime.strftime(this.applyCustomOptions("before %l:%M:%S %p %B %e, %Y"));if(!earliestTime||!latestTime)throw"Assertion failed. format_range expected defined values for both earliest and latest, but one or more was undefined.";var summary=this.get_summary_data(earliestTime,latestTime),formatStrings=this.get_format_strings(summary);return!summary.valuesHighestNonMinimalAt||"year"!=summary.valuesHighestNonMinimalAt&&"month"!=summary.valuesHighestNonMinimalAt&&"day"!=summary.valuesHighestNonMinimalAt||(latestTime=new Date(latestTime.getTime()),latestTime.setDate(latestTime.getDate()-1)),formatStrings.latest?earliestTime.strftime(this.applyCustomOptions(formatStrings.earliest))+latestTime.strftime(this.applyCustomOptions(formatStrings.latest)):earliestTime.strftime(this.applyCustomOptions(formatStrings.earliest))}},"views/shared/jobstatus/buttons/ExportResultsDialog":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("models/Base"),module,__webpack_require__("views/shared/Modal"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("uri/route"),__webpack_require__("util/pdf_utils"),__webpack_require__("util/validation"),__webpack_require__("util/splunkd_utils"),__webpack_require__("helpers/user_agent"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Base,module,Modal,ControlGroup,FlashMessagesV2,route,pdfUtils,validationUtils,splunkd_utils,userAgent,splunkUtil){return Modal.extend({moduleId:module.id,initialize:function(options){Modal.prototype.initialize.apply(this,arguments);var Inmem=Base.extend({defaults:{fileName:"",format:"csv",maxResults:"",maxRowsPerTable:"1000"},validation:{maxResults:{fn:"validateMaxResults"},maxRowsPerTable:{fn:"validatemaxRowsPerTable"},format:{fn:"validateFormat"}},validateMaxResults:function(value,attr,computedState){if("pdf"!==computedState.format&&!_.isEmpty(value)&&!validationUtils.isPositiveValidInteger(value))return _("The Number of Results field must be an integer greater than 0 or remain empty.").t()},validatemaxRowsPerTable:function(value,attr,computedState){if("pdf"===computedState.format&&!validationUtils.isPositiveValidInteger(value))return _("The Number of Results field must be an integer greater than 0.").t()},validateFormat:function(value,attr,computedState){if("pdf"===computedState.format&&(!options.model.report||options.model.report.isNew()))return _("Invalid format").t()}}),defaults={verifyJobExistsExport:!1,allowRawEventsExport:!0};_.defaults(this.options,defaults),this.title=_("Export Results").t(),this.model={searchJob:this.model.searchJob,application:this.model.application,report:this.model.report,reportPristine:this.model.reportPristine,inmem:new Inmem},this.children.flashMessage=new FlashMessagesV2({model:this.model.inmem}),this.deferredPdfAvailable=$.Deferred(),this.deferredInitializeFormat=$.Deferred(),this.usePanelType=options.usePanelType,this.resultTypeIsReport=this.usePanelType?"events"!==this.model.report.entry.content.get("display.general.type"):this.model.searchJob.isReportSearch(),this.model.report&&!this.model.report.isNew()?this.deferredPdfAvailable=pdfUtils.isPdfServiceAvailable():this.deferredPdfAvailable.resolve(!1),$.when(this.deferredPdfAvailable).then(function(available){var items=[{label:_("CSV").t(),value:"csv"},{label:_("XML").t(),value:"xml"},{label:_("JSON").t(),value:"json"}];!available||this.model.reportPristine&&this.model.report.isDirty(this.model.reportPristine)||items.unshift({label:_("PDF").t(),value:"pdf"}),!this.resultTypeIsReport&&this.options.allowRawEventsExport&&items.unshift({label:_("Raw Events").t(),value:"raw"}),this.children.formatControl=new ControlGroup({controlType:"SyntheticSelect",controlOptions:{modelAttribute:"format",model:this.model.inmem,items:items,save:!1,toggleClassName:"btn",labelPosition:"outside",elastic:!0,popdownOptions:{attachDialogTo:".modal:visible",scrollContainer:".modal:visible .modal-body:visible"}},label:_("Format").t()}),this.deferredInitializeFormat.resolve()}.bind(this)),this.children.filenameControl=new ControlGroup({controlType:"Text",controlOptions:{modelAttribute:"fileName",model:this.model.inmem,placeholder:_("optional").t()},label:_("File Name").t(),tooltip:_('If left blank, a file is created using the search job ID as the filename. The search job ID is the UNIX time when the search was run. For example "1463687468_7.csv".').t()}),this.children.maxResultsControl=new ControlGroup({controlType:"Text",controlOptions:{modelAttribute:"maxResults",model:this.model.inmem,placeholder:_("leave blank to export all results").t()},label:_("Number of Results").t()}),this.children.maxRowsPerTableControl=new ControlGroup({controlType:"Text",controlOptions:{modelAttribute:"maxRowsPerTable",model:this.model.inmem},label:_("Number of Results").t()}),this.model.inmem.on("change:format",this.toggleByFormat,this),this.model.inmem.on("validated",function(isValid,model,invalidResults){isValid&&(this.options.verifyJobExistsExport?this.model.searchJob.fetch({success:function(model,response){this.exportResults()}.bind(this),error:function(model,response){response.status==splunkd_utils.NOT_FOUND?(this.model.searchJob.trigger("jobStatus:notFound",{title:this.title}),this.hide()):this.exportResults()}.bind(this)}):this.exportResults())},this)},exportResults:function(){var format=this.model.inmem.get("format"),maxResults=_.isEmpty(this.model.inmem.get("maxResults"))?0:this.model.inmem.get("maxResults");if("pdf"===format){var orientationSuffix="",orientation=this.model.report.entry.content.get("action.email.reportPaperOrientation"),pageSize=this.model.report.entry.content.get("action.email.reportPaperSize")||"a2";"landscape"===orientation&&(orientationSuffix="-landscape"),pdfUtils.getRenderURL(this.model.report.entry.get("name"),this.model.report.entry.acl.get("app"),{sid:this.model.searchJob.id,"paper-size":pageSize+orientationSuffix,"max-rows-per-table":this.model.inmem.get("maxRowsPerTable")},"report").done(function(url){this.$el.removeClass("fade"),this.hide(),window.open(url)}.bind(this))}else window.location.href=route.exportUrl(this.model.application.get("root"),this.model.application.get("locale"),this.model.searchJob.get("id"),this.model.inmem.get("fileName"),this.model.inmem.get("format"),maxResults,this.resultTypeIsReport,{fields:this.options.fields}),this.hide()},events:$.extend({},Modal.prototype.events,{"click .btn-primary":function(e){this.model.inmem.validate(),e.preventDefault()}}),toggleByFormat:function(){"pdf"===this.model.inmem.get("format")?(this.children.filenameControl.$el.hide(),this.children.maxResultsControl.$el.hide(),this.children.maxRowsPerTableControl.$el.show(),this.$(".rerun-msg").hide()):(this.children.filenameControl.$el.show(),this.children.maxResultsControl.$el.show(),this.children.maxRowsPerTableControl.$el.hide(),this.$(".rerun-msg").show())},render:function(){$.when(this.deferredInitializeFormat).then(function(){if(this.$el.html(Modal.TEMPLATE),userAgent.isIE()&&this.$el.removeClass("fade"),this.$(Modal.HEADER_TITLE_SELECTOR).html(_("Export Results").t()),this.children.flashMessage.render().prependTo(this.$(Modal.BODY_SELECTOR)),this.$(Modal.BODY_SELECTOR).append(Modal.FORM_HORIZONTAL_JUSTIFIED),this.children.formatControl.render().appendTo(this.$(Modal.BODY_FORM_SELECTOR)),this.children.filenameControl.render().appendTo(this.$(Modal.BODY_FORM_SELECTOR)),this.children.maxResultsControl.render().appendTo(this.$(Modal.BODY_FORM_SELECTOR)),this.children.maxRowsPerTableControl.render().appendTo(this.$(Modal.BODY_FORM_SELECTOR)),this.toggleByFormat(),this.model.searchJob.searchWillReRun()){var learnMoreLink=route.docHelp(this.model.application.get("root"),this.model.application.get("locale"),"learnmore.search.export_results"),reRunMessage=splunkUtil.sprintf(_("Your search will rerun if the number of results is higher than %s. ").t(),splunkUtil.getCommaFormattedNumber(this.model.searchJob.entry.content.get("eventAvailableCount")));this.$(Modal.BODY_FORM_SELECTOR).append($(_.template(this.reRunMessageTemplate,{_:_,reRunMessage:reRunMessage,learnMoreLink:learnMoreLink,ariaLabel:reRunMessage+_("Click here to learn more").t()})))}return this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_CANCEL),this.$(Modal.FOOTER_SELECTOR).append('<a href="#" class="btn btn-primary modal-btn-primary">'+_("Export").t()+"</a>"),this}.bind(this))},reRunMessageTemplate:'<div class="rerun-msg">\t                <%- reRunMessage %>\t                <a href="<%- learnMoreLink %>" target="_blank" aria-label="<%-  ariaLabel %>">\t                    <%- _("Learn more").t() %>&nbsp;<i class="icon-external"></i>\t                </a>\t            </div>'})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"util/pdf_utils":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),__webpack_require__("shim/splunk.util"),__webpack_require__("util/console"),__webpack_require__("models/services/configs/AlertAction"),__webpack_require__("models/search/Job"),__webpack_require__("stubs/splunk.config")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,splunkUtil,console,AlertAction,Job,splunkConfig){function sendPDFEmail(view,app,to,options){var dfd=$.Deferred();return getEmailAlertSettings().done(function(emailSettings){to=to.split(/[,\s]+/).join(",");var commandParams={server:emailSettings.getSetting("mailserver","localhost"),use_ssl:emailSettings.getSetting("use_ssl","false"),use_tls:emailSettings.getSetting("use_tls","false"),to:to,cc:options.ccEmail,bcc:options.bccEmail,sendpdf:"True",from:emailSettings.getSetting("from","splunk@localhost"),subject:options.emailSubject,message:options.emailMessage,papersize:options.paperSize||"a2",paperorientation:options.paperOrientation||"portrait",pdfview:view,sendtestemail:options.sendTestEmail||"0"},searchString="| sendemail "+_(commandParams).map(function(v,k){return[k,JSON.stringify(v)].join("=")}).join(" ");console.log("Starting search %o",searchString);var job=new Job;job.save({},{data:{search:searchString,earliest_time:"0",latest_time:"now",app:app,namespace:app,owner:splunkConfig.USERNAME,ui_dispatch_app:app,ui_dispatch_view:view,preview:!1}}).done(_.bind(function(){job.startPolling(),job.entry.content.on("change:isDone",function(m,isDone){if(isDone){var messages=job.entry.content.get("messages");_(messages).each(function(msg){"ERROR"===msg.type&&console.error(msg.text)}),_(messages).any(function(msg){return"ERROR"===msg.type})?dfd.reject(_(messages).pluck("text")[0]):dfd.resolve(),_.defer(_.bind(job.destroy,job))}}),job.entry.content.on("change:isFailed",function(m,isFailed){isFailed&&dfd.reject(),_.defer(_.bind(job.destroy,job))}),job.on("error",function(){dfd.reject("Error creating search job"),_.defer(_.bind(job.destroy,job))})},this)).fail(_.bind(function(){console.log("Search creation fail",arguments)},this))}).fail(function(){dfd.reject()}),dfd.promise()}function encodeXMLForCustomEndpoint(xml){return xml.replace(/&/g,"&amp;").replace(/%/g,"&#37;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}var TYPE_PDFGEN="pdfgen",isPdfServiceAvailable=_.once(function(){var dfd=$.Deferred();return splunkConfig.PDFGEN_IS_AVAILABLE?dfd.resolve(!0,TYPE_PDFGEN):dfd.resolve(!1),dfd.promise()}),isPDFGenAvailable=function(){return splunkConfig.PDFGEN_IS_AVAILABLE},getEmailAlertSettings=_.once(function(){var dfd=$.Deferred(),emailAlertSettings=new AlertAction({id:"email"});return emailAlertSettings.fetch().done(function(){dfd.resolve(emailAlertSettings)}).fail(function(){dfd.reject()}),dfd.promise()}),downloadReportFromXML=function(xml,app,view,params){var baseURL=splunkUtil.make_full_url("splunkd/__raw/services/pdfgen/render"),form=$('<form method="POST" target="_blank"></form>').attr("action",baseURL);$("<input/>").attr({type:"hidden",name:"input-dashboard-xml",value:encodeXMLForCustomEndpoint(xml)}).appendTo(form),$("<input/>").attr({type:"hidden",name:"namespace",value:app}).appendTo(form),$("<input/>").attr({type:"hidden",name:"input-dashboard",value:view}).appendTo(form),$("<input/>").attr({type:"hidden",name:"splunk_form_key",value:splunkUtil.getFormKey()}).appendTo(form),$("<input/>").attr({type:"hidden",name:"locale",value:window._i18n_locale.locale_name}).appendTo(form),params&&_.each(params,function(v,k){$("<input/>").attr({type:"hidden",name:k,value:v}).appendTo(form)}),console.log("submitting form",form[0]),form.appendTo(document.body).submit(),_.defer(function(){form.remove()})},getRenderURL=function(view,app,params,viewType){var dfd=$.Deferred();return isPdfServiceAvailable().done(function(bool,type){var inputType=viewType?"input-"+viewType:"input-dashboard",data={namespace:app};data[inputType]=view,type===TYPE_PDFGEN?(params=_.extend(data,params||{}),dfd.resolve(splunkUtil.make_full_url("splunkd/__raw/services/pdfgen/render",params))):dfd.reject()}).fail(function(){dfd.reject()}),dfd.promise()};return{isPdfServiceAvailable:isPdfServiceAvailable,isPDFGenAvailable:isPDFGenAvailable,getRenderURL:getRenderURL,downloadReportFromXML:downloadReportFromXML,getEmailAlertSettings:getEmailAlertSettings,sendTestEmail:sendPDFEmail}}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/services/configs/AlertAction":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("models/SplunkDBase")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,Base){return Base.extend({urlRoot:"configs/conf-alert_actions",getSetting:function(key,defaultValue){return this.entry.content.has(key)?this.entry.content.get(key):defaultValue},initialize:function(){Base.prototype.initialize.apply(this,arguments)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"splunkjs/mvc/savedsearchmanager":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var SearchManager=__webpack_require__("splunkjs/mvc/searchmanager"),_=__webpack_require__("require/underscore"),console=__webpack_require__("util/console"),Messages=__webpack_require__("splunkjs/mvc/messages"),GeneralUtils=__webpack_require__("util/general_utils"),Report=__webpack_require__("models/search/Report"),Job=__webpack_require__("models/search/Job"),DispatchJob=__webpack_require__("models/search/DispatchJob"),utils=__webpack_require__("splunkjs/mvc/utils"),splunkDUtils=__webpack_require__("util/splunkd_utils"),splunkConfig=__webpack_require__("stubs/splunk.config"),TokenUtils=__webpack_require__("splunkjs/mvc/tokenutils"),DISPATCHABLE_PROPERTIES=DispatchJob.DISPATCHABLE_PROPERTIES,ENDPOINT_PROPERTIES={trigger_actions:!0},SavedSearchManager=SearchManager.extend({moduleId:module.id,defaults:{autostart:!0,cache:!1,cancelOnUnload:!0,enablePreview:!0,runWhenTimeIsUndefined:!0},handleAutostart:function(){return this.get("autostart")?this.on("change:searchname",this._debouncedStartSearch,this):this.off("change:searchname",this._debouncedStartSearch,this),SearchManager.prototype.handleAutostart.apply(this,arguments)},createManager:function(job){var tokenDependencies=this.settings.get("tokenDependencies",{tokens:!0});return TokenUtils.tokenDependenciesMet(tokenDependencies,this.registry)?void SearchManager.prototype.createManager.call(this,job):void this.trigger("search:error",Messages.resolve("unresolved-tokens").message)},startSearch:function(options){if("boolean"==typeof options||"refresh"===options?options={refresh:!!options}:options||(options={}),this._refresh=options.refresh,!this.get("searchname"))return void this.trigger("search:error",_("No saved search provided.").t());var cache=this.get("cache")||!1;"scheduled"!==cache&&(cache=_.isBoolean(cache)||GeneralUtils.isBooleanEquivalent(cache)?GeneralUtils.normalizeBoolean(cache)?-1:0:parseInt(cache,10)),_.isNaN(cache)&&(console.warn("Invalid value for cache setting: %o",this.get("cache")),cache=0);var threshold=cache<0?new Date(0).valueOf():(new Date).valueOf()-1e3*cache,tokenDependencies=this.settings.get("tokenDependencies",{tokens:!0});if(!TokenUtils.tokenDependenciesMet(tokenDependencies,this.registry))return void this.trigger("search:error",Messages.resolve("unresolved-tokens").message);var search=new Report;search.set("id",this.applyModelFullPathToName(search,this.get("searchname")));var that=this;return search.fetch({success:function(){that.settings.set("search",search.entry.content.get("search"),{silent:!0});var cacheDisabled=0===cache||"scheduled"===cache&&!search.entry.content.get("is_scheduled");return cacheDisabled?void that._startSearchWithNewJob(search):void("scheduled"===cache?search.getLatestHistoricJobId().then(function(sid){if(sid){var job=new Job;job.set(job.idAttribute,sid),job.fetch({success:function(){that._startSearchWithExistingJob(job)},error:function(){that._startSearchWithNewJob(search)}})}else that._startSearchWithNewJob(search)}).fail(function(){that._startSearchWithNewJob(search)}):search.fetchJobs({success:function(jobs){var matches=jobs.filter(function(potentialJob){var properties=potentialJob.entry.content,published=new Date(potentialJob.entry.get("published")).valueOf(),isRunningRealTimeSearch=properties.get("isRealTimeSearch")&&!properties.get("isDone");return published>threshold||isRunningRealTimeSearch});if(matches.length){var mostRecentJobMatch=_.max(matches,function(match){return new Date(match.entry.get("published"))});that._startSearchWithExistingJob(mostRecentJobMatch)}else that._startSearchWithNewJob(search)},error:function(){that._startSearchWithNewJob(search)}}))},error:function(model,response){var err=splunkDUtils.convertToSDKResponse(response);if(404===err.status){var message=_("Warning: saved search not found: ").t()+'"'+that.get("searchname")+'"';console.log(message),that.trigger("search:error",message,err)}else console.log("Error fetching saved searches"),that.trigger("search:error",_("Error fetching saved searches").t(),err)}}),this},_startSearchWithExistingJob:function(job){this.createManager(job)},_startSearchWithNewJob:function(search){var that=this,timeRangeIsUnresolved=void 0===this.settings.get("earliest_time",{tokens:!1})&&this.settings.get("earliest_time",{tokens:!0})||void 0===this.settings.get("latest_time",{tokens:!1})&&this.settings.get("latest_time",{tokens:!0});if(timeRangeIsUnresolved&&!this.settings.get("runWhenTimeIsUndefined"))return void this.trigger("search:error",Messages.resolve("unresolved-search").message);var dispatchJob=new DispatchJob,dispatchLink=search.entry.links.get("dispatch"),dispatchUrl=splunkDUtils.fullpath(dispatchLink);dispatchJob.save({},{url:dispatchUrl,data:this._createOptionsForSearchJob(),success:function(){that.createManager(dispatchJob)},error:function(model,response){var err=splunkDUtils.convertToSDKResponse(response);that.trigger("search:error",_("Error dispatching saved search.").t(),err)}})},_createOptionsForSearchJob:function(){return _.reduce(this.settings.toJSON(),function(accum,value,setting){return(_.has(DISPATCHABLE_PROPERTIES,setting)||_.has(ENDPOINT_PROPERTIES,setting))&&(accum[setting]=value),accum},{})},applyModelFullPathToName:function(model,name){return/^\/services.*/i.test(name)||(name=splunkDUtils.fullpath(model.url+"/"+encodeURIComponent(name),{app:this.settings.get("app")||utils.getCurrentApp(),owner:this.settings.get("owner")||splunkConfig.USERNAME})),name}});return SavedSearchManager}.call(exports,__webpack_require__,exports,module),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/search/DispatchJob":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),__webpack_require__("models/search/Job")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,JobModel){var DISPATCHABLE_PROPERTIES={status_buckets:!0,buckets:!0,earliest_time:!0,indexedRealtime:!0,latest_time:!0,enable_lookups:!0,lookups:!0,max_count:!0,max_time:!0,reduce_freq:!0,rt_backfill:!0,spawn_process:!0,time_format:!0,ttl:!0,auto_cancel:!0,auto_pause:!0,enablePreview:!0,adhoc_search_level:!0,workload_pool:!0,check_risky_command:!0,provenance:!0},DISPATCH_MAPPINGS={status_buckets:"buckets",enable_lookups:"lookups"},Model=JobModel.extend({getCreateOptions:function(options){var createOptions={processData:!0,data:{auto_cancel:Model.DEFAULT_AUTO_CANCEL,status_buckets:300,output_mode:"json"}};return options=options||{},$.extend(!0,createOptions,options),delete createOptions.data.app,delete createOptions.data.owner,delete createOptions.data.sharing,_.each(createOptions.data,function(val,key){_.has(DISPATCHABLE_PROPERTIES,key)&&(createOptions.data["dispatch."+(DISPATCH_MAPPINGS[key]||key)]=val,delete createOptions.data[key])}),createOptions}},{DISPATCHABLE_PROPERTIES:DISPATCHABLE_PROPERTIES,DISPATCH_MAPPINGS:DISPATCH_MAPPINGS});return Model}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"splunkjs/mvc/sharedmodels":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){function _getSharedModel(name){if(!_STORAGE.hasOwnProperty(name))throw new Error("There is no shared model '"+name+"'");return _STORAGE[name]}var $=__webpack_require__("shim/jquery"),_=__webpack_require__("require/underscore"),AppModel=__webpack_require__("models/shared/Application"),AppLocalModel=__webpack_require__("models/services/AppLocal"),UserModel=__webpack_require__("models/shared/User"),UserPrefModel=__webpack_require__("models/services/data/UserPrefGeneral"),TimeRangesCollection=__webpack_require__("collections/services/data/ui/Times"),utils=__webpack_require__("splunkjs/mvc/utils"),splunkConfig=__webpack_require__("stubs/splunk.config"),splunkd_utils=__webpack_require__("util/splunkd_utils"),ServerInfo=__webpack_require__("models/services/server/ServerInfo"),AppLocalCollection=__webpack_require__("collections/services/AppLocals"),PanelCollection=__webpack_require__("collections/services/data/ui/Panels"),DashboardCollection=__webpack_require__("collections/shared/Dashboards"),RolesCollection=__webpack_require__("collections/services/authorization/Roles"),TourCollection=__webpack_require__("collections/services/data/ui/Tours"),SearchBNFsCollection=__webpack_require__("collections/services/configs/SearchBNFs"),Reports=__webpack_require__("collections/search/Reports"),Visualizations=__webpack_require__("collections/services/configs/Visualizations"),Visualization=__webpack_require__("models/services/configs/Visualization"),console=__webpack_require__("util/console"),pageInfo=utils.getPageInfo(),createSharedModels=function(){var serverInfo=new ServerInfo;return"undefined"!=typeof __splunkd_partials__&&__splunkd_partials__["/services/server/info"]&&(serverInfo.setFromSplunkD(__splunkd_partials__["/services/server/info"]),serverInfo.set("id",ServerInfo.id)),{appLocal:{model:new AppLocalModel,fetch:_.memoize(function(){var appModel=_STORAGE.app.model,model=_STORAGE.appLocal.model,data={app:appModel.get("app"),owner:appModel.get("owner")},dfd=model.dfd=model.fetch({url:splunkd_utils.fullpath(model.url+"/"+encodeURIComponent(appModel.get("app"))),data:data});return model.fetchData.set(data,{silent:!0}),model.dfd=dfd,dfd})},user:{model:new UserModel({},{serverInfoModel:serverInfo}),fetch:_.memoize(function(){var appModel=_STORAGE.app.model,model=_STORAGE.user.model,serverInfoDfd=_STORAGE.serverInfo.fetch(),data={app:appModel.get("app"),owner:appModel.get("owner")},dfd=$.Deferred();return model.dfd=model.fetch({url:splunkd_utils.fullpath(model.url+"/"+encodeURIComponent(appModel.get("owner"))),data:data}),model.fetchData.set(data,{silent:!0}),$.when(serverInfoDfd,model.dfd).then(function(){dfd.resolve()}),dfd})},userPref:{model:new UserPrefModel,fetch:_.memoize(function(){var model=_STORAGE.userPref.model,dfd=model.dfd=model.fetch();return model.dfd=dfd,dfd})},times:{model:new TimeRangesCollection,fetch:_.memoize(function(){var appModel=_STORAGE.app.model,model=_STORAGE.times.model,data={app:appModel.get("app"),owner:appModel.get("owner"),count:-1},dfd=model.dfd=model.fetch({data:data});return model.fetchData.set(data,{silent:!0}),dfd})},app:{model:new AppModel({owner:splunkConfig.USERNAME,root:pageInfo.root,locale:pageInfo.locale,app:pageInfo.app,page:pageInfo.page}),fetch:function(){return $.Deferred().resolve(_STORAGE.app.model)}},serverInfo:{model:serverInfo,fetch:_.memoize(function(){var model=_STORAGE.serverInfo.model,dfd=model.dfd=model.fetch();return dfd})},appLocals:{model:new AppLocalCollection,fetch:_.memoize(function(){var appModel=_STORAGE.app.model,model=_STORAGE.appLocals.model,data={sort_key:"name",sort_dir:"desc",app:"-",owner:appModel.get("owner"),search:"visible=true AND disabled=0 AND name!=launcher",count:-1};model.fetchData.set(data,{silent:!0});var unfiltered=_STORAGE.appLocalsUnfiltered,dfd=unfiltered.fetch().then(function(){model.set(unfiltered.model.models),model.removeLauncherApp(),model.trigger("sync",model,null,null)});return model.dfd=dfd,dfd})},appLocalsUnfiltered:{model:new AppLocalCollection,fetch:_.memoize(function(){var appModel=_STORAGE.app.model,model=_STORAGE.appLocalsUnfiltered.model,data={sort_key:"name",sort_dir:"desc",app:"-",owner:appModel.get("owner"),search:"visible=true AND disabled=0",count:-1};model.fetchData.set(data,{silent:!0});var unfilteredAll=_STORAGE.appLocalsUnfilteredAll,dfd=unfilteredAll.fetch().then(function(){model.set(unfilteredAll.model.listVisibleApps()),model.trigger("sync",model,null,null)});return model.dfd=dfd,dfd})},appLocalsUnfilteredAll:{model:new AppLocalCollection,fetch:_.memoize(function(){var appModel=_STORAGE.app.model,model=_STORAGE.appLocalsUnfilteredAll.model,data={sort_key:"name",sort_dir:"desc",app:"-",owner:appModel.get("owner"),search:"disabled=0",count:-1},dfd=model.fetch({data:data});return model.fetchData.set(data,{silent:!0}),model.dfd=dfd,dfd})},visualizations:{model:new Visualizations,fetch:_.memoize(function(){var appLocals=_STORAGE.appLocalsUnfilteredAll,appModel=_STORAGE.app.model,model=_STORAGE.visualizations.model,dfd=model.dfd=$.Deferred();return appLocals.fetch().then(function(){model.fetch({includeFormatter:!1,appLocalsCollection:appLocals.model,data:_.extend({search:Visualization.ENABLED_FILTER,count:0},appModel.pick("app","owner"))}).then(dfd.resolve,dfd.reject)}),dfd})},panels:{model:new PanelCollection,fetch:_.memoize(function(){var model=_STORAGE.panels.model,appModel=_STORAGE.app.model,data={sort_key:"panel.title",app:appModel.get("app"),count:10},dfd=model.dfd=model.fetch({data:data});return model.fetchData.set(data,{silent:!0}),model.original_count=this.model.fetchData.get("count"),dfd})},dashboards:{model:new DashboardCollection,fetch:_.memoize(function(){var model=_STORAGE.dashboards.model,appModel=_STORAGE.app.model,data={sort_key:"label",app:appModel.get("app"),search:'eai:type="views" AND (eai:data="*<dashboard*" OR eai:data="*<form*")',count:10},dfd=model.dfd=model.fetch({data:data});return model.fetchData.set(data,{silent:!0}),model.original_count=this.model.fetchData.get("count"),dfd})},roles:{model:new RolesCollection,fetch:_.memoize(function(){return _STORAGE.roles.model.fetch()})},tours:{model:new TourCollection,fetch:_.memoize(function(){var appModel=_STORAGE.app.model,collection=_STORAGE.tours.model,dfd=collection.dfd=collection.fetch({data:{app:appModel.get("app"),owner:appModel.get("owner"),count:-1}});return dfd})},reports:{model:new Reports,fetch:_.memoize(function(){var model=_STORAGE.reports.model,appModel=_STORAGE.app.model,data={app:appModel.get("app"),owner:appModel.get("owner"),search:"is_visible=1 AND disabled=0",count:10},dfd=model.dfd=model.fetch({data:data});return model.fetchData.set(data,{silent:!0}),model.original_count=this.model.fetchData.get("count"),dfd})},searchBNFs:{model:new SearchBNFsCollection,fetch:_.memoize(function(){var model=_STORAGE.searchBNFs.model,dfd=model.dfd=$.Deferred();return $.when(model.fetch({data:{count:0},parseSyntax:!0})).always(function(){model.dfd.resolve()}),dfd})}}},_STORAGE=createSharedModels();return{get:function(name){var ct=_getSharedModel(name,!0);return ct.fetch(),ct.model},load:function(name){return _getSharedModel(name).fetch()},_setAppOwner:function(name){this.get("app").set("owner",name)},_clear:function(){_STORAGE=createSharedModels()},_prepopulate:function(content){_(content).each(function(data,name){if(!data.model)return void console.error("Prepopulated shared model is null!",name,data);var sharedModel={model:data.model};data.dfd&&(data.model.dfd=data.model.dfd||data.dfd,sharedModel.fetch=function(){return data.dfd.promise()}),_STORAGE[name]=_.extend({},_STORAGE[name],sharedModel)})}}}.call(exports,__webpack_require__,exports,module),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"collections/services/data/ui/Times":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("util/general_utils"),__webpack_require__("models/services/data/ui/Time"),__webpack_require__("collections/SplunkDsBase")],__WEBPACK_AMD_DEFINE_RESULT__=function(Utils,TimeModel,SplunkDsBaseCollection){var TimesCollection=SplunkDsBaseCollection.extend({url:"data/ui/times",model:TimeModel,initialize:function(){SplunkDsBaseCollection.prototype.initialize.apply(this,arguments)},filterToRealTime:function(type){return this.filter(function(model){return model.isRealTime()})},filterToPeriod:function(type){return this.filter(function(model){return model.isPeriod()})},filterToLast:function(type){return this.filter(function(model){return model.isLast()})},filterToOther:function(type){return this.filter(function(model){return model.isOther()})},comparator:function(model){return parseInt(model.entry.content.get("order"),10)||Number.MAX_VALUE},getSettings:function(){return this.filter(function(model){return model.isSettings()}).map(function(model){return{showAdvanced:Utils.normalizeBoolean(model.entry.content.get("show_advanced")),showDate:Utils.normalizeBoolean(model.entry.content.get("show_date_range")),showDateTime:Utils.normalizeBoolean(model.entry.content.get("show_datetime_range")),showPresets:Utils.normalizeBoolean(model.entry.content.get("show_presets")),showRealtime:Utils.normalizeBoolean(model.entry.content.get("show_realtime")),
showRelative:Utils.normalizeBoolean(model.entry.content.get("show_relative"))}})[0]}});return TimesCollection}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/services/data/ui/Time":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("shim/splunk.util"),__webpack_require__("models/SplunkDBase"),__webpack_require__("util/time")],__WEBPACK_AMD_DEFINE_RESULT__=function($,splunkutil,SplunkDBaseModel,time_utils){return SplunkDBaseModel.extend({url:"data/ui/times",initialize:function(){SplunkDBaseModel.prototype.initialize.apply(this,arguments)},hasTimeRange:function(){return!this.isDisabled()&&(void 0!==this.entry.content.get("earliest_time")||void 0!==this.entry.content.get("latest_time"))},isRealTime:function(){return!this.isDisabled()&&time_utils.isRealtime(this.entry.content.get("latest_time"))},isPeriod:function(){if(this.isDisabled())return!1;var earliest=this.entry.content.get("earliest_time"),latest=this.entry.content.get("latest_time");return!(!earliest||earliest.indexOf("@")==-1||0==earliest.indexOf("-"))||!(!earliest||!latest||earliest.indexOf("@")==-1||latest.indexOf("@")==-1)},isLast:function(){if(this.isDisabled())return!1;if(this.isPeriod())return!1;var earliest=this.entry.content.get("earliest_time");return!!earliest&&0==earliest.indexOf("-")},isOther:function(){return!this.isDisabled()&&(!this.isRealTime()&&!this.isPeriod()&&!this.isLast()&&this.hasTimeRange())},isDisabled:function(){return this.entry.content.get("disabled")},isSettings:function(){return"settings"===this.entry.get("name")||"settings"===this.entry.content.get("name")}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"collections/services/data/ui/Panels":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/backbone"),__webpack_require__("models/services/data/ui/Panel"),__webpack_require__("collections/SplunkDsBase")],__WEBPACK_AMD_DEFINE_RESULT__=function($,Backbone,PanelModel,SplunkDsBaseCollection){return SplunkDsBaseCollection.extend({url:"data/ui/panels",model:PanelModel,initialize:function(){SplunkDsBaseCollection.prototype.initialize.apply(this,arguments)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/services/data/ui/Panel":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("shim/splunk.util"),__webpack_require__("models/SplunkDBase"),__webpack_require__("require/underscore"),__webpack_require__("util/xml")],__WEBPACK_AMD_DEFINE_RESULT__=function($,splunkutil,SplunkDBaseModel,_,XML){var PanelModel=SplunkDBaseModel.extend({url:"data/ui/panels",initialize:function(){SplunkDBaseModel.prototype.initialize.apply(this,arguments)},get$XML:function(){var data=this.entry.content.get("eai:data")||"<panel />",doc=XML.parse(data);return doc.find("script").remove(),doc},set$XML:function($xml){var xmlStr=XML.serializeDashboardXML($xml);this.entry.content.set("eai:data",xmlStr)},getElementNodes:function(){var panelNode=XML.root(this.get$XML());if(panelNode.is("panel"))return PanelModel.getPanelElementNodes(panelNode)},getInputNodes:function(){var panelNode=XML.root(this.get$XML());if(panelNode.is("panel"))return PanelModel.getPanelInputNodes(panelNode)}},{getPanelElementNodes:function(panelNode){return $(panelNode).children("table,chart,event,single,list,map,html,viz")},getPanelInputNodes:function(panelNode){return $(panelNode).children("input")}});return PanelModel}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"splunkjs/mvc/postprocessmanager":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){function mergeSearch(base,sub){return sub?[base.replace(/[\|\s]$/g,""),sub.replace(/^[\|\s]/g,"")].join(" | "):base}var _=__webpack_require__("require/underscore"),mvc=__webpack_require__("splunkjs/mvc/mvc"),BaseManager=(__webpack_require__("splunkjs/mvc/utils"),__webpack_require__("splunkjs/mvc/basemanager")),SearchModels=__webpack_require__("splunkjs/mvc/searchmodel"),SplunkResultsModel=__webpack_require__("splunkjs/mvc/splunkresultsmodel"),Messages=__webpack_require__("splunkjs/mvc/messages"),console=__webpack_require__("util/console"),common_algorithms=__webpack_require__("util/common_algorithms"),SplunkUtil=__webpack_require__("shim/splunk.util"),TokenUtils=__webpack_require__("splunkjs/mvc/tokenutils"),PostProcessResultsModel=SplunkResultsModel.extend({_requestOptions:function(){var options=SplunkResultsModel.prototype._requestOptions.call(this),manager=this.get("manager"),postProcessSearch=manager.settings.postProcessResolve();return postProcessSearch&&(options.search=mergeSearch(postProcessSearch,options.search)),options}}),PostProcessSearchSettingsModel=SearchModels.SearchQuery.extend({resolve:function(options){if(options||(options={}),this.isResolved()||options.tokens===!0){var parentSearch;if(this._manager.parent&&(parentSearch=this._manager.parent.settings.resolve(options)),void 0!==parentSearch){var thisSearch=SearchModels.SearchQuery.prototype.resolve.call(this,_.defaults({qualified:!1},options));return this.get("replaceTabsInSearch")&&(parentSearch=parentSearch.replace(/\t/g," "),thisSearch&&(thisSearch=thisSearch.replace(/\t/g," "))),mergeSearch(parentSearch,thisSearch)}}},postProcessResolve:function(options){var thisSearch=SearchModels.SearchQuery.prototype.resolve.apply(this,arguments);if(thisSearch&&this.get("replaceTabsInSearch")&&(thisSearch=thisSearch.replace(/\t/g," ")),!options||options.mergeParentsSearch!==!1){var pm=this._manager.parent;if(pm instanceof PostProcessSearchManager){var ps=pm.settings,parentSearch=ps.postProcessResolve.apply(ps,arguments);return mergeSearch(parentSearch,thisSearch)}}return thisSearch},isResolved:function(){var resolvedSearch=SearchModels.SearchQuery.prototype.resolve.apply(this,arguments),tokens=this.get("search",{tokens:!0}),tokenDependencies=this.get("tokenDependencies",{tokens:!0});return(void 0!==resolvedSearch||void 0===tokens)&&TokenUtils.tokenDependenciesMet(tokenDependencies,this._tokenRegistry)}}),PostProcessSearchManager=BaseManager.extend({moduleId:module.id,defaults:{managerid:null,replaceTabsInSearch:!1,search:""},constructor:function(attributes,options){return attributes=attributes||{},options=options||{},attributes.search=attributes.postProcess||attributes.search,this.settings=new PostProcessSearchSettingsModel({},_.extend({},options,{_tokenRegistry:options.registry||mvc.Components})),this.settings._manager=this,this.query=this.settings,BaseManager.prototype.constructor.apply(this,arguments)},initialize:function(attrs,options){attrs=attrs||{},options=options||{},this.set("data",{}),this.settings.on("change",this._handleSettingsChange,this),this.settings.on("change:status_buckets",this._applyStatusBucketsToParent,this),this.settings.on("change:search",this.startSearch,this),this.on("all",function(evt){0===evt.indexOf("search:")&&(this._lastSearchEvent=[evt,Array.prototype.slice.call(arguments,1)])},this);var managerid=attrs.managerid||attrs.manager;this.registry.bind("change:"+managerid,this.onManagerChange,this),this.registry.has(managerid)&&this.onManagerChange(this.registry,this.registry.get(managerid))},_validateParent:function(newParent){var oldParent;return newParent&&(oldParent=this.parent,this.parent=newParent),common_algorithms.findCycleInLinkedList(this,"parent","id")?(oldParent&&(this.parent=oldParent),SplunkUtil.sprintf(_("Circular post-process detected: manager id %s, parent id %s").t(),this.id,newParent.id)):null},set:function(key,value,options){var attrs;_.isObject(key)&&!_.isArray(key)||null===key?(attrs=key,options=value):(attrs={},attrs[key]=value),this.settings.set(attrs,options),BaseManager.prototype.set.call(this,attrs,options)},_handleSettingsChange:function(){var managerPropertiesChanged=_.omit(this.settings.changed,SearchModels.SearchSettingsModel.ALLOWED_ATTRIBUTES);BaseManager.prototype.set.call(this,managerPropertiesChanged)},_applyStatusBucketsToParent:function(){var statusBuckets=this.settings.get("status_buckets");statusBuckets&&this.parent&&!this.parent.settings.get("status_buckets")&&this.parent.settings.set("status_buckets",statusBuckets)},getJobResponse:function(){return this.parent&&this.parent.getJobResponse()},hasJob:function(){return!!this.parent&&this.parent.hasJob()},getSid:function(){return this.parent&&this.parent.getSid()},startSearch:function(){var response=this.getJobResponse();if(response){var jobData=response.entry[0],mockSdkJob=this.parent._job&&this.parent._sdkJobFromCoreJob(this.parent._job);this._onSearchStart(jobData,mockSdkJob),this._onSearchTick("search:progress",jobData,mockSdkJob),jobData.content.isDone&&this._onSearchTick("search:done",jobData,mockSdkJob)}},isRefresh:function(){return this.parent.isRefresh()},onManagerChange:function(x,ctx){if(this.parent&&(this.parent.off(null,null,this),delete this.job),ctx){var message=this._validateParent(ctx);if(message)return this.trigger("search:error",message),void(this.parent=null);this.parent=ctx,this._applyStatusBucketsToParent(),this._countData=this.data("preview",{autofetch:!1,output_mode:"json",search:"stats count"}),this._countData.on("error",_.partial(this.trigger,"search:error"),this),this.search=this.parent.search,ctx.on("search:start",this._onSearchStart,this),ctx.on("search:progress",_.partial(this._onSearchTick,"search:progress"),this),ctx.on("search:done",_.partial(this._onSearchTick,"search:done"),this),ctx.on("search:cancelled",_.partial(this.trigger,"search:cancelled"),this),ctx.on("search:fail",_.partial(this.trigger,"search:fail"),this),ctx.on("search:error",_.partial(this.trigger,"search:error"),this),ctx.replayLastSearchEvent(this)}},get:function(){var setting=this.settings.get.apply(this.settings,arguments);return void 0===setting&&this.parent&&(setting=this.parent.get.apply(this.parent,arguments)),setting},_onSearchStart:function(jobData,mockSdkJob){if(Object.defineProperty(this,"job",{get:function(){return console.warn("PostProcessManager#job has been deprecated and will be removed in a future release."),mockSdkJob}.bind(this),configurable:!0}),this.settings.isResolved())this.trigger("search:start",jobData,mockSdkJob);else{var tokenDependencies=this.settings.get("tokenDependencies",{tokens:!0});TokenUtils.tokenDependenciesMet(tokenDependencies,this.registry)?this.trigger("search:error",Messages.resolve("unresolved-search").message):this.trigger("search:error",Messages.resolve("unresolved-tokens").message)}},_onSearchTick:function(eventName,properties,mockSdkJob){if(this.settings.isResolved()){properties=_.clone(properties||{});var content=properties.content=_.clone(properties.content||{}),that=(content.resultPreviewCount||0,this),trigger=function(){that.trigger(eventName,properties,mockSdkJob),"search:done"!==eventName&&"search:progress"!==eventName||(that.unset("data",{silent:!0}),that.set("data",properties.content))};this._countData.fetch({success:function(){var count=0;if(that._countData.hasData()){var data=that._countData.data();count=parseInt(data.results[0].count,10)}content.resultPreviewCount=count,content.resultCount=count,trigger()}})}},data:function(source,args){if(!source)throw new Error("Cannot get a results model without specifying the source.");return args=_.defaults({manager:this,source:source},args),new PostProcessResultsModel(args)},replayLastSearchEvent:function(listener){var replayed=!1;if(this._lastSearchEvent){var lastSearchEvent=this._lastSearchEvent,evtName=lastSearchEvent[0],listenerObj=_(this._events[evtName]).find(function(attachedListener){return attachedListener.ctx===listener});if(listenerObj){var args=lastSearchEvent[1];replayed=!0,listenerObj.callback.apply(listener,args)}}return replayed}});return PostProcessSearchManager}.call(exports,__webpack_require__,exports,module),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"util/common_algorithms":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore")],__WEBPACK_AMD_DEFINE_RESULT__=function(_){function result(obj,attr){return _.isFunction(attr)?attr(obj):_.result(obj,attr)}return{findCycleInLinkedList:function(head,next,id){for(var slow=head,fast=head;;){if(slow=result(slow,next),!result(fast,next))return!1;if(fast=result(result(fast,next),next),!slow||!fast)return!1;if(slow===fast)return!0;if(id&&result(slow,id)===result(fast,id))return!0}}}}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/monitoringconsole/splunk_health_check/Results.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(848);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(264)(content,{});content.locals&&(module.exports=content.locals)},"views/monitoringconsole/splunk_health_check/InfoDialog":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("views/monitoringconsole/splunk_health_check/Results"),__webpack_require__("views/monitoringconsole/splunk_health_check/TaskInfo"),__webpack_require__("views/shared/Modal"),__webpack_require__("views/monitoringconsole/splunk_health_check/InfoDialog.pcss")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,ResultsView,TaskInfoView,Modal,css){return Modal.extend({moduleId:module.id,className:Modal.CLASS_NAME+" info-dialog-modal modal-extra-wide",render:function(){var title="";return this.model.task&&(title=this.model.task.getTitle()),this.$el.html(Modal.TEMPLATE),this.$(Modal.HEADER_TITLE_SELECTOR).html(_.escape(title)),this.$(Modal.BODY_SELECTOR).show(),this.$(Modal.BODY_SELECTOR).append(Modal.FORM_HORIZONTAL),this.model.task&&(this.children.taskInfo=new TaskInfoView({model:this.model}),this.$(Modal.BODY_FORM_SELECTOR).append(this.children.taskInfo.render().$el),this.children.results=new ResultsView({model:this.model,showExpand:!1}),this.$(Modal.BODY_FORM_SELECTOR).append(this.children.results.render().$el)),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_CLOSE),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/monitoringconsole/splunk_health_check/TaskInfo":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/monitoringconsole/splunk_health_check/utils"),__webpack_require__(849),__webpack_require__("uri/route"),__webpack_require__("shim/splunk.util"),__webpack_require__("views/monitoringconsole/splunk_health_check/TaskInfo.pcss")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseView,utils,Template,route,splunkUtils,css){return BaseView.extend({moduleId:module.id,template:Template,className:"task-info",initialize:function(){BaseView.prototype.initialize.apply(this,arguments)},render:function(){var description="",message="",suggestedAction="",docLinks=[],docTitles=[];if(this.model.task)if(description=this.model.task.getDesc(),this.model.task.isDone())if(this.model.task.getSeverityLevel()){message=this.model.task.getFailText(),this.model.task.getSeverityLevel()==-1&&(message=utils.TASK_NOT_APPLICABLE),suggestedAction=this.model.task.getSuggestedAction();var root=this.model.application.get("root"),locale=this.model.application.get("locale");if(this.model.task.getDocLink())for(var docs=this.model.task.getDocLink().split(","),i=0;i<docs.length;i++)docLinks.push(route.docHelp(root,locale,docs[i].trim()));if(this.model.task.getDocTitle()){var titles=this.model.task.getDocTitle().split(",");for(i=0;i<titles.length;i++)docTitles.push(splunkUtils.sprintf(_("Learn more about %s").t(),titles[i].trim()))}}else{message=utils.TASK_COMPLETE_SUCCESS;var two_d=this.model.task.getResult().raw.rows,severity_level_array=two_d.map(function(value,index){return value[5]});severity_level_array.indexOf("-1")>=0&&(message=utils.TASK_INCLUDE_SUCCESS_AND_NA)}else message=utils.TASK_NOT_COMPLETE_YET;return this.$el.html(this.compiledTemplate({description:description,message:message,suggestedAction:suggestedAction,docLinks:docLinks,docTitles:docTitles})),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/monitoringconsole/splunk_health_check/Sidebar.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(852);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(264)(content,{});content.locals&&(module.exports=content.locals)},"views/monitoringconsole/splunk_health_check/TaskInfo.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(850);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(264)(content,{});content.locals&&(module.exports=content.locals)},846:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(262)(),exports.push([module.id,".monitoringconsole-splunkhealthcheck-scope .standalone-instance{display:inline-block;padding-right:10px}.monitoringconsole-splunkhealthcheck-scope .scope-filter{display:-ms-flexbox;display:flex;padding-top:10px}.monitoringconsole-splunkhealthcheck-scope .scope-filter .control-group{display:inline-block;float:left;margin-right:10px}.monitoringconsole-splunkhealthcheck-scope .scope-filter .control-group .control-label{float:left}.monitoringconsole-splunkhealthcheck-scope .scope-filter .control-group .controls-block{margin-left:10px}.monitoringconsole-splunkhealthcheck-scope .scope-filter .control-group .controls-block .uneditable-input{min-width:200px}",""])},847:function(module,exports){module.exports='<div class="check-result-header">\n  <div class="instance-count" ><%= instanceCount %></div>\n  <% if (showExpand) { %>\n    <a class="expand-results pull-right btn-pill tooltip-link" href="#" title="<%- _("Expand").t() %>" data-check-item-id="<%= taskId %>"><i class="icon-fullscreen"></i></a>\n  <% } %>\n</div>\n<div class="check-result-table">\n  <table class="table table-chrome">\n    <thead>\n    <tr>\n      <th><%= _("severity").t() %></th>\n      <% fields.forEach(function(field, i) { %>\n        <% if (i !== sevLvlIdx ) { %>\n          <th><%= field %></th>\n        <% } %>\n      <% }) %>\n    </tr>\n    </thead>\n    <tbody>\n    <% rows.forEach(function(row) { %>\n    <% var severityLevel = (!_.isUndefined(row[sevLvlIdx]) && !_.isNull(row[sevLvlIdx])) ? row[sevLvlIdx] : -1; %>\n    <tr class="drilldown-result">\n      <td><span class="status-icon <%= SEVERITY_LEVEL_ICON_CLASS_NAME[severityLevel].icon %> tooltip-link" rel="tooltip" data-title="<%= SEVERITY_LEVEL_ICON_CLASS_NAME[severityLevel].tooltip %>" style="display: inline;" /></span></td>\n      <% row.forEach(function(value, i) { %>\n        <% if (i !== sevLvlIdx ) { %>\n          <% if (i === idIndex) { %>\n            <td><a href="<%= createDrilldown(app, drilldown, row[idIndex]) %>" target="_blank"><%= renderMVField(value) %></a></td>\n          <% } else { %>\n            <td><%= renderMVField(value) %></td>\n          <% } %>\n        <% } %>\n      <% }) %>\n    </tr>\n    <% }) %>\n    </tbody>\n  </table>\n</div>'},848:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(262)(),exports.push([module.id,".check-result-header{display:inline;line-height:27px}.check-result-header .instance-count{display:inline;font-weight:700}.check-result-header .expand-results{display:inline}.check-result-table{width:100%;max-height:300px;overflow-y:auto;overflow-x:visible;border-left:1px solid #c3cbd4;border-right:1px solid #c3cbd4;border-radius:2px}.table-chrome{margin-bottom:0}.check-result{margin-bottom:10px;width:460px;padding-left:15px;margin-right:15px}",""])},849:function(module,exports){module.exports='<% if (description) { %>\n\t<div class="task-info-section task-info-desc">\n\t\t<div class="task-info-heading"><%= _("Description").t() %></div>\n\t\t<p><%= _.escape(_(description).t()).replace(/[\\r\\n]/g, "<br />") %></p>\n\t</div>\n<% } %>\n<% if (message) { %>\n\t<div class="task-info-section task-info-message">\n\t\t<div class="task-info-heading"><%= _("Message").t() %></div>\n\t\t<p><%= _.escape(_(message).t()).replace(/[\\r\\n]/g, "<br />") %></p>\n\t</div>\n<% } %>\n<% if (suggestedAction) { %>\n\t<div class="task-info-section task-info-sugg-action">\n\t\t<div class="task-info-heading"><%= _("Suggested Action").t() %></div>\n\t\t<p><%= _.escape(_(suggestedAction).t()).replace(/[\\r\\n]/g, "<br />") %></p>\n\t</div>\n<% } %>\n<% if (docLinks.length) { %>\n\t<div class="task-info-section task-info-links">\n\t\t<div class="task-info-heading"><%= _("Links").t() %></div>\n\t\t<% for (var i = 0; i < docLinks.length && i < docTitles.length; i++) { %>\n\t\t\t<p><a class="results-doc-link-<%= i %>" href="<%= docLinks[i] %>" target="_blank"><%= docTitles[i] %> <i class="icon-external"></i></a></p>\n\t\t<% } %>\n\t</div>\n<% } %>\n'},850:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(262)(),exports.push([module.id,".task-info{padding-left:15px;padding-right:15px}.task-info .task-info-section{padding-bottom:10px}.task-info .task-info-section .task-info-heading{font-weight:700}",""])},851:function(module,exports){module.exports='<div class="btn-pill close pull-right"></div>\n<h3 class="section-title task-title"><%- _(title).t() %></h3>\n<div class="sidebar-info">\n\t<div class="task-info-section"></div>\n\t<div class="task-info-results"></div>\n</div>\n'},852:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(262)(),exports.push([module.id,".sidebar{min-height:450px}.sidebar .close{padding-right:10px;padding-left:10px;margin-top:10px}.sidebar .task-title{padding-left:10px;padding-top:15px;padding-bottom:10px;margin-top:0}",""])},853:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(262)(),exports.push([module.id,".info-dialog-modal .form-horizontal{width:100%;padding-right:30px}.info-dialog-modal .check-result{width:100%}.info-dialog-modal .check-result-table{width:100%;max-height:none}.modal-extra-wide{width:calc(100vw - 100px);margin-left:calc(-50vw + 50px)}",""])},854:function(module,exports){module.exports='<div class="section-padded section-header">\n\t<div class="title-section progress-action-section pull-right">\n\t \t<div class="action-module"></div>\n\t \t<div class="progress-bar-module"></div>\n \t</div>\n \t<h2 class="section-title"><%= _(\'Health Check\').t() %></h2>\n \t<div class="section-description">\n \t\t<%- description %>\n \t\t<a href="<%- healthCheckContentLink %>" target="_blank"><%= _(\'Health Check Items\').t() %> <i class="icon-external"></i></a>\n \t</div>\n \t<div class="title-section health-check-scope form-horizontal align-left"></div>\n</div>\n<div class="health-check-filters-container"></div>\n<div class="splunk-health-check-container">\n\t<div class="health-check-sidebar-display"></div>\n\t<div class="health-check-table-display"></div>\n</div>'},855:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(262)(),exports.push([module.id,".title-icon{padding-right:10px}.splunk-health-check-container{min-height:450px;padding-right:500px;background-color:#fff;clear:both}.splunk-health-check-container .health-check-table-display{height:100%;width:100%;display:block}.splunk-health-check-container .health-check-sidebar-display{float:right;height:100%;width:500px;position:relative;margin-right:-500px;border-top:1px solid #c3cbd4;border-radius:2px;background-color:#fff}.section-description{width:55%}.section-description a{white-space:nowrap}.title-section{display:inline-block;vertical-align:middle}.health-check-scope{padding-top:10px}.progress-action-section{padding-bottom:10px}.progress-action-section .action-module{float:right}.progress-action-section .progress-bar-module{padding-top:10px;width:475px;clear:right}.highlighted{background-color:rgba(30,147,198,.1)!important}",""])}});